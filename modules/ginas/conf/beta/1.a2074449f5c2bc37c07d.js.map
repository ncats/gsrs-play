{"version":3,"sources":["./src/app/core/substance-form/domain-references/domain-references.component.ts","./src/app/core/substance-form/domain-references/domain-references.component.ts.pre-build-optimizer.js","./src/app/core/substance-form/domain-references/domain-references.component.scss.shim.ngstyle.js.pre-build-optimizer.js","./src/app/core/substance-form/domain-references/domain-references.component.ngfactory.js.pre-build-optimizer.js","./src/app/core/substance-form/domain-references/domain-references.component.html","./src/app/core/substance-form/substance-form-base.ts"],"names":["cvService","substanceFormService","dialog","element","utilsService","overlayContainerService","canReuse","references","documentTypesDictionary","displayedColumns","isExpanded","subscriptions","ngOnInit","this","getVocabularies","referencesSubscription","substanceReferences","subscribe","length","filter","reference","$$deletedCode","loadReferences","push","overlayContainer","getContainerElement","ngOnDestroy","forEach","subscription","unsubscribe","get","domainReferenceUuids","set","referencesUuids","enumerable","configurable","dictionarySubscription","getDomainVocabulary","response","dictionary","uuid","substanceReference","find","tableData","addNewReference","dialogRef","open","data","tags","access","width","style","zIndex","dialogSubscription","afterClosed","newReference","addSubstanceReference","setTimeout","addDomainReference","openExistingReferenceForm","updatedReference","indexOf","unshift","reuseExistingReference","domainRefereceUuids","updateDomainReferences","referenceUuids","removeDomainReference","referenceUuidIndex","splice","substanceReferenceIndex","findIndex","deleteReference","newUUID","emitReferencesUpdate","panelOpened","event","Event","bubbles","cancelable","nativeElement","dispatchEvent","panelClosed","RenderType_DomainReferencesComponent","encapsulation","styles","View_DomainReferencesComponent_2","_l","ad","_v","show","en","_handleKeydown","$event","_handleTouchend","_co","stopPropagation","View_DomainReferencesComponent_1","View_DomainReferencesComponent_4","View_DomainReferencesComponent_5","View_DomainReferencesComponent_6","View_DomainReferencesComponent_8","View_DomainReferencesComponent_9","View_DomainReferencesComponent_7","View_DomainReferencesComponent_10","View_DomainReferencesComponent_11","View_DomainReferencesComponent_12","View_DomainReferencesComponent_14","View_DomainReferencesComponent_17","View_DomainReferencesComponent_16","View_DomainReferencesComponent_15","View_DomainReferencesComponent_13","View_DomainReferencesComponent_18","View_DomainReferencesComponent_19","context","$implicit","View_DomainReferencesComponent_20","View_DomainReferencesComponent_21","View_DomainReferencesComponent_22","View_DomainReferencesComponent_24","_haltDisabledEvents","message","View_DomainReferencesComponent_23","View_DomainReferencesComponent_25","View_DomainReferencesComponent_26","View_DomainReferencesComponent_27","View_DomainReferencesComponent_28","View_DomainReferencesComponent_29","View_DomainReferencesComponent_30","View_DomainReferencesComponent_3","View_DomainReferencesComponent_0","_toggle","_keydown","_animationStarted","collapsedHeight","expandedHeight","value","params","menuLabelUpdate","hiddenStateUpdate","canAddItemUpdate","componentDestroyed"],"mappings":"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","file":"1.a2074449f5c2bc37c07d.js","sourcesContent":["import { Component, OnInit, Input, ElementRef, OnDestroy } from '@angular/core';\r\nimport { SubstanceReference } from '../../substance/substance.model';\r\nimport { SubstanceFormService } from '../substance-form.service';\r\nimport { ControlledVocabularyService } from '../../controlled-vocabulary/controlled-vocabulary.service';\r\nimport { VocabularyTerm } from '../../controlled-vocabulary/vocabulary.model';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { RefernceFormDialogComponent } from '../references-dialogs/refernce-form-dialog.component';\r\nimport { ReuseReferencesDialogComponent } from '../references-dialogs/reuse-references-dialog.component';\r\nimport { ReuseReferencesDialogData } from '../references-dialogs/reuse-references-dialog-data.model';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { UtilsService } from '../../utils/utils.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { OverlayContainer } from '@angular/cdk/overlay';\r\n\r\n@Component({\r\n  selector: 'app-domain-references',\r\n  templateUrl: './domain-references.component.html',\r\n  styleUrls: ['./domain-references.component.scss']\r\n})\r\nexport class DomainReferencesComponent implements OnInit, OnDestroy {\r\n  @Input() card?: string;\r\n  private domainReferenceUuids: Array<string>;\r\n  private substanceReferences: Array<SubstanceReference>;\r\n  canReuse = false;\r\n  references: Array<SubstanceReference> = [];\r\n  documentTypesDictionary: { [dictionaryValue: string]: VocabularyTerm } = {};\r\n  displayedColumns: string[] = ['type', 'citation', 'publicDomain', 'access', 'goToReference', 'remove', 'attachment', 'delete', 'apply'];\r\n  tableData: MatTableDataSource<SubstanceReference>;\r\n  isExpanded = false;\r\n  private subscriptions: Array<Subscription> = [];\r\n  private overlayContainer: HTMLElement;\r\n\r\n  constructor(\r\n    private cvService: ControlledVocabularyService,\r\n    private substanceFormService: SubstanceFormService,\r\n    private dialog: MatDialog,\r\n    private element: ElementRef,\r\n    private utilsService: UtilsService,\r\n    private overlayContainerService: OverlayContainer\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.getVocabularies();\r\n    const referencesSubscription = this.substanceFormService.substanceReferences.subscribe(references => {\r\n      if (references && references.length) {\r\n        this.substanceReferences = references.filter(reference => !reference.$$deletedCode);\r\n      } else {\r\n        this.substanceReferences = [];\r\n      }\r\n      this.canReuse = this.substanceReferences && this.substanceReferences.length > 0;\r\n      this.loadReferences();\r\n    });\r\n    this.subscriptions.push(referencesSubscription);\r\n    this.overlayContainer = this.overlayContainerService.getContainerElement();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscriptions.forEach(subscription => {\r\n      subscription.unsubscribe();\r\n    });\r\n  }\r\n\r\n  @Input()\r\n  set referencesUuids(referencesUuids: Array<string>) {\r\n    this.domainReferenceUuids = referencesUuids || [];\r\n    this.loadReferences();\r\n  }\r\n\r\n  get referencesUuids(): Array<string> {\r\n    return this.domainReferenceUuids;\r\n  }\r\n\r\n  getVocabularies(): void {\r\n    const dictionarySubscription = this.cvService.getDomainVocabulary('DOCUMENT_TYPE').subscribe(response => {\r\n      this.documentTypesDictionary = response['DOCUMENT_TYPE'].dictionary;\r\n    });\r\n    this.subscriptions.push(dictionarySubscription);\r\n  }\r\n\r\n  private loadReferences() {\r\n    if (this.domainReferenceUuids && this.substanceReferences) {\r\n      this.references = [];\r\n      this.domainReferenceUuids.forEach((uuid: string) => {\r\n        const substanceReference = this.substanceReferences.find(reference => reference.uuid === uuid);\r\n        if (substanceReference != null) {\r\n          this.references.push(substanceReference);\r\n        }\r\n      });\r\n      this.tableData = new MatTableDataSource<SubstanceReference>(this.references);\r\n    } else {\r\n      this.references = [];\r\n    }\r\n  }\r\n\r\n  addNewReference(): void {\r\n\r\n    const reference: SubstanceReference = {\r\n      tags: [],\r\n      access: []\r\n    };\r\n\r\n    const dialogRef = this.dialog.open(RefernceFormDialogComponent, {\r\n      data: reference,\r\n      width: '900px'\r\n    });\r\n    this.overlayContainer.style.zIndex = '1002';\r\n\r\n    const dialogSubscription = dialogRef.afterClosed().subscribe(newReference => {\r\n      this.overlayContainer.style.zIndex = null;\r\n      if (newReference != null) {\r\n        newReference = this.substanceFormService.addSubstanceReference(newReference);\r\n        setTimeout(() => {\r\n          this.addDomainReference(newReference.uuid);\r\n        });\r\n        this.canReuse = true;\r\n      }\r\n    });\r\n    this.subscriptions.push(dialogSubscription);\r\n  }\r\n\r\n  openExistingReferenceForm(reference: SubstanceReference): void {\r\n\r\n    const dialogRef = this.dialog.open(RefernceFormDialogComponent, {\r\n      data: reference,\r\n      width: '900px'\r\n    });\r\n    this.overlayContainer.style.zIndex = '1002';\r\n\r\n    const dialogSubscription = dialogRef.afterClosed().subscribe(updatedReference => {\r\n      this.overlayContainer.style.zIndex = null;\r\n    });\r\n    this.subscriptions.push(dialogSubscription);\r\n  }\r\n\r\n  addDomainReference(uuid: string): void {\r\n    if (this.domainReferenceUuids.indexOf(uuid) === -1) {\r\n      this.domainReferenceUuids.push(uuid);\r\n    }\r\n\r\n    let substanceReference = this.references.find(reference => reference.uuid === uuid);\r\n    if (substanceReference == null) {\r\n      substanceReference = this.substanceReferences.find(reference => reference.uuid === uuid);\r\n      if (substanceReference != null) {\r\n        this.references.unshift(substanceReference);\r\n        this.tableData.data = this.references;\r\n      }\r\n    }\r\n  }\r\n\r\n  reuseExistingReference(): void {\r\n\r\n    const data: ReuseReferencesDialogData = {\r\n      domainRefereceUuids: this.domainReferenceUuids,\r\n      substanceReferences: this.substanceReferences\r\n    };\r\n\r\n    const dialogRef = this.dialog.open(ReuseReferencesDialogComponent, {\r\n      data: data,\r\n      width: '900px'\r\n    });\r\n    this.overlayContainer.style.zIndex = '1002';\r\n\r\n    const dialogSubscription = dialogRef.afterClosed().subscribe(domainRefereceUuids => {\r\n      this.overlayContainer.style.zIndex = null;\r\n      if (domainRefereceUuids != null) {\r\n        this.updateDomainReferences(domainRefereceUuids);\r\n      }\r\n    });\r\n    this.subscriptions.push(dialogSubscription);\r\n  }\r\n\r\n  updateDomainReferences(referenceUuids: Array<string> = []): void {\r\n    this.domainReferenceUuids.length = 0;\r\n    referenceUuids.forEach(uuid => {\r\n        this.domainReferenceUuids.push(uuid);\r\n    });\r\n    const references = [];\r\n    this.domainReferenceUuids.forEach((uuid: string) => {\r\n      const substanceReference = this.substanceReferences.find(reference => reference.uuid === uuid);\r\n      if (substanceReference != null) {\r\n        references.push(substanceReference);\r\n      }\r\n    });\r\n    this.references = references;\r\n    this.tableData.data = this.references;\r\n  }\r\n\r\n  removeDomainReference(uuid: string): void {\r\n    const referenceUuidIndex = this.domainReferenceUuids.indexOf(uuid);\r\n\r\n    if (referenceUuidIndex > -1) {\r\n      this.domainReferenceUuids.splice(referenceUuidIndex, 1);\r\n    }\r\n    const substanceReferenceIndex = this.references.findIndex(reference => reference.uuid === uuid);\r\n\r\n    if (substanceReferenceIndex > -1) {\r\n      this.references.splice(substanceReferenceIndex, 1);\r\n    }\r\n    this.tableData.data = this.references;\r\n  }\r\n\r\n  deleteReference(reference: SubstanceReference): void {\r\n    reference.$$deletedCode = this.utilsService.newUUID();\r\n    this.substanceFormService.emitReferencesUpdate();\r\n  }\r\n\r\n  panelOpened(): void {\r\n    this.isExpanded = true;\r\n    const event: Event = new Event('focusin', { bubbles: true, cancelable: true });\r\n    this.element.nativeElement.dispatchEvent(event);\r\n  }\r\n\r\n  panelClosed(): void {\r\n    this.isExpanded = false;\r\n    const event: Event = new Event('focusout', { bubbles: true, cancelable: true });\r\n    this.element.nativeElement.dispatchEvent(event);\r\n  }\r\n\r\n}\r\n","import { OnInit, ElementRef, OnDestroy } from '@angular/core';\nimport { SubstanceFormService } from '../substance-form.service';\nimport { ControlledVocabularyService } from '../../controlled-vocabulary/controlled-vocabulary.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { RefernceFormDialogComponent } from '../references-dialogs/refernce-form-dialog.component';\nimport { ReuseReferencesDialogComponent } from '../references-dialogs/reuse-references-dialog.component';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { UtilsService } from '../../utils/utils.service';\nimport { OverlayContainer } from '@angular/cdk/overlay';\nvar DomainReferencesComponent = /** @class */ (function () {\n    function DomainReferencesComponent(cvService, substanceFormService, dialog, element, utilsService, overlayContainerService) {\n        this.cvService = cvService;\n        this.substanceFormService = substanceFormService;\n        this.dialog = dialog;\n        this.element = element;\n        this.utilsService = utilsService;\n        this.overlayContainerService = overlayContainerService;\n        this.canReuse = false;\n        this.references = [];\n        this.documentTypesDictionary = {};\n        this.displayedColumns = ['type', 'citation', 'publicDomain', 'access', 'goToReference', 'remove', 'attachment', 'delete', 'apply'];\n        this.isExpanded = false;\n        this.subscriptions = [];\n    }\n    DomainReferencesComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.getVocabularies();\n        var referencesSubscription = this.substanceFormService.substanceReferences.subscribe(function (references) {\n            if (references && references.length) {\n                _this.substanceReferences = references.filter(function (reference) { return !reference.$$deletedCode; });\n            }\n            else {\n                _this.substanceReferences = [];\n            }\n            _this.canReuse = _this.substanceReferences && _this.substanceReferences.length > 0;\n            _this.loadReferences();\n        });\n        this.subscriptions.push(referencesSubscription);\n        this.overlayContainer = this.overlayContainerService.getContainerElement();\n    };\n    DomainReferencesComponent.prototype.ngOnDestroy = function () {\n        this.subscriptions.forEach(function (subscription) {\n            subscription.unsubscribe();\n        });\n    };\n    Object.defineProperty(DomainReferencesComponent.prototype, \"referencesUuids\", {\n        get: function () {\n            return this.domainReferenceUuids;\n        },\n        set: function (referencesUuids) {\n            this.domainReferenceUuids = referencesUuids || [];\n            this.loadReferences();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DomainReferencesComponent.prototype.getVocabularies = function () {\n        var _this = this;\n        var dictionarySubscription = this.cvService.getDomainVocabulary('DOCUMENT_TYPE').subscribe(function (response) {\n            _this.documentTypesDictionary = response['DOCUMENT_TYPE'].dictionary;\n        });\n        this.subscriptions.push(dictionarySubscription);\n    };\n    DomainReferencesComponent.prototype.loadReferences = function () {\n        var _this = this;\n        if (this.domainReferenceUuids && this.substanceReferences) {\n            this.references = [];\n            this.domainReferenceUuids.forEach(function (uuid) {\n                var substanceReference = _this.substanceReferences.find(function (reference) { return reference.uuid === uuid; });\n                if (substanceReference != null) {\n                    _this.references.push(substanceReference);\n                }\n            });\n            this.tableData = new MatTableDataSource(this.references);\n        }\n        else {\n            this.references = [];\n        }\n    };\n    DomainReferencesComponent.prototype.addNewReference = function () {\n        var _this = this;\n        var reference = {\n            tags: [],\n            access: []\n        };\n        var dialogRef = this.dialog.open(RefernceFormDialogComponent, {\n            data: reference,\n            width: '900px'\n        });\n        this.overlayContainer.style.zIndex = '1002';\n        var dialogSubscription = dialogRef.afterClosed().subscribe(function (newReference) {\n            _this.overlayContainer.style.zIndex = null;\n            if (newReference != null) {\n                newReference = _this.substanceFormService.addSubstanceReference(newReference);\n                setTimeout(function () {\n                    _this.addDomainReference(newReference.uuid);\n                });\n                _this.canReuse = true;\n            }\n        });\n        this.subscriptions.push(dialogSubscription);\n    };\n    DomainReferencesComponent.prototype.openExistingReferenceForm = function (reference) {\n        var _this = this;\n        var dialogRef = this.dialog.open(RefernceFormDialogComponent, {\n            data: reference,\n            width: '900px'\n        });\n        this.overlayContainer.style.zIndex = '1002';\n        var dialogSubscription = dialogRef.afterClosed().subscribe(function (updatedReference) {\n            _this.overlayContainer.style.zIndex = null;\n        });\n        this.subscriptions.push(dialogSubscription);\n    };\n    DomainReferencesComponent.prototype.addDomainReference = function (uuid) {\n        if (this.domainReferenceUuids.indexOf(uuid) === -1) {\n            this.domainReferenceUuids.push(uuid);\n        }\n        var substanceReference = this.references.find(function (reference) { return reference.uuid === uuid; });\n        if (substanceReference == null) {\n            substanceReference = this.substanceReferences.find(function (reference) { return reference.uuid === uuid; });\n            if (substanceReference != null) {\n                this.references.unshift(substanceReference);\n                this.tableData.data = this.references;\n            }\n        }\n    };\n    DomainReferencesComponent.prototype.reuseExistingReference = function () {\n        var _this = this;\n        var data = {\n            domainRefereceUuids: this.domainReferenceUuids,\n            substanceReferences: this.substanceReferences\n        };\n        var dialogRef = this.dialog.open(ReuseReferencesDialogComponent, {\n            data: data,\n            width: '900px'\n        });\n        this.overlayContainer.style.zIndex = '1002';\n        var dialogSubscription = dialogRef.afterClosed().subscribe(function (domainRefereceUuids) {\n            _this.overlayContainer.style.zIndex = null;\n            if (domainRefereceUuids != null) {\n                _this.updateDomainReferences(domainRefereceUuids);\n            }\n        });\n        this.subscriptions.push(dialogSubscription);\n    };\n    DomainReferencesComponent.prototype.updateDomainReferences = function (referenceUuids) {\n        var _this = this;\n        if (referenceUuids === void 0) { referenceUuids = []; }\n        this.domainReferenceUuids.length = 0;\n        referenceUuids.forEach(function (uuid) {\n            _this.domainReferenceUuids.push(uuid);\n        });\n        var references = [];\n        this.domainReferenceUuids.forEach(function (uuid) {\n            var substanceReference = _this.substanceReferences.find(function (reference) { return reference.uuid === uuid; });\n            if (substanceReference != null) {\n                references.push(substanceReference);\n            }\n        });\n        this.references = references;\n        this.tableData.data = this.references;\n    };\n    DomainReferencesComponent.prototype.removeDomainReference = function (uuid) {\n        var referenceUuidIndex = this.domainReferenceUuids.indexOf(uuid);\n        if (referenceUuidIndex > -1) {\n            this.domainReferenceUuids.splice(referenceUuidIndex, 1);\n        }\n        var substanceReferenceIndex = this.references.findIndex(function (reference) { return reference.uuid === uuid; });\n        if (substanceReferenceIndex > -1) {\n            this.references.splice(substanceReferenceIndex, 1);\n        }\n        this.tableData.data = this.references;\n    };\n    DomainReferencesComponent.prototype.deleteReference = function (reference) {\n        reference.$$deletedCode = this.utilsService.newUUID();\n        this.substanceFormService.emitReferencesUpdate();\n    };\n    DomainReferencesComponent.prototype.panelOpened = function () {\n        this.isExpanded = true;\n        var event = new Event('focusin', { bubbles: true, cancelable: true });\n        this.element.nativeElement.dispatchEvent(event);\n    };\n    DomainReferencesComponent.prototype.panelClosed = function () {\n        this.isExpanded = false;\n        var event = new Event('focusout', { bubbles: true, cancelable: true });\n        this.element.nativeElement.dispatchEvent(event);\n    };\n    return DomainReferencesComponent;\n}());\nexport { DomainReferencesComponent };\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nvar styles = [\".domain-reference[_ngcontent-%COMP%]{display:block;padding:5px 0 10px;color:#448aff}.mat-expansion-panel[_ngcontent-%COMP%], .mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none}.domain-reference-header[_ngcontent-%COMP%]     .mat-expansion-indicator::after{margin-right:7px}.mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0}.domain-references-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:5px;padding:0 7px}.domain-references-content[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:0}.mat-expansion-panel-header-title.block-display[_ngcontent-%COMP%]{display:block}.custom-badge[_ngcontent-%COMP%] > .mat-badge-content[_ngcontent-%COMP%]{background-color:#fff!important;color:#4793d1!important}\"];\nexport { styles as styles };\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nimport * as i0 from \"./domain-references.component.scss.shim.ngstyle\";\nimport * as i1 from \"@angular/core\";\nimport * as i2 from \"../../../../../node_modules/@angular/material/button/typings/index.ngfactory\";\nimport * as i3 from \"@angular/material/button\";\nimport * as i4 from \"@angular/cdk/a11y\";\nimport * as i5 from \"@angular/platform-browser/animations\";\nimport * as i6 from \"@angular/material/tooltip\";\nimport * as i7 from \"@angular/cdk/overlay\";\nimport * as i8 from \"@angular/cdk/scrolling\";\nimport * as i9 from \"@angular/cdk/platform\";\nimport * as i10 from \"@angular/cdk/bidi\";\nimport * as i11 from \"@angular/platform-browser\";\nimport * as i12 from \"../../../../../node_modules/@angular/material/icon/typings/index.ngfactory\";\nimport * as i13 from \"@angular/material/icon\";\nimport * as i14 from \"@angular/common\";\nimport * as i15 from \"@angular/material/table\";\nimport * as i16 from \"@angular/cdk/table\";\nimport * as i17 from \"../apply-reference/apply-reference.component.ngfactory\";\nimport * as i18 from \"../apply-reference/apply-reference.component\";\nimport * as i19 from \"../substance-form.service\";\nimport * as i20 from \"../../../../../node_modules/@angular/material/table/typings/index.ngfactory\";\nimport * as i21 from \"@angular/material/expansion\";\nimport * as i22 from \"../../../../../node_modules/@angular/material/expansion/typings/index.ngfactory\";\nimport * as i23 from \"@angular/cdk/collections\";\nimport * as i24 from \"@angular/material/badge\";\nimport * as i25 from \"./domain-references.component\";\nimport * as i26 from \"../../controlled-vocabulary/controlled-vocabulary.service\";\nimport * as i27 from \"@angular/material/dialog\";\nimport * as i28 from \"../../utils/utils.service\";\nvar styles_DomainReferencesComponent = [i0.styles];\nvar RenderType_DomainReferencesComponent = i1.ɵcrt({ encapsulation: 0, styles: styles_DomainReferencesComponent, data: {} });\nexport { RenderType_DomainReferencesComponent as RenderType_DomainReferencesComponent };\nfunction View_DomainReferencesComponent_2(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 16777216, null, null, 4, \"button\", [[\"mat-icon-button\", \"\"], [\"matTooltip\", \"Reuse existing reference\"]], [[1, \"disabled\", 0], [2, \"_mat-animation-noopable\", null]], [[null, \"click\"], [null, \"longpress\"], [null, \"keydown\"], [null, \"touchend\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"longpress\" === en)) {\n        var pd_0 = (i1.ɵnov(_v, 2).show() !== false);\n        ad = (pd_0 && ad);\n    } if ((\"keydown\" === en)) {\n        var pd_1 = (i1.ɵnov(_v, 2)._handleKeydown($event) !== false);\n        ad = (pd_1 && ad);\n    } if ((\"touchend\" === en)) {\n        var pd_2 = (i1.ɵnov(_v, 2)._handleTouchend() !== false);\n        ad = (pd_2 && ad);\n    } if ((\"click\" === en)) {\n        _co.reuseExistingReference();\n        var pd_3 = ($event.stopPropagation() !== false);\n        ad = (pd_3 && ad);\n    } return ad; }, i2.View_MatButton_0, i2.RenderType_MatButton)), i1.ɵdid(1, 180224, null, 0, i3.MatButton, [i1.ElementRef, i4.FocusMonitor, [2, i5.ANIMATION_MODULE_TYPE]], null, null), i1.ɵdid(2, 212992, null, 0, i6.MatTooltip, [i7.Overlay, i1.ElementRef, i8.ScrollDispatcher, i1.ViewContainerRef, i1.NgZone, i9.Platform, i4.AriaDescriber, i4.FocusMonitor, i6.MAT_TOOLTIP_SCROLL_STRATEGY, [2, i10.Directionality], [2, i6.MAT_TOOLTIP_DEFAULT_OPTIONS], [2, i11.HAMMER_LOADER]], { message: [0, \"message\"] }, null), (_l()(), i1.ɵeld(3, 0, null, 0, 1, \"mat-icon\", [[\"class\", \"mat-icon notranslate\"], [\"role\", \"img\"], [\"svgIcon\", \"move_to_inbox\"]], [[2, \"mat-icon-inline\", null], [2, \"mat-icon-no-color\", null]], null, null, i12.View_MatIcon_0, i12.RenderType_MatIcon)), i1.ɵdid(4, 9158656, null, 0, i13.MatIcon, [i1.ElementRef, i13.MatIconRegistry, [8, null], [2, i13.MAT_ICON_LOCATION], [2, i1.ErrorHandler]], { svgIcon: [0, \"svgIcon\"] }, null), (_l()(), i1.ɵand(0, null, null, 0))], function (_ck, _v) { var currVal_2 = \"Reuse existing reference\"; _ck(_v, 2, 0, currVal_2); var currVal_5 = \"move_to_inbox\"; _ck(_v, 4, 0, currVal_5); }, function (_ck, _v) { var currVal_0 = (i1.ɵnov(_v, 1).disabled || null); var currVal_1 = (i1.ɵnov(_v, 1)._animationMode === \"NoopAnimations\"); _ck(_v, 0, 0, currVal_0, currVal_1); var currVal_3 = i1.ɵnov(_v, 4).inline; var currVal_4 = (((i1.ɵnov(_v, 4).color !== \"primary\") && (i1.ɵnov(_v, 4).color !== \"accent\")) && (i1.ɵnov(_v, 4).color !== \"warn\")); _ck(_v, 3, 0, currVal_3, currVal_4); }); }\nfunction View_DomainReferencesComponent_1(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 7, \"div\", [], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 16777216, null, null, 4, \"button\", [[\"mat-icon-button\", \"\"], [\"matTooltip\", \"Create new reference\"]], [[1, \"disabled\", 0], [2, \"_mat-animation-noopable\", null]], [[null, \"click\"], [null, \"longpress\"], [null, \"keydown\"], [null, \"touchend\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"longpress\" === en)) {\n        var pd_0 = (i1.ɵnov(_v, 3).show() !== false);\n        ad = (pd_0 && ad);\n    } if ((\"keydown\" === en)) {\n        var pd_1 = (i1.ɵnov(_v, 3)._handleKeydown($event) !== false);\n        ad = (pd_1 && ad);\n    } if ((\"touchend\" === en)) {\n        var pd_2 = (i1.ɵnov(_v, 3)._handleTouchend() !== false);\n        ad = (pd_2 && ad);\n    } if ((\"click\" === en)) {\n        _co.addNewReference();\n        var pd_3 = ($event.stopPropagation() !== false);\n        ad = (pd_3 && ad);\n    } return ad; }, i2.View_MatButton_0, i2.RenderType_MatButton)), i1.ɵdid(2, 180224, null, 0, i3.MatButton, [i1.ElementRef, i4.FocusMonitor, [2, i5.ANIMATION_MODULE_TYPE]], null, null), i1.ɵdid(3, 212992, null, 0, i6.MatTooltip, [i7.Overlay, i1.ElementRef, i8.ScrollDispatcher, i1.ViewContainerRef, i1.NgZone, i9.Platform, i4.AriaDescriber, i4.FocusMonitor, i6.MAT_TOOLTIP_SCROLL_STRATEGY, [2, i10.Directionality], [2, i6.MAT_TOOLTIP_DEFAULT_OPTIONS], [2, i11.HAMMER_LOADER]], { message: [0, \"message\"] }, null), (_l()(), i1.ɵeld(4, 0, null, 0, 1, \"mat-icon\", [[\"class\", \"mat-icon notranslate\"], [\"role\", \"img\"], [\"svgIcon\", \"add_circle_outline\"]], [[2, \"mat-icon-inline\", null], [2, \"mat-icon-no-color\", null]], null, null, i12.View_MatIcon_0, i12.RenderType_MatIcon)), i1.ɵdid(5, 9158656, null, 0, i13.MatIcon, [i1.ElementRef, i13.MatIconRegistry, [8, null], [2, i13.MAT_ICON_LOCATION], [2, i1.ErrorHandler]], { svgIcon: [0, \"svgIcon\"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_DomainReferencesComponent_2)), i1.ɵdid(7, 16384, null, 0, i14.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_2 = \"Create new reference\"; _ck(_v, 3, 0, currVal_2); var currVal_5 = \"add_circle_outline\"; _ck(_v, 5, 0, currVal_5); var currVal_6 = _co.canReuse; _ck(_v, 7, 0, currVal_6); }, function (_ck, _v) { var currVal_0 = (i1.ɵnov(_v, 2).disabled || null); var currVal_1 = (i1.ɵnov(_v, 2)._animationMode === \"NoopAnimations\"); _ck(_v, 1, 0, currVal_0, currVal_1); var currVal_3 = i1.ɵnov(_v, 5).inline; var currVal_4 = (((i1.ɵnov(_v, 5).color !== \"primary\") && (i1.ɵnov(_v, 5).color !== \"accent\")) && (i1.ɵnov(_v, 5).color !== \"warn\")); _ck(_v, 4, 0, currVal_3, currVal_4); }); }\nfunction View_DomainReferencesComponent_4(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"th\", [[\"class\", \"mat-header-cell\"], [\"mat-header-cell\", \"\"], [\"role\", \"columnheader\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i15.MatHeaderCell, [i16.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵted(-1, null, [\" Type \"]))], null, null); }\nfunction View_DomainReferencesComponent_5(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"td\", [[\"class\", \"mat-cell\"], [\"mat-cell\", \"\"], [\"role\", \"gridcell\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i15.MatCell, [i16.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵted(2, null, [\" \", \" \"]))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = (_co.documentTypesDictionary[_v.context.$implicit.docType] && _co.documentTypesDictionary[_v.context.$implicit.docType].value); _ck(_v, 2, 0, currVal_0); }); }\nfunction View_DomainReferencesComponent_6(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"th\", [[\"class\", \"mat-header-cell\"], [\"mat-header-cell\", \"\"], [\"role\", \"columnheader\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i15.MatHeaderCell, [i16.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵted(-1, null, [\" Citation \"]))], null, null); }\nfunction View_DomainReferencesComponent_8(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"span\", [], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, [\"\", \"\"]))], null, function (_ck, _v) { var currVal_0 = _v.parent.context.$implicit.citation; _ck(_v, 1, 0, currVal_0); }); }\nfunction View_DomainReferencesComponent_9(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"a\", [[\"target\", \"_blank\"]], [[8, \"href\", 4]], null, null, null, null)), (_l()(), i1.ɵted(1, null, [\"\", \"\"]))], null, function (_ck, _v) { var currVal_0 = _v.parent.context.$implicit.url; _ck(_v, 0, 0, currVal_0); var currVal_1 = _v.parent.context.$implicit.citation; _ck(_v, 1, 0, currVal_1); }); }\nfunction View_DomainReferencesComponent_7(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 5, \"td\", [[\"class\", \"mat-cell\"], [\"mat-cell\", \"\"], [\"role\", \"gridcell\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i15.MatCell, [i16.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_DomainReferencesComponent_8)), i1.ɵdid(3, 16384, null, 0, i14.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_DomainReferencesComponent_9)), i1.ɵdid(5, 16384, null, 0, i14.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null)], function (_ck, _v) { var currVal_0 = !_v.context.$implicit.url; _ck(_v, 3, 0, currVal_0); var currVal_1 = _v.context.$implicit.url; _ck(_v, 5, 0, currVal_1); }, null); }\nfunction View_DomainReferencesComponent_10(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"th\", [[\"class\", \"mat-header-cell\"], [\"mat-header-cell\", \"\"], [\"role\", \"columnheader\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i15.MatHeaderCell, [i16.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵted(-1, null, [\" Public Domain \"]))], null, null); }\nfunction View_DomainReferencesComponent_11(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"td\", [[\"class\", \"mat-cell\"], [\"mat-cell\", \"\"], [\"role\", \"gridcell\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i15.MatCell, [i16.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵted(2, null, [\" \", \" \"]))], null, function (_ck, _v) { var currVal_0 = (_v.context.$implicit.publicDomain ? \"Yes\" : \"No\"); _ck(_v, 2, 0, currVal_0); }); }\nfunction View_DomainReferencesComponent_12(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"th\", [[\"class\", \"mat-header-cell\"], [\"mat-header-cell\", \"\"], [\"role\", \"columnheader\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i15.MatHeaderCell, [i16.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵted(-1, null, [\" Access \"]))], null, null); }\nfunction View_DomainReferencesComponent_14(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"span\", [], null, null, null, null, null)), (_l()(), i1.ɵted(-1, null, [\" Public \"]))], null, null); }\nfunction View_DomainReferencesComponent_17(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"span\", [], null, null, null, null, null)), (_l()(), i1.ɵted(-1, null, [\", \"]))], null, null); }\nfunction View_DomainReferencesComponent_16(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, \"span\", [], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, [\" \", \" \"])), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_DomainReferencesComponent_17)), i1.ɵdid(3, 16384, null, 0, i14.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null)], function (_ck, _v) { var currVal_1 = !_v.context.last; _ck(_v, 3, 0, currVal_1); }, function (_ck, _v) { var currVal_0 = _v.context.$implicit; _ck(_v, 1, 0, currVal_0); }); }\nfunction View_DomainReferencesComponent_15(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"span\", [], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_DomainReferencesComponent_16)), i1.ɵdid(2, 278528, null, 0, i14.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, \"ngForOf\"] }, null)], function (_ck, _v) { var currVal_0 = _v.parent.context.$implicit.access; _ck(_v, 2, 0, currVal_0); }, null); }\nfunction View_DomainReferencesComponent_13(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 5, \"td\", [[\"class\", \"mat-cell\"], [\"mat-cell\", \"\"], [\"role\", \"gridcell\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i15.MatCell, [i16.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_DomainReferencesComponent_14)), i1.ɵdid(3, 16384, null, 0, i14.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_DomainReferencesComponent_15)), i1.ɵdid(5, 16384, null, 0, i14.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null)], function (_ck, _v) { var currVal_0 = (!_v.context.$implicit.access || (_v.context.$implicit.access.length === 0)); _ck(_v, 3, 0, currVal_0); var currVal_1 = (_v.context.$implicit.access && (_v.context.$implicit.access.length > 0)); _ck(_v, 5, 0, currVal_1); }, null); }\nfunction View_DomainReferencesComponent_18(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"th\", [[\"class\", \"mat-header-cell\"], [\"mat-header-cell\", \"\"], [\"role\", \"columnheader\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i15.MatHeaderCell, [i16.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵted(-1, null, [\" Open \"]))], null, null); }\nfunction View_DomainReferencesComponent_19(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 6, \"td\", [[\"class\", \"mat-cell\"], [\"mat-cell\", \"\"], [\"role\", \"gridcell\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i15.MatCell, [i16.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵeld(2, 16777216, null, null, 4, \"button\", [[\"mat-icon-button\", \"\"], [\"matTooltip\", \"Open reference form\"]], [[1, \"disabled\", 0], [2, \"_mat-animation-noopable\", null]], [[null, \"click\"], [null, \"longpress\"], [null, \"keydown\"], [null, \"touchend\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"longpress\" === en)) {\n        var pd_0 = (i1.ɵnov(_v, 4).show() !== false);\n        ad = (pd_0 && ad);\n    } if ((\"keydown\" === en)) {\n        var pd_1 = (i1.ɵnov(_v, 4)._handleKeydown($event) !== false);\n        ad = (pd_1 && ad);\n    } if ((\"touchend\" === en)) {\n        var pd_2 = (i1.ɵnov(_v, 4)._handleTouchend() !== false);\n        ad = (pd_2 && ad);\n    } if ((\"click\" === en)) {\n        var pd_3 = (_co.openExistingReferenceForm(_v.context.$implicit) !== false);\n        ad = (pd_3 && ad);\n    } return ad; }, i2.View_MatButton_0, i2.RenderType_MatButton)), i1.ɵdid(3, 180224, null, 0, i3.MatButton, [i1.ElementRef, i4.FocusMonitor, [2, i5.ANIMATION_MODULE_TYPE]], null, null), i1.ɵdid(4, 212992, null, 0, i6.MatTooltip, [i7.Overlay, i1.ElementRef, i8.ScrollDispatcher, i1.ViewContainerRef, i1.NgZone, i9.Platform, i4.AriaDescriber, i4.FocusMonitor, i6.MAT_TOOLTIP_SCROLL_STRATEGY, [2, i10.Directionality], [2, i6.MAT_TOOLTIP_DEFAULT_OPTIONS], [2, i11.HAMMER_LOADER]], { message: [0, \"message\"] }, null), (_l()(), i1.ɵeld(5, 0, null, 0, 1, \"mat-icon\", [[\"class\", \"mat-icon notranslate\"], [\"role\", \"img\"], [\"svgIcon\", \"open_in_new\"]], [[2, \"mat-icon-inline\", null], [2, \"mat-icon-no-color\", null]], null, null, i12.View_MatIcon_0, i12.RenderType_MatIcon)), i1.ɵdid(6, 9158656, null, 0, i13.MatIcon, [i1.ElementRef, i13.MatIconRegistry, [8, null], [2, i13.MAT_ICON_LOCATION], [2, i1.ErrorHandler]], { svgIcon: [0, \"svgIcon\"] }, null)], function (_ck, _v) { var currVal_2 = \"Open reference form\"; _ck(_v, 4, 0, currVal_2); var currVal_5 = \"open_in_new\"; _ck(_v, 6, 0, currVal_5); }, function (_ck, _v) { var currVal_0 = (i1.ɵnov(_v, 3).disabled || null); var currVal_1 = (i1.ɵnov(_v, 3)._animationMode === \"NoopAnimations\"); _ck(_v, 2, 0, currVal_0, currVal_1); var currVal_3 = i1.ɵnov(_v, 6).inline; var currVal_4 = (((i1.ɵnov(_v, 6).color !== \"primary\") && (i1.ɵnov(_v, 6).color !== \"accent\")) && (i1.ɵnov(_v, 6).color !== \"warn\")); _ck(_v, 5, 0, currVal_3, currVal_4); }); }\nfunction View_DomainReferencesComponent_20(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"th\", [[\"class\", \"mat-header-cell\"], [\"mat-header-cell\", \"\"], [\"role\", \"columnheader\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i15.MatHeaderCell, [i16.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵted(-1, null, [\" Remove \"]))], null, null); }\nfunction View_DomainReferencesComponent_21(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 6, \"td\", [[\"class\", \"mat-cell\"], [\"mat-cell\", \"\"], [\"role\", \"gridcell\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i15.MatCell, [i16.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵeld(2, 16777216, null, null, 4, \"button\", [[\"mat-icon-button\", \"\"], [\"matTooltip\", \"Remove reference\"]], [[1, \"disabled\", 0], [2, \"_mat-animation-noopable\", null]], [[null, \"click\"], [null, \"longpress\"], [null, \"keydown\"], [null, \"touchend\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"longpress\" === en)) {\n        var pd_0 = (i1.ɵnov(_v, 4).show() !== false);\n        ad = (pd_0 && ad);\n    } if ((\"keydown\" === en)) {\n        var pd_1 = (i1.ɵnov(_v, 4)._handleKeydown($event) !== false);\n        ad = (pd_1 && ad);\n    } if ((\"touchend\" === en)) {\n        var pd_2 = (i1.ɵnov(_v, 4)._handleTouchend() !== false);\n        ad = (pd_2 && ad);\n    } if ((\"click\" === en)) {\n        var pd_3 = (_co.removeDomainReference(_v.context.$implicit.uuid) !== false);\n        ad = (pd_3 && ad);\n    } return ad; }, i2.View_MatButton_0, i2.RenderType_MatButton)), i1.ɵdid(3, 180224, null, 0, i3.MatButton, [i1.ElementRef, i4.FocusMonitor, [2, i5.ANIMATION_MODULE_TYPE]], null, null), i1.ɵdid(4, 212992, null, 0, i6.MatTooltip, [i7.Overlay, i1.ElementRef, i8.ScrollDispatcher, i1.ViewContainerRef, i1.NgZone, i9.Platform, i4.AriaDescriber, i4.FocusMonitor, i6.MAT_TOOLTIP_SCROLL_STRATEGY, [2, i10.Directionality], [2, i6.MAT_TOOLTIP_DEFAULT_OPTIONS], [2, i11.HAMMER_LOADER]], { message: [0, \"message\"] }, null), (_l()(), i1.ɵeld(5, 0, null, 0, 1, \"mat-icon\", [[\"class\", \"mat-icon notranslate\"], [\"role\", \"img\"], [\"svgIcon\", \"clear\"]], [[2, \"mat-icon-inline\", null], [2, \"mat-icon-no-color\", null]], null, null, i12.View_MatIcon_0, i12.RenderType_MatIcon)), i1.ɵdid(6, 9158656, null, 0, i13.MatIcon, [i1.ElementRef, i13.MatIconRegistry, [8, null], [2, i13.MAT_ICON_LOCATION], [2, i1.ErrorHandler]], { svgIcon: [0, \"svgIcon\"] }, null)], function (_ck, _v) { var currVal_2 = \"Remove reference\"; _ck(_v, 4, 0, currVal_2); var currVal_5 = \"clear\"; _ck(_v, 6, 0, currVal_5); }, function (_ck, _v) { var currVal_0 = (i1.ɵnov(_v, 3).disabled || null); var currVal_1 = (i1.ɵnov(_v, 3)._animationMode === \"NoopAnimations\"); _ck(_v, 2, 0, currVal_0, currVal_1); var currVal_3 = i1.ɵnov(_v, 6).inline; var currVal_4 = (((i1.ɵnov(_v, 6).color !== \"primary\") && (i1.ɵnov(_v, 6).color !== \"accent\")) && (i1.ɵnov(_v, 6).color !== \"warn\")); _ck(_v, 5, 0, currVal_3, currVal_4); }); }\nfunction View_DomainReferencesComponent_22(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"th\", [[\"class\", \"mat-header-cell\"], [\"mat-header-cell\", \"\"], [\"role\", \"columnheader\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i15.MatHeaderCell, [i16.CdkColumnDef, i1.ElementRef], null, null)], null, null); }\nfunction View_DomainReferencesComponent_24(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 5, \"div\", [], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 16777216, null, null, 4, \"a\", [[\"mat-icon-button\", \"\"], [\"matTooltip\", \"Download document\"]], [[8, \"href\", 4], [1, \"tabindex\", 0], [1, \"disabled\", 0], [1, \"aria-disabled\", 0], [2, \"_mat-animation-noopable\", null]], [[null, \"click\"], [null, \"longpress\"], [null, \"keydown\"], [null, \"touchend\"]], function (_v, en, $event) { var ad = true; if ((\"click\" === en)) {\n        var pd_0 = (i1.ɵnov(_v, 2)._haltDisabledEvents($event) !== false);\n        ad = (pd_0 && ad);\n    } if ((\"longpress\" === en)) {\n        var pd_1 = (i1.ɵnov(_v, 3).show() !== false);\n        ad = (pd_1 && ad);\n    } if ((\"keydown\" === en)) {\n        var pd_2 = (i1.ɵnov(_v, 3)._handleKeydown($event) !== false);\n        ad = (pd_2 && ad);\n    } if ((\"touchend\" === en)) {\n        var pd_3 = (i1.ɵnov(_v, 3)._handleTouchend() !== false);\n        ad = (pd_3 && ad);\n    } return ad; }, i2.View_MatAnchor_0, i2.RenderType_MatAnchor)), i1.ɵdid(2, 180224, null, 0, i3.MatAnchor, [i4.FocusMonitor, i1.ElementRef, [2, i5.ANIMATION_MODULE_TYPE]], null, null), i1.ɵdid(3, 212992, null, 0, i6.MatTooltip, [i7.Overlay, i1.ElementRef, i8.ScrollDispatcher, i1.ViewContainerRef, i1.NgZone, i9.Platform, i4.AriaDescriber, i4.FocusMonitor, i6.MAT_TOOLTIP_SCROLL_STRATEGY, [2, i10.Directionality], [2, i6.MAT_TOOLTIP_DEFAULT_OPTIONS], [2, i11.HAMMER_LOADER]], { message: [0, \"message\"] }, null), (_l()(), i1.ɵeld(4, 0, null, 0, 1, \"mat-icon\", [[\"class\", \"mat-icon notranslate\"], [\"role\", \"img\"], [\"svgIcon\", \"cloud_download\"]], [[2, \"mat-icon-inline\", null], [2, \"mat-icon-no-color\", null]], null, null, i12.View_MatIcon_0, i12.RenderType_MatIcon)), i1.ɵdid(5, 9158656, null, 0, i13.MatIcon, [i1.ElementRef, i13.MatIconRegistry, [8, null], [2, i13.MAT_ICON_LOCATION], [2, i1.ErrorHandler]], { svgIcon: [0, \"svgIcon\"] }, null)], function (_ck, _v) { var currVal_5 = \"Download document\"; _ck(_v, 3, 0, currVal_5); var currVal_8 = \"cloud_download\"; _ck(_v, 5, 0, currVal_8); }, function (_ck, _v) { var currVal_0 = _v.parent.context.$implicit.uploadedFile; var currVal_1 = (i1.ɵnov(_v, 2).disabled ? (0 - 1) : (i1.ɵnov(_v, 2).tabIndex || 0)); var currVal_2 = (i1.ɵnov(_v, 2).disabled || null); var currVal_3 = i1.ɵnov(_v, 2).disabled.toString(); var currVal_4 = (i1.ɵnov(_v, 2)._animationMode === \"NoopAnimations\"); _ck(_v, 1, 0, currVal_0, currVal_1, currVal_2, currVal_3, currVal_4); var currVal_6 = i1.ɵnov(_v, 5).inline; var currVal_7 = (((i1.ɵnov(_v, 5).color !== \"primary\") && (i1.ɵnov(_v, 5).color !== \"accent\")) && (i1.ɵnov(_v, 5).color !== \"warn\")); _ck(_v, 4, 0, currVal_6, currVal_7); }); }\nfunction View_DomainReferencesComponent_23(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, \"td\", [[\"class\", \"mat-cell\"], [\"mat-cell\", \"\"], [\"role\", \"gridcell\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i15.MatCell, [i16.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_DomainReferencesComponent_24)), i1.ɵdid(3, 16384, null, 0, i14.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null)], function (_ck, _v) { var currVal_0 = _v.context.$implicit.uploadedFile; _ck(_v, 3, 0, currVal_0); }, null); }\nfunction View_DomainReferencesComponent_25(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"th\", [[\"class\", \"mat-header-cell\"], [\"mat-header-cell\", \"\"], [\"role\", \"columnheader\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i15.MatHeaderCell, [i16.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵted(-1, null, [\" Delete \"]))], null, null); }\nfunction View_DomainReferencesComponent_26(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 6, \"td\", [[\"class\", \"mat-cell\"], [\"mat-cell\", \"\"], [\"role\", \"gridcell\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i15.MatCell, [i16.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵeld(2, 16777216, null, null, 4, \"button\", [[\"mat-icon-button\", \"\"], [\"matTooltip\", \"Delete reference from entire substance\"]], [[1, \"disabled\", 0], [2, \"_mat-animation-noopable\", null]], [[null, \"click\"], [null, \"longpress\"], [null, \"keydown\"], [null, \"touchend\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"longpress\" === en)) {\n        var pd_0 = (i1.ɵnov(_v, 4).show() !== false);\n        ad = (pd_0 && ad);\n    } if ((\"keydown\" === en)) {\n        var pd_1 = (i1.ɵnov(_v, 4)._handleKeydown($event) !== false);\n        ad = (pd_1 && ad);\n    } if ((\"touchend\" === en)) {\n        var pd_2 = (i1.ɵnov(_v, 4)._handleTouchend() !== false);\n        ad = (pd_2 && ad);\n    } if ((\"click\" === en)) {\n        var pd_3 = (_co.deleteReference(_v.context.$implicit) !== false);\n        ad = (pd_3 && ad);\n    } return ad; }, i2.View_MatButton_0, i2.RenderType_MatButton)), i1.ɵdid(3, 180224, null, 0, i3.MatButton, [i1.ElementRef, i4.FocusMonitor, [2, i5.ANIMATION_MODULE_TYPE]], null, null), i1.ɵdid(4, 212992, null, 0, i6.MatTooltip, [i7.Overlay, i1.ElementRef, i8.ScrollDispatcher, i1.ViewContainerRef, i1.NgZone, i9.Platform, i4.AriaDescriber, i4.FocusMonitor, i6.MAT_TOOLTIP_SCROLL_STRATEGY, [2, i10.Directionality], [2, i6.MAT_TOOLTIP_DEFAULT_OPTIONS], [2, i11.HAMMER_LOADER]], { message: [0, \"message\"] }, null), (_l()(), i1.ɵeld(5, 0, null, 0, 1, \"mat-icon\", [[\"class\", \"mat-icon notranslate\"], [\"role\", \"img\"], [\"svgIcon\", \"delete_forever\"]], [[2, \"mat-icon-inline\", null], [2, \"mat-icon-no-color\", null]], null, null, i12.View_MatIcon_0, i12.RenderType_MatIcon)), i1.ɵdid(6, 9158656, null, 0, i13.MatIcon, [i1.ElementRef, i13.MatIconRegistry, [8, null], [2, i13.MAT_ICON_LOCATION], [2, i1.ErrorHandler]], { svgIcon: [0, \"svgIcon\"] }, null)], function (_ck, _v) { var currVal_2 = \"Delete reference from entire substance\"; _ck(_v, 4, 0, currVal_2); var currVal_5 = \"delete_forever\"; _ck(_v, 6, 0, currVal_5); }, function (_ck, _v) { var currVal_0 = (i1.ɵnov(_v, 3).disabled || null); var currVal_1 = (i1.ɵnov(_v, 3)._animationMode === \"NoopAnimations\"); _ck(_v, 2, 0, currVal_0, currVal_1); var currVal_3 = i1.ɵnov(_v, 6).inline; var currVal_4 = (((i1.ɵnov(_v, 6).color !== \"primary\") && (i1.ɵnov(_v, 6).color !== \"accent\")) && (i1.ɵnov(_v, 6).color !== \"warn\")); _ck(_v, 5, 0, currVal_3, currVal_4); }); }\nfunction View_DomainReferencesComponent_27(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"th\", [[\"class\", \"mat-header-cell\"], [\"mat-header-cell\", \"\"], [\"role\", \"columnheader\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i15.MatHeaderCell, [i16.CdkColumnDef, i1.ElementRef], null, null)], null, null); }\nfunction View_DomainReferencesComponent_28(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, \"td\", [[\"class\", \"mat-cell\"], [\"mat-cell\", \"\"], [\"role\", \"gridcell\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i15.MatCell, [i16.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵeld(2, 0, null, null, 1, \"app-apply-reference\", [], null, null, null, i17.View_ApplyReferenceComponent_0, i17.RenderType_ApplyReferenceComponent)), i1.ɵdid(3, 245760, null, 0, i18.ApplyReferenceComponent, [i19.SubstanceFormService], { subReferenceUuid: [0, \"subReferenceUuid\"] }, null)], function (_ck, _v) { var currVal_0 = _v.context.$implicit.uuid; _ck(_v, 3, 0, currVal_0); }, null); }\nfunction View_DomainReferencesComponent_29(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"tr\", [[\"class\", \"mat-header-row\"], [\"mat-header-row\", \"\"], [\"role\", \"row\"]], null, null, null, i20.View_MatHeaderRow_0, i20.RenderType_MatHeaderRow)), i1.ɵprd(6144, null, i16.CdkHeaderRow, null, [i15.MatHeaderRow]), i1.ɵdid(2, 49152, null, 0, i15.MatHeaderRow, [], null, null)], null, null); }\nfunction View_DomainReferencesComponent_30(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"tr\", [[\"class\", \"mat-row\"], [\"mat-row\", \"\"], [\"role\", \"row\"]], null, null, null, i20.View_MatRow_0, i20.RenderType_MatRow)), i1.ɵprd(6144, null, i16.CdkRow, null, [i15.MatRow]), i1.ɵdid(2, 49152, null, 0, i15.MatRow, [], null, null)], null, null); }\nfunction View_DomainReferencesComponent_3(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 129, \"table\", [[\"class\", \"mat-table\"], [\"mat-table\", \"\"]], null, null, null, i20.View_MatTable_0, i20.RenderType_MatTable)), i1.ɵprd(6144, null, i16.CdkTable, null, [i15.MatTable]), i1.ɵdid(2, 2342912, null, 4, i15.MatTable, [i1.IterableDiffers, i1.ChangeDetectorRef, i1.ElementRef, [8, null], [2, i10.Directionality], i14.DOCUMENT, i9.Platform], { dataSource: [0, \"dataSource\"] }, null), i1.ɵqud(603979776, 3, { _contentColumnDefs: 1 }), i1.ɵqud(603979776, 4, { _contentRowDefs: 1 }), i1.ɵqud(603979776, 5, { _contentHeaderRowDefs: 1 }), i1.ɵqud(603979776, 6, { _contentFooterRowDefs: 1 }), (_l()(), i1.ɵeld(7, 0, null, null, 12, null, null, null, null, null, null, null)), i1.ɵprd(6144, null, \"MAT_SORT_HEADER_COLUMN_DEF\", null, [i15.MatColumnDef]), i1.ɵdid(9, 16384, null, 3, i15.MatColumnDef, [], { name: [0, \"name\"] }, null), i1.ɵqud(603979776, 7, { cell: 0 }), i1.ɵqud(603979776, 8, { headerCell: 0 }), i1.ɵqud(603979776, 9, { footerCell: 0 }), i1.ɵprd(2048, [[3, 4]], i16.CdkColumnDef, null, [i15.MatColumnDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_DomainReferencesComponent_4)), i1.ɵdid(15, 16384, null, 0, i15.MatHeaderCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[8, 4]], i16.CdkHeaderCellDef, null, [i15.MatHeaderCellDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_DomainReferencesComponent_5)), i1.ɵdid(18, 16384, null, 0, i15.MatCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[7, 4]], i16.CdkCellDef, null, [i15.MatCellDef]), (_l()(), i1.ɵeld(20, 0, null, null, 12, null, null, null, null, null, null, null)), i1.ɵprd(6144, null, \"MAT_SORT_HEADER_COLUMN_DEF\", null, [i15.MatColumnDef]), i1.ɵdid(22, 16384, null, 3, i15.MatColumnDef, [], { name: [0, \"name\"] }, null), i1.ɵqud(603979776, 10, { cell: 0 }), i1.ɵqud(603979776, 11, { headerCell: 0 }), i1.ɵqud(603979776, 12, { footerCell: 0 }), i1.ɵprd(2048, [[3, 4]], i16.CdkColumnDef, null, [i15.MatColumnDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_DomainReferencesComponent_6)), i1.ɵdid(28, 16384, null, 0, i15.MatHeaderCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[11, 4]], i16.CdkHeaderCellDef, null, [i15.MatHeaderCellDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_DomainReferencesComponent_7)), i1.ɵdid(31, 16384, null, 0, i15.MatCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[10, 4]], i16.CdkCellDef, null, [i15.MatCellDef]), (_l()(), i1.ɵeld(33, 0, null, null, 12, null, null, null, null, null, null, null)), i1.ɵprd(6144, null, \"MAT_SORT_HEADER_COLUMN_DEF\", null, [i15.MatColumnDef]), i1.ɵdid(35, 16384, null, 3, i15.MatColumnDef, [], { name: [0, \"name\"] }, null), i1.ɵqud(603979776, 13, { cell: 0 }), i1.ɵqud(603979776, 14, { headerCell: 0 }), i1.ɵqud(603979776, 15, { footerCell: 0 }), i1.ɵprd(2048, [[3, 4]], i16.CdkColumnDef, null, [i15.MatColumnDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_DomainReferencesComponent_10)), i1.ɵdid(41, 16384, null, 0, i15.MatHeaderCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[14, 4]], i16.CdkHeaderCellDef, null, [i15.MatHeaderCellDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_DomainReferencesComponent_11)), i1.ɵdid(44, 16384, null, 0, i15.MatCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[13, 4]], i16.CdkCellDef, null, [i15.MatCellDef]), (_l()(), i1.ɵeld(46, 0, null, null, 12, null, null, null, null, null, null, null)), i1.ɵprd(6144, null, \"MAT_SORT_HEADER_COLUMN_DEF\", null, [i15.MatColumnDef]), i1.ɵdid(48, 16384, null, 3, i15.MatColumnDef, [], { name: [0, \"name\"] }, null), i1.ɵqud(603979776, 16, { cell: 0 }), i1.ɵqud(603979776, 17, { headerCell: 0 }), i1.ɵqud(603979776, 18, { footerCell: 0 }), i1.ɵprd(2048, [[3, 4]], i16.CdkColumnDef, null, [i15.MatColumnDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_DomainReferencesComponent_12)), i1.ɵdid(54, 16384, null, 0, i15.MatHeaderCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[17, 4]], i16.CdkHeaderCellDef, null, [i15.MatHeaderCellDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_DomainReferencesComponent_13)), i1.ɵdid(57, 16384, null, 0, i15.MatCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[16, 4]], i16.CdkCellDef, null, [i15.MatCellDef]), (_l()(), i1.ɵeld(59, 0, null, null, 12, null, null, null, null, null, null, null)), i1.ɵprd(6144, null, \"MAT_SORT_HEADER_COLUMN_DEF\", null, [i15.MatColumnDef]), i1.ɵdid(61, 16384, null, 3, i15.MatColumnDef, [], { name: [0, \"name\"] }, null), i1.ɵqud(603979776, 19, { cell: 0 }), i1.ɵqud(603979776, 20, { headerCell: 0 }), i1.ɵqud(603979776, 21, { footerCell: 0 }), i1.ɵprd(2048, [[3, 4]], i16.CdkColumnDef, null, [i15.MatColumnDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_DomainReferencesComponent_18)), i1.ɵdid(67, 16384, null, 0, i15.MatHeaderCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[20, 4]], i16.CdkHeaderCellDef, null, [i15.MatHeaderCellDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_DomainReferencesComponent_19)), i1.ɵdid(70, 16384, null, 0, i15.MatCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[19, 4]], i16.CdkCellDef, null, [i15.MatCellDef]), (_l()(), i1.ɵeld(72, 0, null, null, 12, null, null, null, null, null, null, null)), i1.ɵprd(6144, null, \"MAT_SORT_HEADER_COLUMN_DEF\", null, [i15.MatColumnDef]), i1.ɵdid(74, 16384, null, 3, i15.MatColumnDef, [], { name: [0, \"name\"] }, null), i1.ɵqud(603979776, 22, { cell: 0 }), i1.ɵqud(603979776, 23, { headerCell: 0 }), i1.ɵqud(603979776, 24, { footerCell: 0 }), i1.ɵprd(2048, [[3, 4]], i16.CdkColumnDef, null, [i15.MatColumnDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_DomainReferencesComponent_20)), i1.ɵdid(80, 16384, null, 0, i15.MatHeaderCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[23, 4]], i16.CdkHeaderCellDef, null, [i15.MatHeaderCellDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_DomainReferencesComponent_21)), i1.ɵdid(83, 16384, null, 0, i15.MatCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[22, 4]], i16.CdkCellDef, null, [i15.MatCellDef]), (_l()(), i1.ɵeld(85, 0, null, null, 12, null, null, null, null, null, null, null)), i1.ɵprd(6144, null, \"MAT_SORT_HEADER_COLUMN_DEF\", null, [i15.MatColumnDef]), i1.ɵdid(87, 16384, null, 3, i15.MatColumnDef, [], { name: [0, \"name\"] }, null), i1.ɵqud(603979776, 25, { cell: 0 }), i1.ɵqud(603979776, 26, { headerCell: 0 }), i1.ɵqud(603979776, 27, { footerCell: 0 }), i1.ɵprd(2048, [[3, 4]], i16.CdkColumnDef, null, [i15.MatColumnDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_DomainReferencesComponent_22)), i1.ɵdid(93, 16384, null, 0, i15.MatHeaderCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[26, 4]], i16.CdkHeaderCellDef, null, [i15.MatHeaderCellDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_DomainReferencesComponent_23)), i1.ɵdid(96, 16384, null, 0, i15.MatCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[25, 4]], i16.CdkCellDef, null, [i15.MatCellDef]), (_l()(), i1.ɵeld(98, 0, null, null, 12, null, null, null, null, null, null, null)), i1.ɵprd(6144, null, \"MAT_SORT_HEADER_COLUMN_DEF\", null, [i15.MatColumnDef]), i1.ɵdid(100, 16384, null, 3, i15.MatColumnDef, [], { name: [0, \"name\"] }, null), i1.ɵqud(603979776, 28, { cell: 0 }), i1.ɵqud(603979776, 29, { headerCell: 0 }), i1.ɵqud(603979776, 30, { footerCell: 0 }), i1.ɵprd(2048, [[3, 4]], i16.CdkColumnDef, null, [i15.MatColumnDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_DomainReferencesComponent_25)), i1.ɵdid(106, 16384, null, 0, i15.MatHeaderCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[29, 4]], i16.CdkHeaderCellDef, null, [i15.MatHeaderCellDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_DomainReferencesComponent_26)), i1.ɵdid(109, 16384, null, 0, i15.MatCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[28, 4]], i16.CdkCellDef, null, [i15.MatCellDef]), (_l()(), i1.ɵeld(111, 0, null, null, 12, null, null, null, null, null, null, null)), i1.ɵprd(6144, null, \"MAT_SORT_HEADER_COLUMN_DEF\", null, [i15.MatColumnDef]), i1.ɵdid(113, 16384, null, 3, i15.MatColumnDef, [], { name: [0, \"name\"] }, null), i1.ɵqud(603979776, 31, { cell: 0 }), i1.ɵqud(603979776, 32, { headerCell: 0 }), i1.ɵqud(603979776, 33, { footerCell: 0 }), i1.ɵprd(2048, [[3, 4]], i16.CdkColumnDef, null, [i15.MatColumnDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_DomainReferencesComponent_27)), i1.ɵdid(119, 16384, null, 0, i15.MatHeaderCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[32, 4]], i16.CdkHeaderCellDef, null, [i15.MatHeaderCellDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_DomainReferencesComponent_28)), i1.ɵdid(122, 16384, null, 0, i15.MatCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[31, 4]], i16.CdkCellDef, null, [i15.MatCellDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_DomainReferencesComponent_29)), i1.ɵdid(125, 540672, null, 0, i15.MatHeaderRowDef, [i1.TemplateRef, i1.IterableDiffers], { columns: [0, \"columns\"] }, null), i1.ɵprd(2048, [[5, 4]], i16.CdkHeaderRowDef, null, [i15.MatHeaderRowDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_DomainReferencesComponent_30)), i1.ɵdid(128, 540672, null, 0, i15.MatRowDef, [i1.TemplateRef, i1.IterableDiffers], { columns: [0, \"columns\"] }, null), i1.ɵprd(2048, [[4, 4]], i16.CdkRowDef, null, [i15.MatRowDef])], function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.tableData; _ck(_v, 2, 0, currVal_0); var currVal_1 = \"type\"; _ck(_v, 9, 0, currVal_1); var currVal_2 = \"citation\"; _ck(_v, 22, 0, currVal_2); var currVal_3 = \"publicDomain\"; _ck(_v, 35, 0, currVal_3); var currVal_4 = \"access\"; _ck(_v, 48, 0, currVal_4); var currVal_5 = \"goToReference\"; _ck(_v, 61, 0, currVal_5); var currVal_6 = \"remove\"; _ck(_v, 74, 0, currVal_6); var currVal_7 = \"attachment\"; _ck(_v, 87, 0, currVal_7); var currVal_8 = \"delete\"; _ck(_v, 100, 0, currVal_8); var currVal_9 = \"apply\"; _ck(_v, 113, 0, currVal_9); var currVal_10 = _co.displayedColumns; _ck(_v, 125, 0, currVal_10); var currVal_11 = _co.displayedColumns; _ck(_v, 128, 0, currVal_11); }, null); }\nexport function View_DomainReferencesComponent_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 27, \"div\", [[\"class\", \"domain-references-content\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 26, \"mat-accordion\", [[\"class\", \"mat-accordion\"]], null, null, null, null, null)), i1.ɵdid(2, 1720320, null, 1, i21.MatAccordion, [], null, null), i1.ɵqud(603979776, 1, { _headers: 1 }), i1.ɵprd(2048, null, i21.MAT_ACCORDION, null, [i21.MatAccordion]), (_l()(), i1.ɵeld(5, 16777216, null, null, 22, \"mat-expansion-panel\", [[\"class\", \"mat-expansion-panel\"]], [[2, \"mat-expanded\", null], [2, \"_mat-animation-noopable\", null], [2, \"mat-expansion-panel-spacing\", null]], [[null, \"closed\"], [null, \"opened\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"closed\" === en)) {\n        var pd_0 = (_co.panelClosed() !== false);\n        ad = (pd_0 && ad);\n    } if ((\"opened\" === en)) {\n        var pd_1 = (_co.panelOpened() !== false);\n        ad = (pd_1 && ad);\n    } return ad; }, i22.View_MatExpansionPanel_0, i22.RenderType_MatExpansionPanel)), i1.ɵdid(6, 1753088, null, 1, i21.MatExpansionPanel, [[3, i21.MAT_ACCORDION], i1.ChangeDetectorRef, i23.UniqueSelectionDispatcher, i1.ViewContainerRef, i14.DOCUMENT, [2, i5.ANIMATION_MODULE_TYPE], [2, i21.MAT_EXPANSION_PANEL_DEFAULT_OPTIONS]], null, { closed: \"closed\", opened: \"opened\" }), i1.ɵqud(603979776, 2, { _lazyContent: 0 }), i1.ɵprd(256, null, i21.MAT_ACCORDION, undefined, []), (_l()(), i1.ɵeld(9, 0, null, 0, 15, \"mat-expansion-panel-header\", [[\"class\", \"domain-reference-header mat-expansion-panel-header\"], [\"role\", \"button\"]], [[1, \"id\", 0], [1, \"tabindex\", 0], [1, \"aria-controls\", 0], [1, \"aria-expanded\", 0], [1, \"aria-disabled\", 0], [2, \"mat-expanded\", null], [2, \"mat-expansion-toggle-indicator-after\", null], [2, \"mat-expansion-toggle-indicator-before\", null], [40, \"@.disabled\", 0], [40, \"@expansionHeight\", 0]], [[null, \"click\"], [null, \"keydown\"], [\"component\", \"@expansionHeight.start\"]], function (_v, en, $event) { var ad = true; if ((\"click\" === en)) {\n        var pd_0 = (i1.ɵnov(_v, 10)._toggle() !== false);\n        ad = (pd_0 && ad);\n    } if ((\"keydown\" === en)) {\n        var pd_1 = (i1.ɵnov(_v, 10)._keydown($event) !== false);\n        ad = (pd_1 && ad);\n    } if ((\"component:@expansionHeight.start\" === en)) {\n        var pd_2 = (i1.ɵnov(_v, 10)._animationStarted() !== false);\n        ad = (pd_2 && ad);\n    } return ad; }, i22.View_MatExpansionPanelHeader_0, i22.RenderType_MatExpansionPanelHeader)), i1.ɵdid(10, 180224, [[1, 4]], 0, i21.MatExpansionPanelHeader, [i21.MatExpansionPanel, i1.ElementRef, i4.FocusMonitor, i1.ChangeDetectorRef, [2, i21.MAT_EXPANSION_PANEL_DEFAULT_OPTIONS]], null, null), i1.ɵpod(11, { collapsedHeight: 0, expandedHeight: 1 }), i1.ɵpod(12, { value: 0, params: 1 }), (_l()(), i1.ɵeld(13, 0, null, 0, 11, \"mat-panel-title\", [[\"class\", \"mat-expansion-panel-header-title\"]], null, null, null, null, null)), i1.ɵprd(512, null, i14.ɵNgClassImpl, i14.ɵNgClassR2Impl, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2]), i1.ɵdid(15, 278528, null, 0, i14.NgClass, [i14.ɵNgClassImpl], { ngClass: [0, \"ngClass\"] }, null), i1.ɵpod(16, { \"block-display\": 0 }), i1.ɵdid(17, 16384, null, 0, i21.MatExpansionPanelTitle, [], null, null), (_l()(), i1.ɵeld(18, 16777216, null, null, 4, \"h4\", [[\"class\", \"title\"], [\"matTooltip\", \"Expand references\"]], null, [[null, \"longpress\"], [null, \"keydown\"], [null, \"touchend\"]], function (_v, en, $event) { var ad = true; if ((\"longpress\" === en)) {\n        var pd_0 = (i1.ɵnov(_v, 19).show() !== false);\n        ad = (pd_0 && ad);\n    } if ((\"keydown\" === en)) {\n        var pd_1 = (i1.ɵnov(_v, 19)._handleKeydown($event) !== false);\n        ad = (pd_1 && ad);\n    } if ((\"touchend\" === en)) {\n        var pd_2 = (i1.ɵnov(_v, 19)._handleTouchend() !== false);\n        ad = (pd_2 && ad);\n    } return ad; }, null, null)), i1.ɵdid(19, 212992, null, 0, i6.MatTooltip, [i7.Overlay, i1.ElementRef, i8.ScrollDispatcher, i1.ViewContainerRef, i1.NgZone, i9.Platform, i4.AriaDescriber, i4.FocusMonitor, i6.MAT_TOOLTIP_SCROLL_STRATEGY, [2, i10.Directionality], [2, i6.MAT_TOOLTIP_DEFAULT_OPTIONS], [2, i11.HAMMER_LOADER]], { message: [0, \"message\"] }, null), (_l()(), i1.ɵted(20, null, [\" \", \"References \"])), (_l()(), i1.ɵeld(21, 0, null, null, 1, \"span\", [[\"class\", \"custom-badge mat-badge\"], [\"matBadgeOverlap\", \"false\"]], [[8, \"hidden\", 0], [2, \"mat-badge-overlap\", null], [2, \"mat-badge-above\", null], [2, \"mat-badge-below\", null], [2, \"mat-badge-before\", null], [2, \"mat-badge-after\", null], [2, \"mat-badge-small\", null], [2, \"mat-badge-medium\", null], [2, \"mat-badge-large\", null], [2, \"mat-badge-hidden\", null], [2, \"mat-badge-disabled\", null]], null, null, null, null)), i1.ɵdid(22, 671744, null, 0, i24.MatBadge, [i1.NgZone, i1.ElementRef, i4.AriaDescriber, i1.Renderer2, [2, i5.ANIMATION_MODULE_TYPE]], { overlap: [0, \"overlap\"], content: [1, \"content\"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_DomainReferencesComponent_1)), i1.ɵdid(24, 16384, null, 0, i14.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i1.ɵeld(25, 0, null, 1, 2, \"div\", [], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_DomainReferencesComponent_3)), i1.ɵdid(27, 16384, null, 0, i14.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_13 = _ck(_v, 16, 0, !_co.isExpanded); _ck(_v, 15, 0, currVal_13); var currVal_14 = \"Expand references\"; _ck(_v, 19, 0, currVal_14); var currVal_27 = \"false\"; var currVal_28 = ((_co.referencesUuids && _co.referencesUuids.length) || 0); _ck(_v, 22, 0, currVal_27, currVal_28); var currVal_29 = _co.isExpanded; _ck(_v, 24, 0, currVal_29); var currVal_30 = _co.referencesUuids; _ck(_v, 27, 0, currVal_30); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = i1.ɵnov(_v, 6).expanded; var currVal_1 = (i1.ɵnov(_v, 6)._animationMode === \"NoopAnimations\"); var currVal_2 = i1.ɵnov(_v, 6)._hasSpacing(); _ck(_v, 5, 0, currVal_0, currVal_1, currVal_2); var currVal_3 = i1.ɵnov(_v, 10).panel._headerId; var currVal_4 = (i1.ɵnov(_v, 10).disabled ? (0 - 1) : 0); var currVal_5 = i1.ɵnov(_v, 10)._getPanelId(); var currVal_6 = i1.ɵnov(_v, 10)._isExpanded(); var currVal_7 = i1.ɵnov(_v, 10).panel.disabled; var currVal_8 = i1.ɵnov(_v, 10)._isExpanded(); var currVal_9 = (i1.ɵnov(_v, 10)._getTogglePosition() === \"after\"); var currVal_10 = (i1.ɵnov(_v, 10)._getTogglePosition() === \"before\"); var currVal_11 = i1.ɵnov(_v, 10)._animationsDisabled; var currVal_12 = _ck(_v, 12, 0, i1.ɵnov(_v, 10)._getExpandedState(), _ck(_v, 11, 0, i1.ɵnov(_v, 10).collapsedHeight, i1.ɵnov(_v, 10).expandedHeight)); _ck(_v, 9, 0, currVal_3, currVal_4, currVal_5, currVal_6, currVal_7, currVal_8, currVal_9, currVal_10, currVal_11, currVal_12); var currVal_15 = ((_co.card && (_co.card === \"definition\")) ? \"Definitional \" : \"\"); _ck(_v, 20, 0, currVal_15); var currVal_16 = _co.isExpanded; var currVal_17 = i1.ɵnov(_v, 22).overlap; var currVal_18 = i1.ɵnov(_v, 22).isAbove(); var currVal_19 = !i1.ɵnov(_v, 22).isAbove(); var currVal_20 = !i1.ɵnov(_v, 22).isAfter(); var currVal_21 = i1.ɵnov(_v, 22).isAfter(); var currVal_22 = (i1.ɵnov(_v, 22).size === \"small\"); var currVal_23 = (i1.ɵnov(_v, 22).size === \"medium\"); var currVal_24 = (i1.ɵnov(_v, 22).size === \"large\"); var currVal_25 = (i1.ɵnov(_v, 22).hidden || !i1.ɵnov(_v, 22)._hasContent); var currVal_26 = i1.ɵnov(_v, 22).disabled; _ck(_v, 21, 1, [currVal_16, currVal_17, currVal_18, currVal_19, currVal_20, currVal_21, currVal_22, currVal_23, currVal_24, currVal_25, currVal_26]); }); }\nexport function View_DomainReferencesComponent_Host_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"app-domain-references\", [], null, null, null, View_DomainReferencesComponent_0, RenderType_DomainReferencesComponent)), i1.ɵdid(1, 245760, null, 0, i25.DomainReferencesComponent, [i26.ControlledVocabularyService, i19.SubstanceFormService, i27.MatDialog, i1.ElementRef, i28.UtilsService, i7.OverlayContainer], null, null)], function (_ck, _v) { _ck(_v, 1, 0); }, null); }\nvar DomainReferencesComponentNgFactory = i1.ɵccf(\"app-domain-references\", i25.DomainReferencesComponent, View_DomainReferencesComponent_Host_0, { card: \"card\", referencesUuids: \"referencesUuids\" }, {}, []);\nexport { DomainReferencesComponentNgFactory as DomainReferencesComponentNgFactory };\n","<div class=\"domain-references-content\">\r\n  <mat-accordion>\r\n    <mat-expansion-panel (closed)=\"panelClosed()\" (opened)=\"panelOpened()\">\r\n      <mat-expansion-panel-header class=\"domain-reference-header\">\r\n        <mat-panel-title [ngClass]=\"{'block-display': !isExpanded}\">\r\n          <h4 class=\"title\" matTooltip=\"Expand references\">\r\n            {{card && card === 'definition'? 'Definitional ': ''}}References\r\n            <span [matBadge]=\"referencesUuids && referencesUuids.length || 0\" class = \"custom-badge\" matBadgeOverlap=\"false\"\r\n              [hidden]=\"isExpanded\"></span>\r\n          </h4>\r\n          <div *ngIf=\"isExpanded\">\r\n            <button mat-icon-button matTooltip=\"Create new reference\"\r\n              (click)=\"addNewReference(); $event.stopPropagation()\">\r\n              <mat-icon svgIcon=\"add_circle_outline\"></mat-icon>\r\n            </button>\r\n            <button mat-icon-button matTooltip=\"Reuse existing reference\"\r\n              (click)=\"reuseExistingReference(); $event.stopPropagation()\" *ngIf=\"canReuse\">\r\n              <mat-icon svgIcon=\"move_to_inbox\"></mat-icon>\r\n            </button>\r\n          </div>\r\n        </mat-panel-title>\r\n      </mat-expansion-panel-header>\r\n      <div>\r\n        <table mat-table *ngIf=\"referencesUuids\" [dataSource]=\"tableData\">\r\n          <ng-container matColumnDef=\"type\">\r\n            <th mat-header-cell *matHeaderCellDef> Type </th>\r\n            <td mat-cell *matCellDef=\"let reference\">\r\n              {{documentTypesDictionary[reference.docType] && documentTypesDictionary[reference.docType].value}} </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"citation\">\r\n            <th mat-header-cell *matHeaderCellDef> Citation </th>\r\n            <td mat-cell *matCellDef=\"let reference\">\r\n              <span *ngIf=\"!reference.url\">{{reference.citation}}</span>\r\n              <a [href]=\"reference.url\" target=\"_blank\" *ngIf=\"reference.url\">{{reference.citation}}</a>\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"publicDomain\">\r\n            <th mat-header-cell *matHeaderCellDef> Public Domain </th>\r\n            <td mat-cell *matCellDef=\"let reference\">\r\n              {{reference.publicDomain ? 'Yes' : 'No'}}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"access\">\r\n            <th mat-header-cell *matHeaderCellDef> Access </th>\r\n            <td mat-cell *matCellDef=\"let reference\">\r\n              <span *ngIf=\"!reference.access || reference.access.length === 0\">\r\n                Public\r\n              </span>\r\n              <span *ngIf=\"reference.access && reference.access.length > 0\">\r\n                <span *ngFor=\"let item of reference.access; last as isLast\">\r\n                  {{item}}\r\n                  <span *ngIf=\"!isLast\">, </span>\r\n                </span>\r\n              </span>\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"goToReference\">\r\n            <th mat-header-cell *matHeaderCellDef> Open </th>\r\n            <td mat-cell *matCellDef=\"let reference\">\r\n              <button mat-icon-button matTooltip=\"Open reference form\" (click)=\"openExistingReferenceForm(reference)\">\r\n                <mat-icon svgIcon=\"open_in_new\"></mat-icon>\r\n              </button>\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"remove\">\r\n            <th mat-header-cell *matHeaderCellDef> Remove </th>\r\n            <td mat-cell *matCellDef=\"let reference\">\r\n              <button mat-icon-button matTooltip=\"Remove reference\" (click)=\"removeDomainReference(reference.uuid)\">\r\n                <mat-icon svgIcon=\"clear\"></mat-icon>\r\n              </button>\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"attachment\">\r\n            <th mat-header-cell *matHeaderCellDef> </th>\r\n            <td mat-cell *matCellDef=\"let reference\">\r\n              <div *ngIf=\"reference.uploadedFile\">\r\n                <a mat-icon-button matTooltip=\"Download document\" [href]=\"reference.uploadedFile\">\r\n                  <mat-icon svgIcon=\"cloud_download\"></mat-icon>\r\n                </a>\r\n              </div>\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"delete\">\r\n            <th mat-header-cell *matHeaderCellDef> Delete </th>\r\n            <td mat-cell *matCellDef=\"let reference\">\r\n              <button mat-icon-button matTooltip=\"Delete reference from entire substance\"\r\n                (click)=\"deleteReference(reference)\">\r\n                <mat-icon svgIcon=\"delete_forever\"></mat-icon>\r\n              </button>\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"apply\">\r\n              <th mat-header-cell *matHeaderCellDef></th>\r\n              <td mat-cell *matCellDef=\"let reference\">\r\n                  <app-apply-reference [subReferenceUuid]=\"reference.uuid\"></app-apply-reference>\r\n              </td>\r\n            </ng-container>\r\n\r\n          <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n          <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n        </table>\r\n      </div>\r\n    </mat-expansion-panel>\r\n  </mat-accordion>\r\n</div>\r\n","import { Output, EventEmitter } from '@angular/core';\r\n\r\nexport abstract class SubstanceFormBase {\r\n    analyticsEventCategory: string;\r\n    @Output() menuLabelUpdate = new EventEmitter<string>();\r\n    @Output() hiddenStateUpdate = new EventEmitter<boolean>();\r\n    @Output() canAddItemUpdate = new EventEmitter<boolean>();\r\n    @Output() componentDestroyed = new EventEmitter<void>();\r\n}\r\n"],"sourceRoot":"webpack:///"}