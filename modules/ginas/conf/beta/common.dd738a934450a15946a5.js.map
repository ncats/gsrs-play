{"version":3,"sources":["./src/app/core/references-manager/references-manager.module.ts","./node_modules/ng-multiselect-dropdown/fesm5/ng-multiselect-dropdown.js.pre-build-optimizer.js","./src/app/core/substance-details/substance-card-base.ts","./node_modules/@angular/material/radio/typings/index.ngfactory.js.pre-build-optimizer.js","./node_modules/@angular/material/radio/typings/index.d.ts.MatRadioButton.html","./src/app/core/references-manager/references-manager.component.ts","./src/app/core/structure/index.ts","./src/app/core/substance-selector/substance-selector.component.ts","./src/app/core/substance-selector/substance-selector.component.ts.pre-build-optimizer.js","./src/app/core/substance-details/substance-card-base-filtered-list.ts.pre-build-optimizer.js","./src/app/core/substance-details/substance-card-base-filtered-list.ts","./src/app/core/substance-form/base-classes/substance-form-base-filtered-list.ts.pre-build-optimizer.js","./src/app/core/substance-form/base-classes/substance-form-base-filtered-list.ts","./src/app/core/references-manager/references-manager.component.scss.shim.ngstyle.js.pre-build-optimizer.js","./src/app/core/references-manager/references-manager.component.ngfactory.js.pre-build-optimizer.js","./src/app/core/references-manager/references-manager.component.html","./src/app/core/substance-selector/substance-selector.component.scss.shim.ngstyle.js.pre-build-optimizer.js","./src/app/core/substance-selector/substance-selector.component.ngfactory.js.pre-build-optimizer.js","./src/app/core/substance-selector/substance-selector.component.html"],"names":["NgMultiSelectDropDownModule","NgMultiSelectDropDownModule_1","forRoot","ngModule","countUpdate","RenderType_MatRadioButton","encapsulation","styles","data","View_MatRadioButton_0","_l","_inputElement","ad","_co","_onInputChange","$event","_onInputClick","substanceService","matchedRef","displayedColumns","ngOnInit","this","substance","subRef","references","subUUID","getSubstanceDetails","pipe","subscribe","response","unsubscribe","error","compileReferences","forEach","ref","indexOf","uuid","push","convertTimestamp","time","transform","getParentIndex","configService","selectionUpdated","placeholder","hintMessage","header","substanceSelectorProperties","hideImage","configData","set","getSubstanceSummary","selectedSubstance","name","_name","errorMessage","enumerable","configurable","processSubstanceSearch","searchValue","q","replace","searchStr","map","property","join","getQuickSubstancesSummaries","content","length","emit","editSelectedSubstance","previousSubstance","JSON","parse","stringify","revertEdit","gaService","page","pageSize","searchControl","_this","pageChange","pageEvent","analyticsEventCategory","eventAction","eventValue","pageIndex","sendEvent","paged","startIndex","i","filtered","filterList","searchInput","listToFilter","searchTimer","clearTimeout","setTimeout","isAnalyticsPrivate","item","toLowerCase","RenderType_ReferencesManagerComponent","View_ReferencesManagerComponent_1","View_ReferencesManagerComponent_2","View_ReferencesManagerComponent_3","View_ReferencesManagerComponent_5","View_ReferencesManagerComponent_6","View_ReferencesManagerComponent_4","View_ReferencesManagerComponent_7","View_ReferencesManagerComponent_8","View_ReferencesManagerComponent_9","View_ReferencesManagerComponent_11","View_ReferencesManagerComponent_10","View_ReferencesManagerComponent_12","View_ReferencesManagerComponent_14","View_ReferencesManagerComponent_13","View_ReferencesManagerComponent_15","View_ReferencesManagerComponent_16","View_ReferencesManagerComponent_17","View_ReferencesManagerComponent_18","View_ReferencesManagerComponent_0","RenderType_SubstanceSelectorComponent","View_SubstanceSelectorComponent_1","_v","show","en","_handleKeydown","_handleTouchend","View_SubstanceSelectorComponent_4","_haltDisabledEvents","onClick","button","ctrlKey","metaKey","shiftKey","target","routerLink","svgIcon","message","View_SubstanceSelectorComponent_3","View_SubstanceSelectorComponent_5","View_SubstanceSelectorComponent_6","View_SubstanceSelectorComponent_2","showOptions","View_SubstanceSelectorComponent_0"],"mappings":"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","file":"common.dd738a934450a15946a5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {MatTableModule, MatIconModule} from '@angular/material';\r\nimport {ReferencesManagerComponent} from './references-manager.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    MatTableModule,\r\n    MatIconModule\r\n  ],\r\n\r\n  declarations: [ReferencesManagerComponent],\r\n  exports: [ReferencesManagerComponent],\r\n})\r\nexport class ReferencesManagerModule { }\r\n","import { __decorate } from 'tslib';\nimport { forwardRef, EventEmitter, ChangeDetectorRef, Input, Output, HostListener, Component, ChangeDetectionStrategy, ElementRef, Directive, Pipe, NgModule } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\n\nvar ListItem = /** @class */ (function () {\r\n    function ListItem(source) {\r\n        if (typeof source === 'string' || typeof source === 'number') {\r\n            this.id = this.text = source;\r\n            this.isDisabled = false;\r\n        }\r\n        if (typeof source === 'object') {\r\n            this.id = source.id;\r\n            this.text = source.text;\r\n            this.isDisabled = source.isDisabled;\r\n        }\r\n    }\r\n    return ListItem;\r\n}());\n\nvar DROPDOWN_CONTROL_VALUE_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(function () { return MultiSelectComponent; }),\r\n    multi: true\r\n};\r\nvar noop = function () { };\r\nvar ɵ0 = noop;\r\nvar MultiSelectComponent = /** @class */ (function () {\r\n    function MultiSelectComponent(cdr) {\r\n        this.cdr = cdr;\r\n        this._data = [];\r\n        this.selectedItems = [];\r\n        this.isDropdownOpen = true;\r\n        this._placeholder = \"Select\";\r\n        this._sourceDataType = null; // to keep note of the source data type. could be array of string/number/object\r\n        this._sourceDataFields = []; // store source data fields names\r\n        this.filter = new ListItem(this.data);\r\n        this.defaultSettings = {\r\n            singleSelection: false,\r\n            idField: \"id\",\r\n            textField: \"text\",\r\n            disabledField: \"isDisabled\",\r\n            enableCheckAll: true,\r\n            selectAllText: \"Select All\",\r\n            unSelectAllText: \"UnSelect All\",\r\n            allowSearchFilter: false,\r\n            limitSelection: -1,\r\n            clearSearchFilter: true,\r\n            maxHeight: 197,\r\n            itemsShowLimit: 999999999999,\r\n            searchPlaceholderText: \"Search\",\r\n            noDataAvailablePlaceholderText: \"No data available\",\r\n            closeDropDownOnSelection: false,\r\n            showSelectedItemsAtTop: false,\r\n            defaultOpen: false,\r\n            allowRemoteDataSearch: false\r\n        };\r\n        this.disabled = false;\r\n        this.onFilterChange = new EventEmitter();\r\n        this.onDropDownClose = new EventEmitter();\r\n        this.onSelect = new EventEmitter();\r\n        this.onDeSelect = new EventEmitter();\r\n        this.onSelectAll = new EventEmitter();\r\n        this.onDeSelectAll = new EventEmitter();\r\n        this.onTouchedCallback = noop;\r\n        this.onChangeCallback = noop;\r\n    }\r\n    Object.defineProperty(MultiSelectComponent.prototype, \"placeholder\", {\r\n        set: function (value) {\r\n            if (value) {\r\n                this._placeholder = value;\r\n            }\r\n            else {\r\n                this._placeholder = \"Select\";\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MultiSelectComponent.prototype, \"settings\", {\r\n        set: function (value) {\r\n            if (value) {\r\n                this._settings = Object.assign(this.defaultSettings, value);\r\n            }\r\n            else {\r\n                this._settings = Object.assign(this.defaultSettings);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MultiSelectComponent.prototype, \"data\", {\r\n        set: function (value) {\r\n            var _this = this;\r\n            if (!value) {\r\n                this._data = [];\r\n            }\r\n            else {\r\n                var firstItem = value[0];\r\n                this._sourceDataType = typeof firstItem;\r\n                this._sourceDataFields = this.getFields(firstItem);\r\n                this._data = value.map(function (item) {\r\n                    return typeof item === \"string\" || typeof item === \"number\"\r\n                        ? new ListItem(item)\r\n                        : new ListItem({\r\n                            id: item[_this._settings.idField],\r\n                            text: item[_this._settings.textField],\r\n                            isDisabled: item[_this._settings.disabledField]\r\n                        });\r\n                });\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MultiSelectComponent.prototype.onFilterTextChange = function ($event) {\r\n        this.onFilterChange.emit($event);\r\n    };\r\n    MultiSelectComponent.prototype.onItemClick = function ($event, item) {\r\n        if (this.disabled || item.isDisabled) {\r\n            return false;\r\n        }\r\n        var found = this.isSelected(item);\r\n        var allowAdd = this._settings.limitSelection === -1 || (this._settings.limitSelection > 0 && this.selectedItems.length < this._settings.limitSelection);\r\n        if (!found) {\r\n            if (allowAdd) {\r\n                this.addSelected(item);\r\n            }\r\n        }\r\n        else {\r\n            this.removeSelected(item);\r\n        }\r\n        if (this._settings.singleSelection && this._settings.closeDropDownOnSelection) {\r\n            this.closeDropdown();\r\n        }\r\n    };\r\n    MultiSelectComponent.prototype.writeValue = function (value) {\r\n        var _this = this;\r\n        if (value !== undefined && value !== null && value.length > 0) {\r\n            if (this._settings.singleSelection) {\r\n                try {\r\n                    if (value.length >= 1) {\r\n                        var firstItem = value[0];\r\n                        this.selectedItems = [\r\n                            typeof firstItem === \"string\" || typeof firstItem === \"number\"\r\n                                ? new ListItem(firstItem)\r\n                                : new ListItem({\r\n                                    id: firstItem[this._settings.idField],\r\n                                    text: firstItem[this._settings.textField],\r\n                                    isDisabled: firstItem[this._settings.disabledField]\r\n                                })\r\n                        ];\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // console.error(e.body.msg);\r\n                }\r\n            }\r\n            else {\r\n                var _data = value.map(function (item) {\r\n                    return typeof item === \"string\" || typeof item === \"number\"\r\n                        ? new ListItem(item)\r\n                        : new ListItem({\r\n                            id: item[_this._settings.idField],\r\n                            text: item[_this._settings.textField],\r\n                            isDisabled: item[_this._settings.disabledField]\r\n                        });\r\n                });\r\n                if (this._settings.limitSelection > 0) {\r\n                    this.selectedItems = _data.splice(0, this._settings.limitSelection);\r\n                }\r\n                else {\r\n                    this.selectedItems = _data;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.selectedItems = [];\r\n        }\r\n        this.onChangeCallback(value);\r\n    };\r\n    // From ControlValueAccessor interface\r\n    MultiSelectComponent.prototype.registerOnChange = function (fn) {\r\n        this.onChangeCallback = fn;\r\n    };\r\n    // From ControlValueAccessor interface\r\n    MultiSelectComponent.prototype.registerOnTouched = function (fn) {\r\n        this.onTouchedCallback = fn;\r\n    };\r\n    // Set touched on blur\r\n    MultiSelectComponent.prototype.onTouched = function () {\r\n        this.closeDropdown();\r\n        this.onTouchedCallback();\r\n    };\r\n    MultiSelectComponent.prototype.trackByFn = function (index, item) {\r\n        return item.id;\r\n    };\r\n    MultiSelectComponent.prototype.isSelected = function (clickedItem) {\r\n        var found = false;\r\n        this.selectedItems.forEach(function (item) {\r\n            if (clickedItem.id === item.id) {\r\n                found = true;\r\n            }\r\n        });\r\n        return found;\r\n    };\r\n    MultiSelectComponent.prototype.isLimitSelectionReached = function () {\r\n        return this._settings.limitSelection === this.selectedItems.length;\r\n    };\r\n    MultiSelectComponent.prototype.isAllItemsSelected = function () {\r\n        // get disabld item count\r\n        var itemDisabledCount = this._data.filter(function (item) { return item.isDisabled; }).length;\r\n        // take disabled items into consideration when checking\r\n        if ((!this.data || this.data.length === 0) && this._settings.allowRemoteDataSearch) {\r\n            return false;\r\n        }\r\n        return this._data.length === this.selectedItems.length + itemDisabledCount;\r\n    };\r\n    MultiSelectComponent.prototype.showButton = function () {\r\n        if (!this._settings.singleSelection) {\r\n            if (this._settings.limitSelection > 0) {\r\n                return false;\r\n            }\r\n            // this._settings.enableCheckAll = this._settings.limitSelection === -1 ? true : false;\r\n            return true; // !this._settings.singleSelection && this._settings.enableCheckAll && this._data.length > 0;\r\n        }\r\n        else {\r\n            // should be disabled in single selection mode\r\n            return false;\r\n        }\r\n    };\r\n    MultiSelectComponent.prototype.itemShowRemaining = function () {\r\n        return this.selectedItems.length - this._settings.itemsShowLimit;\r\n    };\r\n    MultiSelectComponent.prototype.addSelected = function (item) {\r\n        if (this._settings.singleSelection) {\r\n            this.selectedItems = [];\r\n            this.selectedItems.push(item);\r\n        }\r\n        else {\r\n            this.selectedItems.push(item);\r\n        }\r\n        this.onChangeCallback(this.emittedValue(this.selectedItems));\r\n        this.onSelect.emit(this.emittedValue(item));\r\n    };\r\n    MultiSelectComponent.prototype.removeSelected = function (itemSel) {\r\n        var _this = this;\r\n        this.selectedItems.forEach(function (item) {\r\n            if (itemSel.id === item.id) {\r\n                _this.selectedItems.splice(_this.selectedItems.indexOf(item), 1);\r\n            }\r\n        });\r\n        this.onChangeCallback(this.emittedValue(this.selectedItems));\r\n        this.onDeSelect.emit(this.emittedValue(itemSel));\r\n    };\r\n    MultiSelectComponent.prototype.emittedValue = function (val) {\r\n        var _this = this;\r\n        var selected = [];\r\n        if (Array.isArray(val)) {\r\n            val.map(function (item) {\r\n                selected.push(_this.objectify(item));\r\n            });\r\n        }\r\n        else {\r\n            if (val) {\r\n                return this.objectify(val);\r\n            }\r\n        }\r\n        return selected;\r\n    };\r\n    MultiSelectComponent.prototype.objectify = function (val) {\r\n        if (this._sourceDataType === 'object') {\r\n            var obj = {};\r\n            obj[this._settings.idField] = val.id;\r\n            obj[this._settings.textField] = val.text;\r\n            if (this._sourceDataFields.includes(this._settings.disabledField)) {\r\n                obj[this._settings.disabledField] = val.isDisabled;\r\n            }\r\n            return obj;\r\n        }\r\n        if (this._sourceDataType === 'number') {\r\n            return Number(val.id);\r\n        }\r\n        else {\r\n            return val.text;\r\n        }\r\n    };\r\n    MultiSelectComponent.prototype.toggleDropdown = function (evt) {\r\n        evt.preventDefault();\r\n        if (this.disabled && this._settings.singleSelection) {\r\n            return;\r\n        }\r\n        this._settings.defaultOpen = !this._settings.defaultOpen;\r\n        if (!this._settings.defaultOpen) {\r\n            this.onDropDownClose.emit();\r\n        }\r\n    };\r\n    MultiSelectComponent.prototype.closeDropdown = function () {\r\n        this._settings.defaultOpen = false;\r\n        // clear search text\r\n        if (this._settings.clearSearchFilter) {\r\n            this.filter.text = \"\";\r\n        }\r\n        this.onDropDownClose.emit();\r\n    };\r\n    MultiSelectComponent.prototype.toggleSelectAll = function () {\r\n        if (this.disabled) {\r\n            return false;\r\n        }\r\n        if (!this.isAllItemsSelected()) {\r\n            // filter out disabled item first before slicing\r\n            this.selectedItems = this._data.filter(function (item) { return !item.isDisabled; }).slice();\r\n            this.onSelectAll.emit(this.emittedValue(this.selectedItems));\r\n        }\r\n        else {\r\n            this.selectedItems = [];\r\n            this.onDeSelectAll.emit(this.emittedValue(this.selectedItems));\r\n        }\r\n        this.onChangeCallback(this.emittedValue(this.selectedItems));\r\n    };\r\n    MultiSelectComponent.prototype.getFields = function (inputData) {\r\n        var fields = [];\r\n        if (typeof inputData !== \"object\") {\r\n            return fields;\r\n        }\r\n        // tslint:disable-next-line:forin\r\n        for (var prop in inputData) {\r\n            fields.push(prop);\r\n        }\r\n        return fields;\r\n    };\r\n    MultiSelectComponent.ctorParameters = function () { return [\r\n        { type: ChangeDetectorRef }\r\n    ]; };\r\n    __decorate([\r\n        Input()\r\n    ], MultiSelectComponent.prototype, \"placeholder\", null);\r\n    __decorate([\r\n        Input()\r\n    ], MultiSelectComponent.prototype, \"disabled\", void 0);\r\n    __decorate([\r\n        Input()\r\n    ], MultiSelectComponent.prototype, \"settings\", null);\r\n    __decorate([\r\n        Input()\r\n    ], MultiSelectComponent.prototype, \"data\", null);\r\n    __decorate([\r\n        Output(\"onFilterChange\")\r\n    ], MultiSelectComponent.prototype, \"onFilterChange\", void 0);\r\n    __decorate([\r\n        Output(\"onDropDownClose\")\r\n    ], MultiSelectComponent.prototype, \"onDropDownClose\", void 0);\r\n    __decorate([\r\n        Output(\"onSelect\")\r\n    ], MultiSelectComponent.prototype, \"onSelect\", void 0);\r\n    __decorate([\r\n        Output(\"onDeSelect\")\r\n    ], MultiSelectComponent.prototype, \"onDeSelect\", void 0);\r\n    __decorate([\r\n        Output(\"onSelectAll\")\r\n    ], MultiSelectComponent.prototype, \"onSelectAll\", void 0);\r\n    __decorate([\r\n        Output(\"onDeSelectAll\")\r\n    ], MultiSelectComponent.prototype, \"onDeSelectAll\", void 0);\r\n    __decorate([\r\n        HostListener(\"blur\")\r\n    ], MultiSelectComponent.prototype, \"onTouched\", null);\r\n    MultiSelectComponent = __decorate([\r\n        Component({\r\n            selector: \"ng-multiselect-dropdown\",\r\n            template: \"<div tabindex=\\\"=0\\\" (blur)=\\\"onTouched()\\\" class=\\\"multiselect-dropdown\\\" (clickOutside)=\\\"closeDropdown()\\\">\\r\\n  <div [class.disabled]=\\\"disabled\\\">\\r\\n    <span tabindex=\\\"-1\\\" class=\\\"dropdown-btn\\\" (click)=\\\"toggleDropdown($event)\\\">\\r\\n      <span *ngIf=\\\"selectedItems.length == 0\\\">{{_placeholder}}</span>\\r\\n      <span class=\\\"selected-item\\\" *ngFor=\\\"let item of selectedItems;trackBy: trackByFn;let k = index\\\" [hidden]=\\\"k > _settings.itemsShowLimit-1\\\">\\r\\n        {{item.text}}\\r\\n        <a style=\\\"padding-top:2px;padding-left:2px;color:white\\\" (click)=\\\"onItemClick($event,item)\\\">x</a>\\r\\n      </span>\\r\\n      <span style=\\\"float:right !important;padding-right:4px\\\">\\r\\n        <span style=\\\"padding-right: 6px;\\\" *ngIf=\\\"itemShowRemaining()>0\\\">+{{itemShowRemaining()}}</span>\\r\\n        <span [ngClass]=\\\"_settings.defaultOpen ? 'dropdown-up' : 'dropdown-down'\\\"></span>\\r\\n      </span>\\r\\n    </span>\\r\\n  </div>\\r\\n  <div class=\\\"dropdown-list\\\" [hidden]=\\\"!_settings.defaultOpen\\\">\\r\\n    <ul class=\\\"item1\\\">\\r\\n      <li (click)=\\\"toggleSelectAll()\\\" *ngIf=\\\"(_data.length > 0 || _settings.allowRemoteDataSearch) && !_settings.singleSelection && _settings.enableCheckAll && _settings.limitSelection===-1\\\" class=\\\"multiselect-item-checkbox\\\" style=\\\"border-bottom: 1px solid #ccc;padding:10px\\\">\\r\\n        <input type=\\\"checkbox\\\" aria-label=\\\"multiselect-select-all\\\" [checked]=\\\"isAllItemsSelected()\\\" [disabled]=\\\"disabled || isLimitSelectionReached()\\\" />\\r\\n        <div>{{!isAllItemsSelected() ? _settings.selectAllText : _settings.unSelectAllText}}</div>\\r\\n      </li>\\r\\n      <li class=\\\"filter-textbox\\\" *ngIf=\\\"(_data.length>0 || _settings.allowRemoteDataSearch) && _settings.allowSearchFilter\\\">\\r\\n        <input type=\\\"text\\\" aria-label=\\\"multiselect-search\\\" [readOnly]=\\\"disabled\\\" [placeholder]=\\\"_settings.searchPlaceholderText\\\" [(ngModel)]=\\\"filter.text\\\" (ngModelChange)=\\\"onFilterTextChange($event)\\\">\\r\\n      </li>\\r\\n    </ul>\\r\\n    <ul class=\\\"item2\\\" [style.maxHeight]=\\\"_settings.maxHeight+'px'\\\">\\r\\n      <li *ngFor=\\\"let item of _data | multiSelectFilter:filter; let i = index;\\\" (click)=\\\"onItemClick($event,item)\\\" class=\\\"multiselect-item-checkbox\\\">\\r\\n        <input type=\\\"checkbox\\\" aria-label=\\\"multiselect-item\\\" [checked]=\\\"isSelected(item)\\\" [disabled]=\\\"disabled || (isLimitSelectionReached() && !isSelected(item)) || item.isDisabled\\\" />\\r\\n        <div>{{item.text}}</div>\\r\\n      </li>\\r\\n      <li class='no-data' *ngIf=\\\"_data.length == 0 && !_settings.allowRemoteDataSearch\\\">\\r\\n        <h5>{{_settings.noDataAvailablePlaceholderText}}</h5>\\r\\n      </li>\\r\\n    </ul>\\r\\n  </div>\\r\\n</div>\\r\\n\",\r\n            providers: [DROPDOWN_CONTROL_VALUE_ACCESSOR],\r\n            changeDetection: ChangeDetectionStrategy.OnPush,\r\n            styles: [\".multiselect-dropdown{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown .dropdown-btn{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown .dropdown-btn .selected-item{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left}.multiselect-dropdown .dropdown-btn .selected-item a{text-decoration:none}.multiselect-dropdown .dropdown-btn .selected-item:hover{box-shadow:1px 1px #959595}.multiselect-dropdown .dropdown-btn .dropdown-down{display:inline-block;top:10px;width:0;height:0;border-top:10px solid #adadad;border-left:10px solid transparent;border-right:10px solid transparent}.multiselect-dropdown .dropdown-btn .dropdown-up{display:inline-block;width:0;height:0;border-bottom:10px solid #adadad;border-left:10px solid transparent;border-right:10px solid transparent}.multiselect-dropdown .disabled>span{background-color:#eceeef}.dropdown-list{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list ul{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list li{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list .filter-textbox{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list .filter-textbox input{border:0;width:100%;padding:0 0 0 26px}.dropdown-list .filter-textbox input:focus{outline:0}.multiselect-item-checkbox input[type=checkbox]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox input[type=checkbox]:focus+div:before,.multiselect-item-checkbox input[type=checkbox]:hover+div:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox input[type=checkbox]:active+div:before{transition-duration:0s}.multiselect-item-checkbox input[type=checkbox]+div{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox input[type=checkbox]+div:before{box-sizing:content-box;content:\\\"\\\";color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:.4s}.multiselect-item-checkbox input[type=checkbox]+div:after{box-sizing:content-box;content:\\\"\\\";position:absolute;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox input[type=checkbox]:disabled+div:before{border-color:#ccc}.multiselect-item-checkbox input[type=checkbox]:disabled:focus+div:before .multiselect-item-checkbox input[type=checkbox]:disabled:hover+div:before{background-color:inherit}.multiselect-item-checkbox input[type=checkbox]:disabled:checked+div:before{background-color:#ccc}.multiselect-item-checkbox input[type=checkbox]:checked+div:after{content:\\\"\\\";transition:transform .2s ease-out;transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox input[type=checkbox]:checked+div:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}\"]\r\n        })\r\n    ], MultiSelectComponent);\r\n    return MultiSelectComponent;\r\n}());\n\nvar ClickOutsideDirective = /** @class */ (function () {\r\n    function ClickOutsideDirective(_elementRef) {\r\n        this._elementRef = _elementRef;\r\n        this.clickOutside = new EventEmitter();\r\n    }\r\n    ClickOutsideDirective.prototype.onClick = function (event, targetElement) {\r\n        if (!targetElement) {\r\n            return;\r\n        }\r\n        var clickedInside = this._elementRef.nativeElement.contains(targetElement);\r\n        if (!clickedInside) {\r\n            this.clickOutside.emit(event);\r\n        }\r\n    };\r\n    ClickOutsideDirective.ctorParameters = function () { return [\r\n        { type: ElementRef }\r\n    ]; };\r\n    __decorate([\r\n        Output()\r\n    ], ClickOutsideDirective.prototype, \"clickOutside\", void 0);\r\n    __decorate([\r\n        HostListener('document:click', ['$event', '$event.target'])\r\n    ], ClickOutsideDirective.prototype, \"onClick\", null);\r\n    ClickOutsideDirective = __decorate([\r\n        Directive({\r\n            selector: '[clickOutside]'\r\n        })\r\n    ], ClickOutsideDirective);\r\n    return ClickOutsideDirective;\r\n}());\n\nvar ListFilterPipe = /** @class */ (function () {\r\n    function ListFilterPipe() {\r\n    }\r\n    ListFilterPipe.prototype.transform = function (items, filter) {\r\n        var _this = this;\r\n        if (!items || !filter) {\r\n            return items;\r\n        }\r\n        return items.filter(function (item) { return _this.applyFilter(item, filter); });\r\n    };\r\n    ListFilterPipe.prototype.applyFilter = function (item, filter) {\r\n        if (typeof item.text === 'string' && typeof filter.text === 'string') {\r\n            return !(filter.text && item.text && item.text.toLowerCase().indexOf(filter.text.toLowerCase()) === -1);\r\n        }\r\n        else {\r\n            return !(filter.text && item.text && item.text.toString().toLowerCase().indexOf(filter.text.toString().toLowerCase()) === -1);\r\n        }\r\n    };\r\n    ListFilterPipe = __decorate([\r\n        Pipe({\r\n            name: 'multiSelectFilter',\r\n            pure: false\r\n        })\r\n    ], ListFilterPipe);\r\n    return ListFilterPipe;\r\n}());\n\nvar NgMultiSelectDropDownModule = /** @class */ (function () {\r\n    function NgMultiSelectDropDownModule() {\r\n    }\r\n    NgMultiSelectDropDownModule_1 = NgMultiSelectDropDownModule;\r\n    NgMultiSelectDropDownModule.forRoot = function () {\r\n        return {\r\n            ngModule: NgMultiSelectDropDownModule_1\r\n        };\r\n    };\r\n    var NgMultiSelectDropDownModule_1;\r\n    NgMultiSelectDropDownModule = NgMultiSelectDropDownModule_1 = __decorate([\r\n        NgModule({\r\n            imports: [CommonModule, FormsModule],\r\n            declarations: [MultiSelectComponent, ClickOutsideDirective, ListFilterPipe],\r\n            exports: [MultiSelectComponent]\r\n        })\r\n    ], NgMultiSelectDropDownModule);\r\n    return NgMultiSelectDropDownModule;\r\n}());\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { MultiSelectComponent, NgMultiSelectDropDownModule, DROPDOWN_CONTROL_VALUE_ACCESSOR as ɵa, ClickOutsideDirective as ɵb, ListFilterPipe as ɵc };\n//# sourceMappingURL=ng-multiselect-dropdown.js.map\n","import { SubstanceDetail } from '../substance/substance.model';\r\nimport { Output, EventEmitter } from '@angular/core';\r\n\r\nexport abstract class SubstanceCardBase {\r\n    substance: SubstanceDetail;\r\n    title: string;\r\n    analyticsEventCategory: string;\r\n    @Output() countUpdate = new EventEmitter<number>();\r\n}\r\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/radio\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/cdk/bidi\";\nimport * as i4 from \"@angular/material/core\";\nimport * as i5 from \"@angular/platform-browser\";\nimport * as i6 from \"@angular/cdk/platform\";\nimport * as i7 from \"@angular/platform-browser/animations\";\nimport * as i8 from \"@angular/cdk/a11y\";\nimport * as i9 from \"@angular/cdk/collections\";\nvar MatRadioModuleNgFactory = i0.ɵcmf(i1.MatRadioModule, [], function (_l) { return i0.ɵmod([i0.ɵmpd(512, i0.ComponentFactoryResolver, i0.ɵCodegenComponentFactoryResolver, [[8, []], [3, i0.ComponentFactoryResolver], i0.NgModuleRef]), i0.ɵmpd(4608, i2.NgLocalization, i2.NgLocaleLocalization, [i0.LOCALE_ID, [2, i2.ɵangular_packages_common_common_a]]), i0.ɵmpd(1073742336, i2.CommonModule, i2.CommonModule, []), i0.ɵmpd(1073742336, i3.BidiModule, i3.BidiModule, []), i0.ɵmpd(1073742336, i4.MatCommonModule, i4.MatCommonModule, [[2, i4.MATERIAL_SANITY_CHECKS], [2, i5.HAMMER_LOADER]]), i0.ɵmpd(1073742336, i6.PlatformModule, i6.PlatformModule, []), i0.ɵmpd(1073742336, i4.MatRippleModule, i4.MatRippleModule, []), i0.ɵmpd(1073742336, i1.MatRadioModule, i1.MatRadioModule, [])]); });\nexport { MatRadioModuleNgFactory as MatRadioModuleNgFactory };\nvar styles_MatRadioButton = [\".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:transform ease 280ms,background-color ease 280ms;width:20px;transform:scale(.001)}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-checked .mat-radio-inner-circle{transform:scale(.5)}@media (-ms-high-contrast:active){.mat-radio-checked .mat-radio-inner-circle{border:solid 10px}}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple,.mat-radio-persistent-ripple{opacity:0}@media (hover:none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}@media (-ms-high-contrast:active){.mat-radio-disabled{opacity:.5}}\"];\nvar RenderType_MatRadioButton = i0.ɵcrt({ encapsulation: 2, styles: styles_MatRadioButton, data: {} });\nexport { RenderType_MatRadioButton as RenderType_MatRadioButton };\nexport function View_MatRadioButton_0(_l) { return i0.ɵvid(2, [i0.ɵqud(671088640, 1, { _inputElement: 0 }), (_l()(), i0.ɵeld(1, 0, [[\"label\", 1]], null, 12, \"label\", [[\"class\", \"mat-radio-label\"]], [[1, \"for\", 0]], null, null, null, null)), (_l()(), i0.ɵeld(2, 0, null, null, 7, \"div\", [[\"class\", \"mat-radio-container\"]], null, null, null, null, null)), (_l()(), i0.ɵeld(3, 0, null, null, 0, \"div\", [[\"class\", \"mat-radio-outer-circle\"]], null, null, null, null, null)), (_l()(), i0.ɵeld(4, 0, null, null, 0, \"div\", [[\"class\", \"mat-radio-inner-circle\"]], null, null, null, null, null)), (_l()(), i0.ɵeld(5, 0, null, null, 3, \"div\", [[\"class\", \"mat-radio-ripple mat-ripple\"], [\"mat-ripple\", \"\"]], [[2, \"mat-ripple-unbounded\", null]], null, null, null, null)), i0.ɵdid(6, 212992, null, 0, i4.MatRipple, [i0.ElementRef, i0.NgZone, i6.Platform, [2, i4.MAT_RIPPLE_GLOBAL_OPTIONS], [2, i7.ANIMATION_MODULE_TYPE]], { centered: [0, \"centered\"], radius: [1, \"radius\"], animation: [2, \"animation\"], disabled: [3, \"disabled\"], trigger: [4, \"trigger\"] }, null), i0.ɵpod(7, { enterDuration: 0 }), (_l()(), i0.ɵeld(8, 0, null, null, 0, \"div\", [[\"class\", \"mat-ripple-element mat-radio-persistent-ripple\"]], null, null, null, null, null)), (_l()(), i0.ɵeld(9, 0, [[1, 0], [\"input\", 1]], null, 0, \"input\", [[\"class\", \"mat-radio-input cdk-visually-hidden\"], [\"type\", \"radio\"]], [[8, \"id\", 0], [8, \"checked\", 0], [8, \"disabled\", 0], [8, \"tabIndex\", 0], [1, \"name\", 0], [1, \"value\", 0], [8, \"required\", 0], [1, \"aria-label\", 0], [1, \"aria-labelledby\", 0], [1, \"aria-describedby\", 0]], [[null, \"change\"], [null, \"click\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"change\" === en)) {\n        var pd_0 = (_co._onInputChange($event) !== false);\n        ad = (pd_0 && ad);\n    } if ((\"click\" === en)) {\n        var pd_1 = (_co._onInputClick($event) !== false);\n        ad = (pd_1 && ad);\n    } return ad; }, null, null)), (_l()(), i0.ɵeld(10, 0, null, null, 3, \"div\", [[\"class\", \"mat-radio-label-content\"]], [[2, \"mat-radio-label-before\", null]], null, null, null, null)), (_l()(), i0.ɵeld(11, 0, null, null, 1, \"span\", [[\"style\", \"display:none\"]], null, null, null, null, null)), (_l()(), i0.ɵted(-1, null, [\"\\u00A0\"])), i0.ɵncd(null, 0)], function (_ck, _v) { var _co = _v.component; var currVal_2 = true; var currVal_3 = 20; var currVal_4 = _ck(_v, 7, 0, 150); var currVal_5 = _co._isRippleDisabled(); var currVal_6 = i0.ɵnov(_v, 1); _ck(_v, 6, 0, currVal_2, currVal_3, currVal_4, currVal_5, currVal_6); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.inputId; _ck(_v, 1, 0, currVal_0); var currVal_1 = i0.ɵnov(_v, 6).unbounded; _ck(_v, 5, 0, currVal_1); var currVal_7 = _co.inputId; var currVal_8 = _co.checked; var currVal_9 = _co.disabled; var currVal_10 = _co.tabIndex; var currVal_11 = _co.name; var currVal_12 = _co.value; var currVal_13 = _co.required; var currVal_14 = _co.ariaLabel; var currVal_15 = _co.ariaLabelledby; var currVal_16 = _co.ariaDescribedby; _ck(_v, 9, 0, currVal_7, currVal_8, currVal_9, currVal_10, currVal_11, currVal_12, currVal_13, currVal_14, currVal_15, currVal_16); var currVal_17 = (_co.labelPosition == \"before\"); _ck(_v, 10, 0, currVal_17); }); }\nexport function View_MatRadioButton_Host_0(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 1, \"mat-radio-button\", [[\"class\", \"mat-radio-button\"]], [[2, \"mat-radio-checked\", null], [2, \"mat-radio-disabled\", null], [2, \"_mat-animation-noopable\", null], [2, \"mat-primary\", null], [2, \"mat-accent\", null], [2, \"mat-warn\", null], [1, \"tabindex\", 0], [1, \"id\", 0], [1, \"aria-label\", 0], [1, \"aria-labelledby\", 0], [1, \"aria-describedby\", 0]], [[null, \"focus\"]], function (_v, en, $event) { var ad = true; if ((\"focus\" === en)) {\n        var pd_0 = (i0.ɵnov(_v, 1)._inputElement.nativeElement.focus() !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, View_MatRadioButton_0, RenderType_MatRadioButton)), i0.ɵdid(1, 4440064, null, 0, i1.MatRadioButton, [[2, i1.MatRadioGroup], i0.ElementRef, i0.ChangeDetectorRef, i8.FocusMonitor, i9.UniqueSelectionDispatcher, [2, i7.ANIMATION_MODULE_TYPE], [2, i1.MAT_RADIO_DEFAULT_OPTIONS]], null, null)], function (_ck, _v) { _ck(_v, 1, 0); }, function (_ck, _v) { var currVal_0 = i0.ɵnov(_v, 1).checked; var currVal_1 = i0.ɵnov(_v, 1).disabled; var currVal_2 = (i0.ɵnov(_v, 1)._animationMode === \"NoopAnimations\"); var currVal_3 = (i0.ɵnov(_v, 1).color === \"primary\"); var currVal_4 = (i0.ɵnov(_v, 1).color === \"accent\"); var currVal_5 = (i0.ɵnov(_v, 1).color === \"warn\"); var currVal_6 = (0 - 1); var currVal_7 = i0.ɵnov(_v, 1).id; var currVal_8 = null; var currVal_9 = null; var currVal_10 = null; _ck(_v, 0, 1, [currVal_0, currVal_1, currVal_2, currVal_3, currVal_4, currVal_5, currVal_6, currVal_7, currVal_8, currVal_9, currVal_10]); }); }\nvar MatRadioButtonNgFactory = i0.ɵccf(\"mat-radio-button\", i1.MatRadioButton, View_MatRadioButton_Host_0, { disableRipple: \"disableRipple\", tabIndex: \"tabIndex\", id: \"id\", name: \"name\", ariaLabel: \"aria-label\", ariaLabelledby: \"aria-labelledby\", ariaDescribedby: \"aria-describedby\", checked: \"checked\", value: \"value\", labelPosition: \"labelPosition\", disabled: \"disabled\", required: \"required\", color: \"color\" }, { change: \"change\" }, [\"*\"]);\nexport { MatRadioButtonNgFactory as MatRadioButtonNgFactory };\n","<label [attr.for]=\"inputId\" class=\"mat-radio-label\" #label><div class=\"mat-radio-container\"><div class=\"mat-radio-outer-circle\"></div><div class=\"mat-radio-inner-circle\"></div><div mat-ripple class=\"mat-radio-ripple\" [matRippleTrigger]=\"label\" [matRippleDisabled]=\"_isRippleDisabled()\" [matRippleCentered]=\"true\" [matRippleRadius]=\"20\" [matRippleAnimation]=\"{enterDuration: 150}\"><div class=\"mat-ripple-element mat-radio-persistent-ripple\"></div></div><input #input class=\"mat-radio-input cdk-visually-hidden\" type=\"radio\" [id]=\"inputId\" [checked]=\"checked\" [disabled]=\"disabled\" [tabIndex]=\"tabIndex\" [attr.name]=\"name\" [attr.value]=\"value\" [required]=\"required\" [attr.aria-label]=\"ariaLabel\" [attr.aria-labelledby]=\"ariaLabelledby\" [attr.aria-describedby]=\"ariaDescribedby\" (change)=\"_onInputChange($event)\" (click)=\"_onInputClick($event)\"></div><div class=\"mat-radio-label-content\" [class.mat-radio-label-before]=\"labelPosition == 'before'\"><span style=\"display:none\">&nbsp;</span><ng-content></ng-content></div></label>","import { Component, OnInit, Input } from '@angular/core';\r\nimport {SubstanceDetail, SubstanceReference} from '../substance/substance.model';\r\nimport {SubstanceService} from '../substance/substance.service';\r\nimport {DatePipe} from '@angular/common';\r\nimport { take } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-references-manager',\r\n  templateUrl: './references-manager.component.html',\r\n  styleUrls: ['./references-manager.component.scss']\r\n})\r\nexport class ReferencesManagerComponent implements OnInit {\r\n  @Input() substance?: SubstanceDetail;\r\n  @Input() subUUID?: string;\r\n  @Input() references: Array<String>;\r\n  subRef: Array<SubstanceReference>;\r\n  matchedRef: SubstanceReference[] = [];\r\n  displayedColumns: string[] = ['index', 'citation', 'docType', 'tags', 'files', 'lastEdited'];\r\n\r\n\r\n  constructor(private substanceService: SubstanceService) { }\r\n\r\n  ngOnInit() {\r\n    if (this.substance) {\r\n      this.subRef = this.substance.references;\r\n    } else if (this.subUUID) {\r\n      const subscription = this.substanceService.getSubstanceDetails(this.subUUID).pipe(take(1)).subscribe(response => {\r\n        if (response) {\r\n          this.substance = response;\r\n          this.subRef = this.substance.references;\r\n        }\r\n        subscription.unsubscribe();\r\n      }, error => {\r\n        subscription.unsubscribe();\r\n      });\r\n    }\r\n    if (this.subRef) {\r\n      this.compileReferences();\r\n    }\r\n  }\r\n\r\n  compileReferences() {\r\n    if (this.substance.references) {\r\n      this.substance.references.forEach(ref => {\r\n        const uuid = ref.uuid;\r\n        if (this.references.indexOf(uuid) > -1) {\r\n          this.matchedRef.push(ref);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  convertTimestamp(time: number) {\r\n    const datePipe = new DatePipe('en-US');\r\n    return datePipe.transform(time, 'MMM dd, yyyy');\r\n }\r\n\r\n  getParentIndex(uuid: SubstanceReference) {\r\n    return (this.subRef.indexOf(uuid) + 1) ;\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","export * from './structure-image-modal/structure-image-modal.component';\r\nexport * from './structure-import/structure-import.component';\r\nexport * from './structure.service';\r\nexport * from './structure-post-response.model';\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { SubstanceService } from '../substance/substance.service';\nimport { SubstanceSummary } from '../substance/substance.model';\nimport { ConfigService } from '@gsrs-core/config';\n\n@Component({\n  selector: 'app-substance-selector',\n  templateUrl: './substance-selector.component.html',\n  styleUrls: ['./substance-selector.component.scss']\n})\nexport class SubstanceSelectorComponent implements OnInit {\n  selectedSubstance?: SubstanceSummary;\n  @Input() eventCategory: string;\n  @Output() selectionUpdated = new EventEmitter<SubstanceSummary>();\n  @Input() placeholder = 'Search';\n  @Input() hintMessage = '';\n  @Input() header = 'Substance';\n  @Input() name?: string;\n  @Input() hideImage?: boolean;\n  errorMessage: string;\n  showOptions: boolean;\n  previousSubstance: SubstanceSummary;\n  displayName: string;\n  private substanceSelectorProperties: Array<string> = [\n    'root_names_name',\n    'root_approvalID',\n    'CAS',\n    'ECHA\\ \\(EC\\/EINECS\\)'\n  ];\n\n  constructor(\n    public substanceService: SubstanceService,\n    public configService: ConfigService\n  ) { }\n\n  ngOnInit() {\n    if (!this.hideImage) {\n      this.hideImage = false;\n    }\n    if (this.configService.configData.substanceSelectorProperties != null) {\n      this.substanceSelectorProperties = this.configService.configData.substanceSelectorProperties;\n    }\n  }\n\n  @Input()\n  set subuuid(uuid: string) {\n    if (uuid) {\n      this.substanceService.getSubstanceSummary(uuid).subscribe(response => {\n        this.selectedSubstance = response;\n      }, error => {\n        if (this.name && this.name !== '') {\n          this.selectedSubstance = {_name: this.name};\n        } else {\n          this.selectedSubstance = {_name: ''};\n        }\n        this.errorMessage = 'Not in database';\n      });\n    }\n  }\n\n  processSubstanceSearch(searchValue: string = ''): void {\n    const q = searchValue.replace('\\\"', '');\n\n    const searchStr = this.substanceSelectorProperties.map(property => `${property}:\\\"^${q}$\\\"`).join(' OR ');\n\n    // const searchStr = `root_names_name:\\\"^${q}$\\\" OR ` +\n    //   `root_approvalID:\\\"^${q}$\\\" OR ` +\n    //   `root_codes_BDNUM:\\\"^${q}$\\\"`;\n\n    this.substanceService.getQuickSubstancesSummaries(searchStr, true).subscribe(response => {\n      if (response.content && response.content.length) {\n        this.selectedSubstance = response.content[0];\n        this.selectionUpdated.emit(this.selectedSubstance);\n        this.errorMessage = '';\n      } else {\n        this.errorMessage = 'No substances found';\n      }\n    });\n  }\n\n  editSelectedSubstance(): void {\n    this.previousSubstance = JSON.parse(JSON.stringify(this.selectedSubstance));\n    this.selectedSubstance = null;\n    this.selectionUpdated.emit(this.selectedSubstance);\n  }\n\n  revertEdit(): void {\n    this.selectedSubstance = JSON.parse(JSON.stringify(this.previousSubstance));\n    this.selectionUpdated.emit(this.selectedSubstance);\n  }\n\n}\n","import { OnInit, EventEmitter } from '@angular/core';\nimport { SubstanceService } from '../substance/substance.service';\nimport { ConfigService } from '@gsrs-core/config';\nvar SubstanceSelectorComponent = /** @class */ (function () {\n    function SubstanceSelectorComponent(substanceService, configService) {\n        this.substanceService = substanceService;\n        this.configService = configService;\n        this.selectionUpdated = new EventEmitter();\n        this.placeholder = 'Search';\n        this.hintMessage = '';\n        this.header = 'Substance';\n        this.substanceSelectorProperties = [\n            'root_names_name',\n            'root_approvalID',\n            'CAS',\n            'ECHA\\ \\(EC\\/EINECS\\)'\n        ];\n    }\n    SubstanceSelectorComponent.prototype.ngOnInit = function () {\n        if (!this.hideImage) {\n            this.hideImage = false;\n        }\n        if (this.configService.configData.substanceSelectorProperties != null) {\n            this.substanceSelectorProperties = this.configService.configData.substanceSelectorProperties;\n        }\n    };\n    Object.defineProperty(SubstanceSelectorComponent.prototype, \"subuuid\", {\n        set: function (uuid) {\n            var _this = this;\n            if (uuid) {\n                this.substanceService.getSubstanceSummary(uuid).subscribe(function (response) {\n                    _this.selectedSubstance = response;\n                }, function (error) {\n                    if (_this.name && _this.name !== '') {\n                        _this.selectedSubstance = { _name: _this.name };\n                    }\n                    else {\n                        _this.selectedSubstance = { _name: '' };\n                    }\n                    _this.errorMessage = 'Not in database';\n                });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SubstanceSelectorComponent.prototype.processSubstanceSearch = function (searchValue) {\n        var _this = this;\n        if (searchValue === void 0) { searchValue = ''; }\n        var q = searchValue.replace('\\\"', '');\n        var searchStr = this.substanceSelectorProperties.map(function (property) { return property + \":\\\"^\" + q + \"$\\\"\"; }).join(' OR ');\n        // const searchStr = `root_names_name:\\\"^${q}$\\\" OR ` +\n        //   `root_approvalID:\\\"^${q}$\\\" OR ` +\n        //   `root_codes_BDNUM:\\\"^${q}$\\\"`;\n        this.substanceService.getQuickSubstancesSummaries(searchStr, true).subscribe(function (response) {\n            if (response.content && response.content.length) {\n                _this.selectedSubstance = response.content[0];\n                _this.selectionUpdated.emit(_this.selectedSubstance);\n                _this.errorMessage = '';\n            }\n            else {\n                _this.errorMessage = 'No substances found';\n            }\n        });\n    };\n    SubstanceSelectorComponent.prototype.editSelectedSubstance = function () {\n        this.previousSubstance = JSON.parse(JSON.stringify(this.selectedSubstance));\n        this.selectedSubstance = null;\n        this.selectionUpdated.emit(this.selectedSubstance);\n    };\n    SubstanceSelectorComponent.prototype.revertEdit = function () {\n        this.selectedSubstance = JSON.parse(JSON.stringify(this.previousSubstance));\n        this.selectionUpdated.emit(this.selectedSubstance);\n    };\n    return SubstanceSelectorComponent;\n}());\nexport { SubstanceSelectorComponent };\n","import * as tslib_1 from \"tslib\";\nimport { SubstanceCardBase } from './substance-card-base';\nimport { FormControl } from '@angular/forms';\nimport { environment } from '../../../environments/environment';\nvar SubstanceCardBaseFilteredList = /** @class */ (function (_super) {\n    tslib_1.__extends(SubstanceCardBaseFilteredList, _super);\n    function SubstanceCardBaseFilteredList(gaService) {\n        var _this = _super.call(this) || this;\n        _this.gaService = gaService;\n        _this.page = 0;\n        _this.pageSize = 5;\n        _this.searchControl = new FormControl();\n        return _this;\n    }\n    SubstanceCardBaseFilteredList.prototype.pageChange = function (pageEvent, analyticsEventCategory) {\n        if (pageEvent != null) {\n            var eventAction = void 0;\n            var eventValue = void 0;\n            if (this.pageSize !== pageEvent.pageSize) {\n                eventAction = 'select:page-size';\n                eventValue = pageEvent.pageSize;\n            }\n            else if (this.page !== pageEvent.pageIndex) {\n                eventAction = 'icon-button:page-number';\n                eventValue = pageEvent.pageIndex + 1;\n            }\n            this.gaService.sendEvent(analyticsEventCategory, eventAction, 'pager', eventValue);\n            this.page = pageEvent.pageIndex;\n            this.pageSize = pageEvent.pageSize;\n        }\n        this.paged = [];\n        var startIndex = this.page * this.pageSize;\n        for (var i = startIndex; i < (startIndex + this.pageSize); i++) {\n            if (this.filtered[i] != null) {\n                this.paged.push(this.filtered[i]);\n            }\n            else {\n                break;\n            }\n        }\n    };\n    SubstanceCardBaseFilteredList.prototype.filterList = function (searchInput, listToFilter, analyticsEventCategory) {\n        var _this = this;\n        if (analyticsEventCategory === void 0) { analyticsEventCategory = 'substance card'; }\n        if (this.searchTimer != null) {\n            clearTimeout(this.searchTimer);\n        }\n        this.searchTimer = setTimeout(function () {\n            var eventLabel = !environment.isAnalyticsPrivate && searchInput || 'input value';\n            _this.gaService.sendEvent(analyticsEventCategory, 'search', eventLabel);\n            _this.filtered = [];\n            listToFilter.forEach(function (item) {\n                var itemString = JSON.stringify(item).toLowerCase();\n                if (itemString.indexOf(searchInput.toLowerCase()) > -1) {\n                    _this.filtered.push(item);\n                }\n            });\n            clearTimeout(_this.searchTimer);\n            _this.searchTimer = null;\n            _this.page = 0;\n            _this.pageChange();\n        }, 700);\n    };\n    return SubstanceCardBaseFilteredList;\n}(SubstanceCardBase));\nexport { SubstanceCardBaseFilteredList };\n","import { SubstanceCardBase } from './substance-card-base';\r\nimport { PageEvent } from '@angular/material/paginator';\r\nimport { FormControl } from '@angular/forms';\r\nimport { GoogleAnalyticsService } from '../google-analytics/google-analytics.service';\r\nimport { environment } from '../../../environments/environment';\r\n\r\nexport class SubstanceCardBaseFilteredList<T> extends SubstanceCardBase {\r\n    filtered: Array<T>;\r\n    paged: Array<T>;\r\n    page = 0;\r\n    pageSize = 5;\r\n    private searchTimer: any;\r\n    searchControl = new FormControl();\r\n\r\n    constructor(\r\n        public gaService: GoogleAnalyticsService\r\n    ) {\r\n        super();\r\n    }\r\n\r\n    pageChange(pageEvent?: PageEvent, analyticsEventCategory?: string): void {\r\n\r\n        if (pageEvent != null) {\r\n\r\n            let eventAction;\r\n            let eventValue;\r\n\r\n            if (this.pageSize !== pageEvent.pageSize) {\r\n                eventAction = 'select:page-size';\r\n                eventValue = pageEvent.pageSize;\r\n            } else if (this.page !== pageEvent.pageIndex) {\r\n                eventAction = 'icon-button:page-number';\r\n                eventValue = pageEvent.pageIndex + 1;\r\n            }\r\n\r\n            this.gaService.sendEvent(analyticsEventCategory, eventAction, 'pager', eventValue);\r\n\r\n            this.page = pageEvent.pageIndex;\r\n            this.pageSize = pageEvent.pageSize;\r\n        }\r\n\r\n        this.paged = [];\r\n        const startIndex = this.page * this.pageSize;\r\n        for (let i = startIndex; i < (startIndex + this.pageSize); i++) {\r\n            if (this.filtered[i] != null) {\r\n                this.paged.push(this.filtered[i]);\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    filterList(searchInput: string, listToFilter: Array<T>, analyticsEventCategory: string = 'substance card'): void {\r\n        if (this.searchTimer != null) {\r\n            clearTimeout(this.searchTimer);\r\n        }\r\n\r\n        this.searchTimer = setTimeout(() => {\r\n\r\n            const eventLabel = !environment.isAnalyticsPrivate && searchInput || 'input value';\r\n\r\n            this.gaService.sendEvent(analyticsEventCategory, 'search', eventLabel);\r\n\r\n            this.filtered = [];\r\n            listToFilter.forEach(item => {\r\n\r\n                const itemString = JSON.stringify(item).toLowerCase();\r\n                if (itemString.indexOf(searchInput.toLowerCase()) > -1) {\r\n                    this.filtered.push(item);\r\n                }\r\n            });\r\n            clearTimeout(this.searchTimer);\r\n            this.searchTimer = null;\r\n            this.page = 0;\r\n            this.pageChange();\r\n        }, 700);\r\n    }\r\n}\r\n","import * as tslib_1 from \"tslib\";\nimport { SubstanceFormBase } from './substance-form-base';\nimport { FormControl } from '@angular/forms';\nimport { environment } from '../../../../environments/environment';\nvar SubstanceCardBaseFilteredList = /** @class */ (function (_super) {\n    tslib_1.__extends(SubstanceCardBaseFilteredList, _super);\n    function SubstanceCardBaseFilteredList(gaService) {\n        var _this = _super.call(this) || this;\n        _this.gaService = gaService;\n        _this.page = 0;\n        _this.pageSize = 5;\n        _this.searchControl = new FormControl();\n        return _this;\n    }\n    SubstanceCardBaseFilteredList.prototype.pageChange = function (pageEvent, analyticsEventCategory) {\n        if (pageEvent != null) {\n            var eventAction = void 0;\n            var eventValue = void 0;\n            if (this.pageSize !== pageEvent.pageSize) {\n                eventAction = 'select:page-size';\n                eventValue = pageEvent.pageSize;\n            }\n            else if (this.page !== pageEvent.pageIndex) {\n                eventAction = 'icon-button:page-number';\n                eventValue = pageEvent.pageIndex + 1;\n            }\n            this.gaService.sendEvent(analyticsEventCategory, eventAction, 'pager', eventValue);\n            this.page = pageEvent.pageIndex;\n            this.pageSize = pageEvent.pageSize;\n        }\n        this.paged = [];\n        var startIndex = this.page * this.pageSize;\n        for (var i = startIndex; i < (startIndex + this.pageSize); i++) {\n            if (this.filtered[i] != null) {\n                this.paged.push(this.filtered[i]);\n            }\n            else {\n                break;\n            }\n        }\n    };\n    SubstanceCardBaseFilteredList.prototype.filterList = function (searchInput, listToFilter, analyticsEventCategory) {\n        var _this = this;\n        if (analyticsEventCategory === void 0) { analyticsEventCategory = 'substance card'; }\n        if (this.searchTimer != null) {\n            clearTimeout(this.searchTimer);\n        }\n        this.searchTimer = setTimeout(function () {\n            var eventLabel = !environment.isAnalyticsPrivate && searchInput || 'input value';\n            _this.gaService.sendEvent(analyticsEventCategory, 'search', eventLabel);\n            _this.filtered = [];\n            listToFilter.forEach(function (item) {\n                var itemString = JSON.stringify(item).toLowerCase();\n                if (itemString.indexOf(searchInput.toLowerCase()) > -1) {\n                    _this.filtered.push(item);\n                }\n            });\n            clearTimeout(_this.searchTimer);\n            _this.searchTimer = null;\n            _this.page = 0;\n            _this.pageChange();\n        }, 700);\n    };\n    return SubstanceCardBaseFilteredList;\n}(SubstanceFormBase));\nexport { SubstanceCardBaseFilteredList };\n","import { SubstanceFormBase } from './substance-form-base';\nimport { PageEvent } from '@angular/material/paginator';\nimport { FormControl } from '@angular/forms';\nimport { GoogleAnalyticsService } from '../../google-analytics/google-analytics.service';\nimport { environment } from '../../../../environments/environment';\n\nexport class SubstanceCardBaseFilteredList<T> extends SubstanceFormBase {\n    filtered: Array<T>;\n    paged: Array<T>;\n    page = 0;\n    pageSize = 5;\n    private searchTimer: any;\n    searchControl = new FormControl();\n\n    constructor(\n        public gaService: GoogleAnalyticsService\n    ) {\n        super();\n    }\n\n    pageChange(pageEvent?: PageEvent, analyticsEventCategory?: string): void {\n\n        if (pageEvent != null) {\n\n            let eventAction;\n            let eventValue;\n\n            if (this.pageSize !== pageEvent.pageSize) {\n                eventAction = 'select:page-size';\n                eventValue = pageEvent.pageSize;\n            } else if (this.page !== pageEvent.pageIndex) {\n                eventAction = 'icon-button:page-number';\n                eventValue = pageEvent.pageIndex + 1;\n            }\n\n            this.gaService.sendEvent(analyticsEventCategory, eventAction, 'pager', eventValue);\n\n            this.page = pageEvent.pageIndex;\n            this.pageSize = pageEvent.pageSize;\n        }\n\n        this.paged = [];\n        const startIndex = this.page * this.pageSize;\n        for (let i = startIndex; i < (startIndex + this.pageSize); i++) {\n            if (this.filtered[i] != null) {\n                this.paged.push(this.filtered[i]);\n            } else {\n                break;\n            }\n        }\n    }\n\n    filterList(searchInput: string, listToFilter: Array<T>, analyticsEventCategory: string = 'substance card'): void {\n        if (this.searchTimer != null) {\n            clearTimeout(this.searchTimer);\n        }\n\n        this.searchTimer = setTimeout(() => {\n\n            const eventLabel = !environment.isAnalyticsPrivate && searchInput || 'input value';\n\n            this.gaService.sendEvent(analyticsEventCategory, 'search', eventLabel);\n\n            this.filtered = [];\n            listToFilter.forEach(item => {\n\n                const itemString = JSON.stringify(item).toLowerCase();\n                if (itemString.indexOf(searchInput.toLowerCase()) > -1) {\n                    this.filtered.push(item);\n                }\n            });\n            clearTimeout(this.searchTimer);\n            this.searchTimer = null;\n            this.page = 0;\n            this.pageChange();\n        }, 700);\n    }\n}\n\nexport interface SubstanceCardBaseList {\n    addItem(): void;\n}\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nvar styles = [\".mat-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}\"];\nexport { styles as styles };\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nimport * as i0 from \"./references-manager.component.scss.shim.ngstyle\";\nimport * as i1 from \"@angular/core\";\nimport * as i2 from \"@angular/material/table\";\nimport * as i3 from \"@angular/cdk/table\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../../../node_modules/@angular/material/icon/typings/index.ngfactory\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"../../../../node_modules/@angular/material/table/typings/index.ngfactory\";\nimport * as i8 from \"@angular/cdk/bidi\";\nimport * as i9 from \"@angular/cdk/platform\";\nimport * as i10 from \"./references-manager.component\";\nimport * as i11 from \"../substance/substance.service\";\nvar styles_ReferencesManagerComponent = [i0.styles];\nvar RenderType_ReferencesManagerComponent = i1.ɵcrt({ encapsulation: 0, styles: styles_ReferencesManagerComponent, data: {} });\nexport { RenderType_ReferencesManagerComponent as RenderType_ReferencesManagerComponent };\nfunction View_ReferencesManagerComponent_1(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"th\", [[\"class\", \"mat-header-cell\"], [\"mat-header-cell\", \"\"], [\"role\", \"columnheader\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i2.MatHeaderCell, [i3.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵted(-1, null, [\" Index \"]))], null, null); }\nfunction View_ReferencesManagerComponent_2(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"td\", [[\"class\", \"mat-cell\"], [\"mat-cell\", \"\"], [\"role\", \"gridcell\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i2.MatCell, [i3.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵted(2, null, [\"\", \" \"]))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.getParentIndex(_v.context.$implicit); _ck(_v, 2, 0, currVal_0); }); }\nfunction View_ReferencesManagerComponent_3(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"th\", [[\"class\", \"mat-header-cell\"], [\"mat-header-cell\", \"\"], [\"role\", \"columnheader\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i2.MatHeaderCell, [i3.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵted(-1, null, [\" Source Text / Citation \"]))], null, null); }\nfunction View_ReferencesManagerComponent_5(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"a\", [[\"appTrackLinkEvent\", \"\"], [\"evCategory\", \"substanceOverview\"], [\"target\", \"_blank\"]], [[8, \"href\", 4]], null, null, null, null)), (_l()(), i1.ɵted(1, null, [\"\", \"\"]))], null, function (_ck, _v) { var currVal_0 = _v.parent.context.$implicit.url; _ck(_v, 0, 0, currVal_0); var currVal_1 = _v.parent.context.$implicit.citation; _ck(_v, 1, 0, currVal_1); }); }\nfunction View_ReferencesManagerComponent_6(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"span\", [], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, [\"\", \"\"]))], null, function (_ck, _v) { var currVal_0 = _v.parent.context.$implicit.citation; _ck(_v, 1, 0, currVal_0); }); }\nfunction View_ReferencesManagerComponent_4(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 5, \"td\", [[\"class\", \"mat-cell\"], [\"mat-cell\", \"\"], [\"role\", \"gridcell\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i2.MatCell, [i3.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_ReferencesManagerComponent_5)), i1.ɵdid(3, 16384, null, 0, i4.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_ReferencesManagerComponent_6)), i1.ɵdid(5, 16384, null, 0, i4.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null)], function (_ck, _v) { var currVal_0 = _v.context.$implicit.url; _ck(_v, 3, 0, currVal_0); var currVal_1 = !_v.context.$implicit.url; _ck(_v, 5, 0, currVal_1); }, null); }\nfunction View_ReferencesManagerComponent_7(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"th\", [[\"class\", \"mat-header-cell\"], [\"mat-header-cell\", \"\"], [\"role\", \"columnheader\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i2.MatHeaderCell, [i3.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵted(-1, null, [\" Source Type \"]))], null, null); }\nfunction View_ReferencesManagerComponent_8(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"td\", [[\"class\", \"mat-cell\"], [\"mat-cell\", \"\"], [\"role\", \"gridcell\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i2.MatCell, [i3.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵted(2, null, [\" \", \" \"]))], null, function (_ck, _v) { var currVal_0 = _v.context.$implicit.docType; _ck(_v, 2, 0, currVal_0); }); }\nfunction View_ReferencesManagerComponent_9(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"th\", [[\"class\", \"mat-header-cell\"], [\"mat-header-cell\", \"\"], [\"role\", \"columnheader\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i2.MatHeaderCell, [i3.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵted(-1, null, [\" Tags \"]))], null, null); }\nfunction View_ReferencesManagerComponent_11(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"span\", [[\"class\", \"badge\"]], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, [\" \", \" \"]))], null, function (_ck, _v) { var currVal_0 = _v.context.$implicit; _ck(_v, 1, 0, currVal_0); }); }\nfunction View_ReferencesManagerComponent_10(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, \"td\", [[\"class\", \"mat-cell\"], [\"mat-cell\", \"\"], [\"role\", \"gridcell\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i2.MatCell, [i3.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_ReferencesManagerComponent_11)), i1.ɵdid(3, 278528, null, 0, i4.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, \"ngForOf\"] }, null)], function (_ck, _v) { var currVal_0 = _v.context.$implicit.tags; _ck(_v, 3, 0, currVal_0); }, null); }\nfunction View_ReferencesManagerComponent_12(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"th\", [[\"class\", \"mat-header-cell\"], [\"mat-header-cell\", \"\"], [\"mat-sort-header\", \"\"], [\"role\", \"columnheader\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i2.MatHeaderCell, [i3.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵted(-1, null, [\" File \"]))], null, null); }\nfunction View_ReferencesManagerComponent_14(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"a\", [], [[8, \"href\", 4]], null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 1, \"mat-icon\", [[\"class\", \"blue mat-icon notranslate\"], [\"color\", \"primary\"], [\"role\", \"img\"], [\"svgIcon\", \"cloud_download\"]], [[2, \"mat-icon-inline\", null], [2, \"mat-icon-no-color\", null]], null, null, i5.View_MatIcon_0, i5.RenderType_MatIcon)), i1.ɵdid(2, 9158656, null, 0, i6.MatIcon, [i1.ElementRef, i6.MatIconRegistry, [8, null], [2, i6.MAT_ICON_LOCATION], [2, i1.ErrorHandler]], { color: [0, \"color\"], svgIcon: [1, \"svgIcon\"] }, null)], function (_ck, _v) { var currVal_3 = \"primary\"; var currVal_4 = \"cloud_download\"; _ck(_v, 2, 0, currVal_3, currVal_4); }, function (_ck, _v) { var currVal_0 = _v.parent.context.$implicit.uploadedFile; _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵnov(_v, 2).inline; var currVal_2 = (((i1.ɵnov(_v, 2).color !== \"primary\") && (i1.ɵnov(_v, 2).color !== \"accent\")) && (i1.ɵnov(_v, 2).color !== \"warn\")); _ck(_v, 1, 0, currVal_1, currVal_2); }); }\nfunction View_ReferencesManagerComponent_13(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, \"td\", [[\"class\", \"mat-cell\"], [\"mat-cell\", \"\"], [\"role\", \"gridcell\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i2.MatCell, [i3.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_ReferencesManagerComponent_14)), i1.ɵdid(3, 16384, null, 0, i4.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null)], function (_ck, _v) { var currVal_0 = _v.context.$implicit.uploadedFile; _ck(_v, 3, 0, currVal_0); }, null); }\nfunction View_ReferencesManagerComponent_15(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"th\", [[\"class\", \"mat-header-cell\"], [\"mat-header-cell\", \"\"], [\"role\", \"columnheader\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i2.MatHeaderCell, [i3.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵted(-1, null, [\" Date Accessed \"]))], null, null); }\nfunction View_ReferencesManagerComponent_16(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"td\", [[\"class\", \"mat-cell\"], [\"mat-cell\", \"\"], [\"role\", \"gridcell\"]], null, null, null, null, null)), i1.ɵdid(1, 16384, null, 0, i2.MatCell, [i3.CdkColumnDef, i1.ElementRef], null, null), (_l()(), i1.ɵted(2, null, [\" \", \" \"]))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.convertTimestamp(_v.context.$implicit.lastEdited); _ck(_v, 2, 0, currVal_0); }); }\nfunction View_ReferencesManagerComponent_17(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"tr\", [[\"class\", \"mat-header-row\"], [\"mat-header-row\", \"\"], [\"role\", \"row\"]], null, null, null, i7.View_MatHeaderRow_0, i7.RenderType_MatHeaderRow)), i1.ɵprd(6144, null, i3.CdkHeaderRow, null, [i2.MatHeaderRow]), i1.ɵdid(2, 49152, null, 0, i2.MatHeaderRow, [], null, null)], null, null); }\nfunction View_ReferencesManagerComponent_18(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"tr\", [[\"class\", \"mat-row\"], [\"mat-row\", \"\"], [\"role\", \"row\"]], null, null, null, i7.View_MatRow_0, i7.RenderType_MatRow)), i1.ɵprd(6144, null, i3.CdkRow, null, [i2.MatRow]), i1.ɵdid(2, 49152, null, 0, i2.MatRow, [], null, null)], null, null); }\nexport function View_ReferencesManagerComponent_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 90, \"table\", [[\"class\", \"mat-table\"], [\"mat-table\", \"\"]], null, null, null, i7.View_MatTable_0, i7.RenderType_MatTable)), i1.ɵprd(6144, null, i3.CdkTable, null, [i2.MatTable]), i1.ɵdid(2, 2342912, null, 4, i2.MatTable, [i1.IterableDiffers, i1.ChangeDetectorRef, i1.ElementRef, [8, null], [2, i8.Directionality], i4.DOCUMENT, i9.Platform], { dataSource: [0, \"dataSource\"] }, null), i1.ɵqud(603979776, 1, { _contentColumnDefs: 1 }), i1.ɵqud(603979776, 2, { _contentRowDefs: 1 }), i1.ɵqud(603979776, 3, { _contentHeaderRowDefs: 1 }), i1.ɵqud(603979776, 4, { _contentFooterRowDefs: 1 }), (_l()(), i1.ɵeld(7, 0, null, null, 12, null, null, null, null, null, null, null)), i1.ɵprd(6144, null, \"MAT_SORT_HEADER_COLUMN_DEF\", null, [i2.MatColumnDef]), i1.ɵdid(9, 16384, null, 3, i2.MatColumnDef, [], { name: [0, \"name\"] }, null), i1.ɵqud(603979776, 5, { cell: 0 }), i1.ɵqud(603979776, 6, { headerCell: 0 }), i1.ɵqud(603979776, 7, { footerCell: 0 }), i1.ɵprd(2048, [[1, 4]], i3.CdkColumnDef, null, [i2.MatColumnDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_ReferencesManagerComponent_1)), i1.ɵdid(15, 16384, null, 0, i2.MatHeaderCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[6, 4]], i3.CdkHeaderCellDef, null, [i2.MatHeaderCellDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_ReferencesManagerComponent_2)), i1.ɵdid(18, 16384, null, 0, i2.MatCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[5, 4]], i3.CdkCellDef, null, [i2.MatCellDef]), (_l()(), i1.ɵeld(20, 0, null, null, 12, null, null, null, null, null, null, null)), i1.ɵprd(6144, null, \"MAT_SORT_HEADER_COLUMN_DEF\", null, [i2.MatColumnDef]), i1.ɵdid(22, 16384, null, 3, i2.MatColumnDef, [], { name: [0, \"name\"] }, null), i1.ɵqud(603979776, 8, { cell: 0 }), i1.ɵqud(603979776, 9, { headerCell: 0 }), i1.ɵqud(603979776, 10, { footerCell: 0 }), i1.ɵprd(2048, [[1, 4]], i3.CdkColumnDef, null, [i2.MatColumnDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_ReferencesManagerComponent_3)), i1.ɵdid(28, 16384, null, 0, i2.MatHeaderCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[9, 4]], i3.CdkHeaderCellDef, null, [i2.MatHeaderCellDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_ReferencesManagerComponent_4)), i1.ɵdid(31, 16384, null, 0, i2.MatCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[8, 4]], i3.CdkCellDef, null, [i2.MatCellDef]), (_l()(), i1.ɵeld(33, 0, null, null, 12, null, null, null, null, null, null, null)), i1.ɵprd(6144, null, \"MAT_SORT_HEADER_COLUMN_DEF\", null, [i2.MatColumnDef]), i1.ɵdid(35, 16384, null, 3, i2.MatColumnDef, [], { name: [0, \"name\"] }, null), i1.ɵqud(603979776, 11, { cell: 0 }), i1.ɵqud(603979776, 12, { headerCell: 0 }), i1.ɵqud(603979776, 13, { footerCell: 0 }), i1.ɵprd(2048, [[1, 4]], i3.CdkColumnDef, null, [i2.MatColumnDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_ReferencesManagerComponent_7)), i1.ɵdid(41, 16384, null, 0, i2.MatHeaderCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[12, 4]], i3.CdkHeaderCellDef, null, [i2.MatHeaderCellDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_ReferencesManagerComponent_8)), i1.ɵdid(44, 16384, null, 0, i2.MatCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[11, 4]], i3.CdkCellDef, null, [i2.MatCellDef]), (_l()(), i1.ɵeld(46, 0, null, null, 12, null, null, null, null, null, null, null)), i1.ɵprd(6144, null, \"MAT_SORT_HEADER_COLUMN_DEF\", null, [i2.MatColumnDef]), i1.ɵdid(48, 16384, null, 3, i2.MatColumnDef, [], { name: [0, \"name\"] }, null), i1.ɵqud(603979776, 14, { cell: 0 }), i1.ɵqud(603979776, 15, { headerCell: 0 }), i1.ɵqud(603979776, 16, { footerCell: 0 }), i1.ɵprd(2048, [[1, 4]], i3.CdkColumnDef, null, [i2.MatColumnDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_ReferencesManagerComponent_9)), i1.ɵdid(54, 16384, null, 0, i2.MatHeaderCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[15, 4]], i3.CdkHeaderCellDef, null, [i2.MatHeaderCellDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_ReferencesManagerComponent_10)), i1.ɵdid(57, 16384, null, 0, i2.MatCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[14, 4]], i3.CdkCellDef, null, [i2.MatCellDef]), (_l()(), i1.ɵeld(59, 0, null, null, 12, null, null, null, null, null, null, null)), i1.ɵprd(6144, null, \"MAT_SORT_HEADER_COLUMN_DEF\", null, [i2.MatColumnDef]), i1.ɵdid(61, 16384, null, 3, i2.MatColumnDef, [], { name: [0, \"name\"] }, null), i1.ɵqud(603979776, 17, { cell: 0 }), i1.ɵqud(603979776, 18, { headerCell: 0 }), i1.ɵqud(603979776, 19, { footerCell: 0 }), i1.ɵprd(2048, [[1, 4]], i3.CdkColumnDef, null, [i2.MatColumnDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_ReferencesManagerComponent_12)), i1.ɵdid(67, 16384, null, 0, i2.MatHeaderCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[18, 4]], i3.CdkHeaderCellDef, null, [i2.MatHeaderCellDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_ReferencesManagerComponent_13)), i1.ɵdid(70, 16384, null, 0, i2.MatCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[17, 4]], i3.CdkCellDef, null, [i2.MatCellDef]), (_l()(), i1.ɵeld(72, 0, null, null, 12, null, null, null, null, null, null, null)), i1.ɵprd(6144, null, \"MAT_SORT_HEADER_COLUMN_DEF\", null, [i2.MatColumnDef]), i1.ɵdid(74, 16384, null, 3, i2.MatColumnDef, [], { name: [0, \"name\"] }, null), i1.ɵqud(603979776, 20, { cell: 0 }), i1.ɵqud(603979776, 21, { headerCell: 0 }), i1.ɵqud(603979776, 22, { footerCell: 0 }), i1.ɵprd(2048, [[1, 4]], i3.CdkColumnDef, null, [i2.MatColumnDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_ReferencesManagerComponent_15)), i1.ɵdid(80, 16384, null, 0, i2.MatHeaderCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[21, 4]], i3.CdkHeaderCellDef, null, [i2.MatHeaderCellDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_ReferencesManagerComponent_16)), i1.ɵdid(83, 16384, null, 0, i2.MatCellDef, [i1.TemplateRef], null, null), i1.ɵprd(2048, [[20, 4]], i3.CdkCellDef, null, [i2.MatCellDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_ReferencesManagerComponent_17)), i1.ɵdid(86, 540672, null, 0, i2.MatHeaderRowDef, [i1.TemplateRef, i1.IterableDiffers], { columns: [0, \"columns\"] }, null), i1.ɵprd(2048, [[3, 4]], i3.CdkHeaderRowDef, null, [i2.MatHeaderRowDef]), (_l()(), i1.ɵand(0, null, null, 2, null, View_ReferencesManagerComponent_18)), i1.ɵdid(89, 540672, null, 0, i2.MatRowDef, [i1.TemplateRef, i1.IterableDiffers], { columns: [0, \"columns\"] }, null), i1.ɵprd(2048, [[2, 4]], i3.CdkRowDef, null, [i2.MatRowDef])], function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.matchedRef; _ck(_v, 2, 0, currVal_0); var currVal_1 = \"index\"; _ck(_v, 9, 0, currVal_1); var currVal_2 = \"citation\"; _ck(_v, 22, 0, currVal_2); var currVal_3 = \"docType\"; _ck(_v, 35, 0, currVal_3); var currVal_4 = \"tags\"; _ck(_v, 48, 0, currVal_4); var currVal_5 = \"files\"; _ck(_v, 61, 0, currVal_5); var currVal_6 = \"lastEdited\"; _ck(_v, 74, 0, currVal_6); var currVal_7 = _co.displayedColumns; _ck(_v, 86, 0, currVal_7); var currVal_8 = _co.displayedColumns; _ck(_v, 89, 0, currVal_8); }, null); }\nexport function View_ReferencesManagerComponent_Host_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"app-references-manager\", [], null, null, null, View_ReferencesManagerComponent_0, RenderType_ReferencesManagerComponent)), i1.ɵdid(1, 114688, null, 0, i10.ReferencesManagerComponent, [i11.SubstanceService], null, null)], function (_ck, _v) { _ck(_v, 1, 0); }, null); }\nvar ReferencesManagerComponentNgFactory = i1.ɵccf(\"app-references-manager\", i10.ReferencesManagerComponent, View_ReferencesManagerComponent_Host_0, { substance: \"substance\", subUUID: \"subUUID\", references: \"references\" }, {}, []);\nexport { ReferencesManagerComponentNgFactory as ReferencesManagerComponentNgFactory };\n","\r\n\r\n\r\n<table mat-table [dataSource]=\"matchedRef\">\r\n\r\n  <ng-container matColumnDef=\"index\">\r\n    <th mat-header-cell *matHeaderCellDef> Index </th>\r\n    <td mat-cell *matCellDef=\"let ref\">{{getParentIndex(ref)}}\r\n    </td>\r\n  </ng-container>\r\n\r\n  <ng-container matColumnDef=\"citation\">\r\n    <th mat-header-cell *matHeaderCellDef> Source Text / Citation </th>\r\n    <td mat-cell *matCellDef=\"let ref\">\r\n      <a *ngIf=\"ref.url\" target=\"_blank\" [href]=\"ref.url\" appTrackLinkEvent evCategory=\"substanceOverview\">{{ref.citation}}</a>\r\n      <span *ngIf=\"!ref.url\">{{ref.citation}}</span>\r\n    </td>\r\n  </ng-container>\r\n\r\n  <ng-container matColumnDef=\"docType\">\r\n    <th mat-header-cell *matHeaderCellDef> Source Type </th>\r\n    <td mat-cell *matCellDef=\"let ref\"> {{ref.docType}} </td>\r\n  </ng-container>\r\n\r\n  <ng-container matColumnDef=\"tags\">\r\n    <th mat-header-cell *matHeaderCellDef> Tags </th>\r\n    <td mat-cell *matCellDef=\"let ref\"> <span class = \"badge\" *ngFor = \"let tag of ref.tags\"> {{tag}} </span> </td>\r\n  </ng-container>\r\n\r\n  <ng-container matColumnDef=\"files\">\r\n    <th mat-header-cell *matHeaderCellDef mat-sort-header> File </th>\r\n    <td mat-cell *matCellDef=\"let ref\">    \r\n      <a *ngIf =\"ref.uploadedFile\" [href] = \"ref.uploadedFile\"><mat-icon color = \"primary\" class = \"blue\" svgIcon=\"cloud_download\"></mat-icon></a>\r\n    </td>\r\n  </ng-container>\r\n\r\n  <ng-container matColumnDef=\"lastEdited\">\r\n    <th mat-header-cell *matHeaderCellDef> Date Accessed </th>\r\n    <td mat-cell *matCellDef=\"let ref\">\r\n      {{convertTimestamp(ref.lastEdited)}}\r\n    </td>\r\n  </ng-container>\r\n\r\n  <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n  <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n</table>\r\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nvar styles = [\".selected-substance-container[_ngcontent-%COMP%]{max-width:100%;width:100%}.selected-substance[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;text-align:center;position:relative}.selected-substance[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block;max-width:200px}.undo[_ngcontent-%COMP%]{float:right;margin-top:-5px}.selected-substance-options[_ngcontent-%COMP%]{position:absolute;right:5px;top:15px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.selected-substance-options[_ngcontent-%COMP%]   .mat-mini-fab[_ngcontent-%COMP%]{background-color:rgba(242,242,242,.85);color:#404040;width:35px;height:35px}.selected-substance-options[_ngcontent-%COMP%]   .mat-mini-fab[_ngcontent-%COMP%]:not(:first-child){margin-top:3px}.selected-substance-options[_ngcontent-%COMP%]   .mat-mini-fab[_ngcontent-%COMP%]     .mat-button-wrapper{padding:0}.hidden[_ngcontent-%COMP%]{display:none!important}\"];\nexport { styles as styles };\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nimport * as i0 from \"./substance-selector.component.scss.shim.ngstyle\";\nimport * as i1 from \"@angular/core\";\nimport * as i2 from \"../../../../node_modules/@angular/material/button/typings/index.ngfactory\";\nimport * as i3 from \"@angular/material/button\";\nimport * as i4 from \"@angular/cdk/a11y\";\nimport * as i5 from \"@angular/platform-browser/animations\";\nimport * as i6 from \"@angular/material/tooltip\";\nimport * as i7 from \"@angular/cdk/overlay\";\nimport * as i8 from \"@angular/cdk/scrolling\";\nimport * as i9 from \"@angular/cdk/platform\";\nimport * as i10 from \"@angular/cdk/bidi\";\nimport * as i11 from \"@angular/platform-browser\";\nimport * as i12 from \"../../../../node_modules/@angular/material/icon/typings/index.ngfactory\";\nimport * as i13 from \"@angular/common\";\nimport * as i14 from \"@angular/material/icon\";\nimport * as i15 from \"@angular/router\";\nimport * as i16 from \"../substance/substance-image.directive\";\nimport * as i17 from \"../utils/utils.service\";\nimport * as i18 from \"../substance-text-search/substance-text-search.component.ngfactory\";\nimport * as i19 from \"../substance-text-search/substance-text-search.component\";\nimport * as i20 from \"../google-analytics/google-analytics.service\";\nimport * as i21 from \"../config/config.service\";\nimport * as i22 from \"../controlled-vocabulary/controlled-vocabulary.service\";\nimport * as i23 from \"./substance-selector.component\";\nimport * as i24 from \"../substance/substance.service\";\nvar styles_SubstanceSelectorComponent = [i0.styles];\nvar RenderType_SubstanceSelectorComponent = i1.ɵcrt({ encapsulation: 0, styles: styles_SubstanceSelectorComponent, data: {} });\nexport { RenderType_SubstanceSelectorComponent as RenderType_SubstanceSelectorComponent };\nfunction View_SubstanceSelectorComponent_1(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 8, \"div\", [[\"class\", \"undo\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 16777216, null, null, 7, \"button\", [[\"class\", \"undo\"], [\"mat-icon-button\", \"\"], [\"matTooltip\", \"revert to previously selected\"]], [[1, \"disabled\", 0], [2, \"_mat-animation-noopable\", null]], [[null, \"click\"], [null, \"longpress\"], [null, \"keydown\"], [null, \"touchend\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"longpress\" === en)) {\n        var pd_0 = (i1.ɵnov(_v, 3).show() !== false);\n        ad = (pd_0 && ad);\n    } if ((\"keydown\" === en)) {\n        var pd_1 = (i1.ɵnov(_v, 3)._handleKeydown($event) !== false);\n        ad = (pd_1 && ad);\n    } if ((\"touchend\" === en)) {\n        var pd_2 = (i1.ɵnov(_v, 3)._handleTouchend() !== false);\n        ad = (pd_2 && ad);\n    } if ((\"click\" === en)) {\n        var pd_3 = (_co.revertEdit() !== false);\n        ad = (pd_3 && ad);\n    } return ad; }, i2.View_MatButton_0, i2.RenderType_MatButton)), i1.ɵdid(2, 180224, null, 0, i3.MatButton, [i1.ElementRef, i4.FocusMonitor, [2, i5.ANIMATION_MODULE_TYPE]], null, null), i1.ɵdid(3, 212992, null, 0, i6.MatTooltip, [i7.Overlay, i1.ElementRef, i8.ScrollDispatcher, i1.ViewContainerRef, i1.NgZone, i9.Platform, i4.AriaDescriber, i4.FocusMonitor, i6.MAT_TOOLTIP_SCROLL_STRATEGY, [2, i10.Directionality], [2, i6.MAT_TOOLTIP_DEFAULT_OPTIONS], [2, i11.HAMMER_LOADER]], { message: [0, \"message\"] }, null), (_l()(), i1.ɵeld(4, 0, null, 0, 4, \"mat-icon\", [[\"aria-label\", \"Revert substance edit\"], [\"class\", \"mat-icon notranslate\"], [\"role\", \"img\"], [\"svgIcon\", \"undo\"]], [[2, \"mat-icon-inline\", null], [2, \"mat-icon-no-color\", null]], null, null, i12.View_MatIcon_0, i12.RenderType_MatIcon)), i1.ɵprd(512, null, i13.ɵNgClassImpl, i13.ɵNgClassR2Impl, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2]), i1.ɵdid(6, 278528, null, 0, i13.NgClass, [i13.ɵNgClassImpl], { ngClass: [0, \"ngClass\"] }, null), i1.ɵpod(7, { \"hidden\": 0 }), i1.ɵdid(8, 9158656, null, 0, i14.MatIcon, [i1.ElementRef, i14.MatIconRegistry, [8, null], [2, i14.MAT_ICON_LOCATION], [2, i1.ErrorHandler]], { svgIcon: [0, \"svgIcon\"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_2 = \"revert to previously selected\"; _ck(_v, 3, 0, currVal_2); var currVal_5 = _ck(_v, 7, 0, _co.selectedSubstance); _ck(_v, 6, 0, currVal_5); var currVal_6 = \"undo\"; _ck(_v, 8, 0, currVal_6); }, function (_ck, _v) { var currVal_0 = (i1.ɵnov(_v, 2).disabled || null); var currVal_1 = (i1.ɵnov(_v, 2)._animationMode === \"NoopAnimations\"); _ck(_v, 1, 0, currVal_0, currVal_1); var currVal_3 = i1.ɵnov(_v, 8).inline; var currVal_4 = (((i1.ɵnov(_v, 8).color !== \"primary\") && (i1.ɵnov(_v, 8).color !== \"accent\")) && (i1.ɵnov(_v, 8).color !== \"warn\")); _ck(_v, 4, 0, currVal_3, currVal_4); }); }\nfunction View_SubstanceSelectorComponent_4(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 6, \"a\", [[\"mat-mini-fab\", \"\"], [\"target\", \"_blank\"]], [[1, \"tabindex\", 0], [1, \"disabled\", 0], [1, \"aria-disabled\", 0], [2, \"_mat-animation-noopable\", null], [1, \"target\", 0], [8, \"href\", 4]], [[null, \"click\"]], function (_v, en, $event) { var ad = true; if ((\"click\" === en)) {\n        var pd_0 = (i1.ɵnov(_v, 1)._haltDisabledEvents($event) !== false);\n        ad = (pd_0 && ad);\n    } if ((\"click\" === en)) {\n        var pd_1 = (i1.ɵnov(_v, 2).onClick($event.button, $event.ctrlKey, $event.metaKey, $event.shiftKey) !== false);\n        ad = (pd_1 && ad);\n    } return ad; }, i2.View_MatAnchor_0, i2.RenderType_MatAnchor)), i1.ɵdid(1, 180224, null, 0, i3.MatAnchor, [i4.FocusMonitor, i1.ElementRef, [2, i5.ANIMATION_MODULE_TYPE]], null, null), i1.ɵdid(2, 671744, null, 0, i15.RouterLinkWithHref, [i15.Router, i15.ActivatedRoute, i13.LocationStrategy], { target: [0, \"target\"], routerLink: [1, \"routerLink\"] }, null), i1.ɵpad(3, 2), (_l()(), i1.ɵeld(4, 16777216, null, 0, 2, \"mat-icon\", [[\"aria-label\", \"Open in new tab\"], [\"class\", \"mat-icon notranslate\"], [\"matTooltip\", \"view details in a new tab\"], [\"role\", \"img\"], [\"svgIcon\", \"open_in_new\"]], [[2, \"mat-icon-inline\", null], [2, \"mat-icon-no-color\", null]], [[null, \"longpress\"], [null, \"keydown\"], [null, \"touchend\"]], function (_v, en, $event) { var ad = true; if ((\"longpress\" === en)) {\n        var pd_0 = (i1.ɵnov(_v, 6).show() !== false);\n        ad = (pd_0 && ad);\n    } if ((\"keydown\" === en)) {\n        var pd_1 = (i1.ɵnov(_v, 6)._handleKeydown($event) !== false);\n        ad = (pd_1 && ad);\n    } if ((\"touchend\" === en)) {\n        var pd_2 = (i1.ɵnov(_v, 6)._handleTouchend() !== false);\n        ad = (pd_2 && ad);\n    } return ad; }, i12.View_MatIcon_0, i12.RenderType_MatIcon)), i1.ɵdid(5, 9158656, null, 0, i14.MatIcon, [i1.ElementRef, i14.MatIconRegistry, [8, null], [2, i14.MAT_ICON_LOCATION], [2, i1.ErrorHandler]], { svgIcon: [0, \"svgIcon\"] }, null), i1.ɵdid(6, 212992, null, 0, i6.MatTooltip, [i7.Overlay, i1.ElementRef, i8.ScrollDispatcher, i1.ViewContainerRef, i1.NgZone, i9.Platform, i4.AriaDescriber, i4.FocusMonitor, i6.MAT_TOOLTIP_SCROLL_STRATEGY, [2, i10.Directionality], [2, i6.MAT_TOOLTIP_DEFAULT_OPTIONS], [2, i11.HAMMER_LOADER]], { message: [0, \"message\"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_6 = \"_blank\"; var currVal_7 = _ck(_v, 3, 0, \"/substances\", _co.selectedSubstance.uuid); _ck(_v, 2, 0, currVal_6, currVal_7); var currVal_10 = \"open_in_new\"; _ck(_v, 5, 0, currVal_10); var currVal_11 = \"view details in a new tab\"; _ck(_v, 6, 0, currVal_11); }, function (_ck, _v) { var currVal_0 = (i1.ɵnov(_v, 1).disabled ? (0 - 1) : (i1.ɵnov(_v, 1).tabIndex || 0)); var currVal_1 = (i1.ɵnov(_v, 1).disabled || null); var currVal_2 = i1.ɵnov(_v, 1).disabled.toString(); var currVal_3 = (i1.ɵnov(_v, 1)._animationMode === \"NoopAnimations\"); var currVal_4 = i1.ɵnov(_v, 2).target; var currVal_5 = i1.ɵnov(_v, 2).href; _ck(_v, 0, 0, currVal_0, currVal_1, currVal_2, currVal_3, currVal_4, currVal_5); var currVal_8 = i1.ɵnov(_v, 5).inline; var currVal_9 = (((i1.ɵnov(_v, 5).color !== \"primary\") && (i1.ɵnov(_v, 5).color !== \"accent\")) && (i1.ɵnov(_v, 5).color !== \"warn\")); _ck(_v, 4, 0, currVal_8, currVal_9); }); }\nfunction View_SubstanceSelectorComponent_3(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 7, \"div\", [[\"class\", \"selected-substance-options\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 4, \"button\", [[\"mat-mini-fab\", \"\"]], [[1, \"disabled\", 0], [2, \"_mat-animation-noopable\", null]], [[null, \"click\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"click\" === en)) {\n        var pd_0 = (_co.editSelectedSubstance() !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, i2.View_MatButton_0, i2.RenderType_MatButton)), i1.ɵdid(2, 180224, null, 0, i3.MatButton, [i1.ElementRef, i4.FocusMonitor, [2, i5.ANIMATION_MODULE_TYPE]], null, null), (_l()(), i1.ɵeld(3, 16777216, null, 0, 2, \"mat-icon\", [[\"aria-label\", \"Edit Selected Substance\"], [\"class\", \"mat-icon notranslate\"], [\"matTooltip\", \"change selection\"], [\"role\", \"img\"], [\"svgIcon\", \"edit\"]], [[2, \"mat-icon-inline\", null], [2, \"mat-icon-no-color\", null]], [[null, \"longpress\"], [null, \"keydown\"], [null, \"touchend\"]], function (_v, en, $event) { var ad = true; if ((\"longpress\" === en)) {\n        var pd_0 = (i1.ɵnov(_v, 5).show() !== false);\n        ad = (pd_0 && ad);\n    } if ((\"keydown\" === en)) {\n        var pd_1 = (i1.ɵnov(_v, 5)._handleKeydown($event) !== false);\n        ad = (pd_1 && ad);\n    } if ((\"touchend\" === en)) {\n        var pd_2 = (i1.ɵnov(_v, 5)._handleTouchend() !== false);\n        ad = (pd_2 && ad);\n    } return ad; }, i12.View_MatIcon_0, i12.RenderType_MatIcon)), i1.ɵdid(4, 9158656, null, 0, i14.MatIcon, [i1.ElementRef, i14.MatIconRegistry, [8, null], [2, i14.MAT_ICON_LOCATION], [2, i1.ErrorHandler]], { svgIcon: [0, \"svgIcon\"] }, null), i1.ɵdid(5, 212992, null, 0, i6.MatTooltip, [i7.Overlay, i1.ElementRef, i8.ScrollDispatcher, i1.ViewContainerRef, i1.NgZone, i9.Platform, i4.AriaDescriber, i4.FocusMonitor, i6.MAT_TOOLTIP_SCROLL_STRATEGY, [2, i10.Directionality], [2, i6.MAT_TOOLTIP_DEFAULT_OPTIONS], [2, i11.HAMMER_LOADER]], { message: [0, \"message\"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_SubstanceSelectorComponent_4)), i1.ɵdid(7, 16384, null, 0, i13.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_4 = \"edit\"; _ck(_v, 4, 0, currVal_4); var currVal_5 = \"change selection\"; _ck(_v, 5, 0, currVal_5); var currVal_6 = _co.selectedSubstance.uuid; _ck(_v, 7, 0, currVal_6); }, function (_ck, _v) { var currVal_0 = (i1.ɵnov(_v, 2).disabled || null); var currVal_1 = (i1.ɵnov(_v, 2)._animationMode === \"NoopAnimations\"); _ck(_v, 1, 0, currVal_0, currVal_1); var currVal_2 = i1.ɵnov(_v, 4).inline; var currVal_3 = (((i1.ɵnov(_v, 4).color !== \"primary\") && (i1.ɵnov(_v, 4).color !== \"accent\")) && (i1.ɵnov(_v, 4).color !== \"warn\")); _ck(_v, 3, 0, currVal_2, currVal_3); }); }\nfunction View_SubstanceSelectorComponent_5(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"img\", [[\"appSubstanceImage\", \"\"], [\"class\", \"related-image\"]], null, null, null, null, null)), i1.ɵdid(1, 4210688, null, 0, i16.SubstanceImageDirective, [i1.ElementRef, i17.UtilsService], { entityId: [0, \"entityId\"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.selectedSubstance.uuid; _ck(_v, 1, 0, currVal_0); }, null); }\nfunction View_SubstanceSelectorComponent_6(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"span\", [[\"class\", \"code\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 0, \"br\", [], null, null, null, null, null)), (_l()(), i1.ɵted(-1, null, [\"NOT IN DATABASE\"]))], null, null); }\nfunction View_SubstanceSelectorComponent_2(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 10, \"div\", [[\"class\", \"selected-substance\"]], null, [[null, \"mouseenter\"], [null, \"mouseleave\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"mouseenter\" === en)) {\n        var pd_0 = ((_co.showOptions = true) !== false);\n        ad = (pd_0 && ad);\n    } if ((\"mouseleave\" === en)) {\n        var pd_1 = ((_co.showOptions = false) !== false);\n        ad = (pd_1 && ad);\n    } return ad; }, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_SubstanceSelectorComponent_3)), i1.ɵdid(2, 16384, null, 0, i13.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i1.ɵeld(3, 0, null, null, 1, \"div\", [[\"class\", \"section-header\"]], null, null, null, null, null)), (_l()(), i1.ɵted(4, null, [\"\", \"\"])), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_SubstanceSelectorComponent_5)), i1.ɵdid(6, 16384, null, 0, i13.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i1.ɵeld(7, 0, null, null, 3, \"div\", [], null, null, null, null, null)), (_l()(), i1.ɵeld(8, 0, null, null, 0, \"span\", [], [[8, \"innerHTML\", 1]], null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_SubstanceSelectorComponent_6)), i1.ɵdid(10, 16384, null, 0, i13.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.showOptions; _ck(_v, 2, 0, currVal_0); var currVal_2 = (_co.selectedSubstance.uuid && !_co.hideImage); _ck(_v, 6, 0, currVal_2); var currVal_4 = (_co.errorMessage === \"Not in database\"); _ck(_v, 10, 0, currVal_4); }, function (_ck, _v) { var _co = _v.component; var currVal_1 = _co.header; _ck(_v, 4, 0, currVal_1); var currVal_3 = _co.selectedSubstance._nameHTML; _ck(_v, 8, 0, currVal_3); }); }\nexport function View_SubstanceSelectorComponent_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 9, \"div\", [[\"class\", \"substance-selector-container\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 4, \"app-substance-text-search\", [[\"source\", \"form-search\"]], null, [[null, \"searchPerformed\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"searchPerformed\" === en)) {\n        var pd_0 = (_co.processSubstanceSearch($event) !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, i18.View_SubstanceTextSearchComponent_0, i18.RenderType_SubstanceTextSearchComponent)), i1.ɵprd(512, null, i13.ɵNgClassImpl, i13.ɵNgClassR2Impl, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2]), i1.ɵdid(3, 278528, null, 0, i13.NgClass, [i13.ɵNgClassImpl], { ngClass: [0, \"ngClass\"] }, null), i1.ɵpod(4, { \"hidden\": 0 }), i1.ɵdid(5, 4440064, null, 0, i19.SubstanceTextSearchComponent, [i17.UtilsService, i1.ElementRef, i20.GoogleAnalyticsService, i21.ConfigService, i22.ControlledVocabularyService], { eventCategory: [0, \"eventCategory\"], placeholder: [1, \"placeholder\"], source: [2, \"source\"] }, { searchPerformed: \"searchPerformed\" }), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_SubstanceSelectorComponent_1)), i1.ɵdid(7, 16384, null, 0, i13.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_SubstanceSelectorComponent_2)), i1.ɵdid(9, 16384, null, 0, i13.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_0 = _ck(_v, 4, 0, _co.selectedSubstance); _ck(_v, 3, 0, currVal_0); var currVal_1 = _co.eventCategory; var currVal_2 = _co.placeholder; var currVal_3 = \"form-search\"; _ck(_v, 5, 0, currVal_1, currVal_2, currVal_3); var currVal_4 = _co.previousSubstance; _ck(_v, 7, 0, currVal_4); var currVal_5 = _co.selectedSubstance; _ck(_v, 9, 0, currVal_5); }, null); }\nexport function View_SubstanceSelectorComponent_Host_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"app-substance-selector\", [], null, null, null, View_SubstanceSelectorComponent_0, RenderType_SubstanceSelectorComponent)), i1.ɵdid(1, 114688, null, 0, i23.SubstanceSelectorComponent, [i24.SubstanceService, i21.ConfigService], null, null)], function (_ck, _v) { _ck(_v, 1, 0); }, null); }\nvar SubstanceSelectorComponentNgFactory = i1.ɵccf(\"app-substance-selector\", i23.SubstanceSelectorComponent, View_SubstanceSelectorComponent_Host_0, { eventCategory: \"eventCategory\", placeholder: \"placeholder\", hintMessage: \"hintMessage\", header: \"header\", name: \"name\", hideImage: \"hideImage\", subuuid: \"subuuid\" }, { selectionUpdated: \"selectionUpdated\" }, []);\nexport { SubstanceSelectorComponentNgFactory as SubstanceSelectorComponentNgFactory };\n","<div class=\"substance-selector-container\">\n    \n    <app-substance-text-search\n      [ngClass]=\"{'hidden': selectedSubstance}\"\n      (searchPerformed)=\"processSubstanceSearch($event)\" [eventCategory]=\"eventCategory\"\n      [placeholder]=\"placeholder\" source = \"form-search\">\n    </app-substance-text-search>\n    <div class = \"undo\" *ngIf = \"previousSubstance\">\n        <button mat-icon-button (click)=\"revertEdit()\" matTooltip =\"revert to previously selected\" class = \"undo\">\n            <mat-icon aria-label=\"Revert substance edit\" [ngClass]=\"{'hidden': selectedSubstance}\" svgIcon=\"undo\"></mat-icon>\n        </button>\n    </div>\n    <div class=\"selected-substance\" *ngIf=\"selectedSubstance\" (mouseenter)=\"showOptions = true\" (mouseleave)=\"showOptions = false\">\n      <div class=\"selected-substance-options\" *ngIf=\"showOptions\">\n        <button mat-mini-fab (click)=\"editSelectedSubstance()\">\n            <mat-icon aria-label=\"Edit Selected Substance\" svgIcon=\"edit\" matTooltip = \"change selection\"></mat-icon>\n        </button>\n        <a *ngIf = \"selectedSubstance.uuid\" mat-mini-fab target=\"_blank\" [routerLink]=\"['/substances', selectedSubstance.uuid]\">\n            <mat-icon aria-label=\"Open in new tab\" svgIcon=\"open_in_new\" matTooltip = \"view details in a new tab\"></mat-icon>\n        </a>\n      </div>\n      <div class=\"section-header\">{{header}}</div>\n      <img class = \"related-image\" *ngIf = \"selectedSubstance.uuid && !hideImage\" appSubstanceImage [entityId]=\"selectedSubstance.uuid\">\n      <div>\n        <span [innerHTML] = \"selectedSubstance._nameHTML\"></span>\n        <span class = 'code' *ngIf = \"errorMessage === 'Not in database'\"><br/>NOT IN DATABASE</span>\n      </div>\n    </div>\n  </div>\n"],"sourceRoot":"webpack:///"}