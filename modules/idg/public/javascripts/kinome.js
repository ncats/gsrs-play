(function () {
    var scaleX = 162.0/1591, scaleY = 200.0/1959;
    var canvas;
    
    function resetCanvas () {
        canvas.clear();
        annotateFamilies ();
    }
    
    function showKinases (genes, size, color) {
        for (var i = 0; i < genes.length; ++i) {
	    console.log(genes[i].name+': top='+~~(scaleY*genes[i].y)+' left='+~~(scaleX*genes[i].x));
            var cir = new fabric.Circle({
                radius: size,
                top: ~~(scaleY*genes[i].y),
                left: ~~(scaleX*genes[i].x),
                hasControls: false,
                //stroke: 'black',
                strokeWidth: 2,
		fill: color
            });
/*
            cir.setGradient('fill', {
                type: 'radial',
                x1: 0,
                y1: 0,
                x2: 0,
                y2: 0,
                r1: cir.width / 2,
                r2: 5,
                colorStops: {
                    0: color,
                    1: 'white'
                }
            });
*/
	    cir.setOpacity(0.6);
	    canvas.add(cir);
        }
    }
    
    function annotateFamilies () {
        // draw the family names
        var tk = new fabric.Text('TK', {
            fontFamily: 'Comic Sans',
            //shadow: 'rgba(0,0,0,0.3) 5px 5px 5px',
            angle: 0,
            top: 30,
            left: 1,
            fontSize: 10,
            fill: '#428bca'
        });
	tk.set('selectable',false);
        canvas.add(tk);
        
        var tkl = new fabric.Text('TKL', {
            fontFamily: 'Comic Sans',
            //shadow: 'rgba(0,0,0,0.3) 5px 5px 5px',
            //angle: 45,
            top: 32,
            left: 120,
            fontSize: 10,
            fill: '#428bca'                
        });
	tkl.set('selectable',false);
        canvas.add(tkl);
        
        var ste = new fabric.Text('STE', {
            fontFamily: 'Comic Sans',
            //angle: 45,
            top: 50,
            left: 130,
            fontSize: 10,
            fill: '#428bca'                
        });
	ste.set('selectable',false);
        canvas.add(ste);
        
        var ck1 = new fabric.Text('CK1', {
            fontFamily: 'Comic Sans',
            //angle: 45,
            top: 100,
            left: 130,
            fontSize: 10,
            fill: '#428bca'                
        });
	ck1.set('selectable',false);
        canvas.add(ck1);
        
        var agc = new fabric.Text('AGC', {
            fontFamily: 'Comic Sans',
            //angle: 45,
            top: 170,
            left: 130,
            fontSize: 10,
            fill: '#428bca'                 
        });
	agc.set('selectable',false);
        canvas.add(agc);
        
        var camk = new fabric.Text('CAMK', {
            fontFamily: 'Comic Sans',
            //angle: 45,
            top: 185,
            left: 90,
            fontSize: 10,
            fill: '#428bca'                 
        });
	camk.set('selectable', false);	
        canvas.add(camk);
        
        var cmgc = new fabric.Text('CMGC', {
            fontFamily: 'Comic Sans',
            //angle: 45,
            top: 135,
            left: 5,
            fontSize: 10,
            fill: '#428bca'                 
        });
	cmgc.set('selectable', false);
        canvas.add(cmgc);        
    }
    
    Kinome = function(id, image, data) {
	canvas = new fabric.StaticCanvas(id);
	fabric.Image.fromURL(image, function (img) {
            //img.setScaleX(scaleX);
            //img.setScaleY(scaleY);
            canvas.setBackgroundImage(img);
        
            //console.log('width='+img.getWidth()+' height='+img.getHeight() +' scaleX='+scaleX  +' scaleY='+scaleY);
	
            // setup the 5 categories
            //Tclin = setupKinases (Kinome.Tclin, 10, 'blue');
            //Tchem = setupKinases (Kinome.Tchem, 10, 'green');
            //Tmacro = setupKinases (Kinome.Tmacro, 10, 'red');
            //Tgray = setupKinases (Kinome.Tgray, 10, 'orange');
            //Tdark = setupKinases (Kinome.Tdark, 10, 'black');

            resetCanvas ();
	    showKinases (kinases.slice(0,5), 4, 'orange');
	    showKinases (kinases.slice(10,20), 4, 'red');
	    showKinases (kinases.slice(100,120), 4, 'blue');
            canvas.renderAll();
	});
    }

    var kinases = [
     {name: 'AKT3',
      x: 1392,
      y: 1278,
      width: 17,
      height: 18},
     {name: 'BRSK1',
      x: 785,
      y: 1654,
      width: 17,
      height: 19},
     {name: 'BRSK2',
      x: 773,
      y: 1643,
      width: 18,
      height: 18},
     {name: 'CDC42BPA',
      x: 1264,
      y: 1587,
      width: 20,
      height: 19},
     {name: 'CDC42BPG',
      x: 1266,
      y: 1532,
      width: 20,
      height: 20},
     {name: 'EIF2AK3',
      x: 573,
      y: 764,
      width: 19,
      height: 18},
     {name: 'GSG2',
      x: 899,
      y: 958,
      width: 17,
      height: 17},
     {name: 'GSK3A',
      x: 273,
      y: 964,
      width: 18,
      height: 18},
     {name: 'IKBKB',
      x: 588,
      y: 1078,
      width: 17,
      height: 16},
     {name: 'ILK',
      x: 992,
      y: 512,
      width: 18,
      height: 18},
     {name: 'MAP2K6',
      x: 1191,
      y: 912,
      width: 18,
      height: 18},
     {name: 'MAP2K7',
      x: 1101,
      y: 863,
      width: 18,
      height: 16},
     {name: 'MAP3K15',
      x: 1227,
      y: 620,
      width: 18,
      height: 20},
     {name: 'MAPK10',
      x: 253,
      y: 1117,
      width: 19,
      height: 20},
     {name: 'MAPK12',
      x: 178,
      y: 1102,
      width: 18,
      height: 16},
     {name: 'MAPK6',
      x: 323,
      y: 1036,
      width: 17,
      height: 18},
     {name: 'MAPK9',
      x: 275,
      y: 1110,
      width: 18,
      height: 18},
     {name: 'MAPKAPK2',
      x: 943,
      y: 1627,
      width: 21,
      height: 21},
     {name: 'MARK1',
      x: 766,
      y: 1838,
      width: 18,
      height: 20},
     {name: 'MARK4',
      x: 821,
      y: 1812,
      width: 20,
      height: 21},
     {name: 'NEK3',
      x: 413,
      y: 1329,
      width: 21,
      height: 22},
     {name: 'NEK5',
      x: 407,
      y: 1350,
      width: 19,
      height: 19},
     {name: 'NEK7',
      x: 592,
      y: 1229,
      width: 19,
      height: 18},
     {name: 'NPR2',
      x: 479,
      y: 636,
      width: 16,
      height: 16},
     {name: 'PAK2',
      x: 1230,
      y: 829,
      width: 18,
      height: 17},
     {name: 'PBK',
      x: 817,
      y: 697,
      width: 20,
      height: 19},
     {name: 'PRKACA',
      x: 1297,
      y: 1417,
      width: 18,
      height: 20},
     {name: 'PRKACB',
      x: 1279,
      y: 1432,
      width: 18,
      height: 19},
     {name: 'PRKCI',
      x: 1310,
      y: 1392,
      width: 16,
      height: 16},
     {name: 'RNASEL',
      x: 599,
      y: 870,
      width: 19,
      height: 19},
     {name: 'RPS6KB2',
      x: 1264,
      y: 1279,
      width: 18,
      height: 16},
     {name: 'STK32A',
      x: 1033,
      y: 1369,
      width: 18,
      height: 19},
     {name: 'TSSK2',
      x: 739,
      y: 1547,
      width: 18,
      height: 19},
     {name: 'WNK1',
      x: 1028,
      y: 667,
      width: 19,
      height: 19},
     {name: 'WNK2',
      x: 1011,
      y: 699,
      width: 18,
      height: 19},
     {name: 'ZAP70',
      x: 569,
      y: 412,
      width: 19,
      height: 19},
     {name: 'AAK1',
      x: 531,
      y: 1134,
      width: 16,
      height: 17},
     {name: 'ABL1',
      x: 296,
      y: 542,
      width: 15,
      height: 17},
     {name: 'ABL2',
      x: 288,
      y: 534,
      width: 16,
      height: 16},
     {name: 'ACVR1',
      x: 1128,
      y: 526,
      width: 20,
      height: 18},
     {name: 'ACVR1B',
      x: 1133,
      y: 432,
      width: 18,
      height: 18},
     {name: 'ACVR2A',
      x: 1090,
      y: 541,
      width: 18,
      height: 17},
     {name: 'ACVR2B',
      x: 1096,
      y: 551,
      width: 19,
      height: 16},
     {name: 'ACVRL1',
      x: 1123,
      y: 517,
      width: 17,
      height: 16},
     {name: 'AKT1',
      x: 1427,
      y: 1274,
      width: 18,
      height: 17},
     {name: 'AKT2',
      x: 1427,
      y: 1260,
      width: 20,
      height: 18},
     {name: 'ALK',
      x: 467,
      y: 291,
      width: 17,
      height: 16},
     {name: 'AMHR2',
      x: 1078,
      y: 585,
      width: 18,
      height: 17},
     {name: 'ANKK1',
      x: 914,
      y: 404,
      width: 21,
      height: 20},
     {name: 'AURKA',
      x: 908,
      y: 1266,
      width: 19,
      height: 20},
     {name: 'AURKB',
      x: 960,
      y: 1303,
      width: 18,
      height: 19},
     {name: 'AURKC',
      x: 935,
      y: 1313,
      width: 18,
      height: 19},
     {name: 'AXL',
      x: 547,
      y: 215,
      width: 21,
      height: 20},
     {name: 'BLK',
      x: 301,
      y: 387,
      width: 18,
      height: 19},
     {name: 'BMP2K',
      x: 541,
      y: 1148,
      width: 16,
      height: 17},
     {name: 'BMPR1A',
      x: 1153,
      y: 503,
      width: 20,
      height: 18},
     {name: 'BMPR1B',
      x: 1151,
      y: 490,
      width: 21,
      height: 17},
     {name: 'BMPR2',
      x: 1080,
      y: 597,
      width: 19,
      height: 18},
     {name: 'BMX',
      x: 272,
      y: 494,
      width: 18,
      height: 18},
     {name: 'BRAF',
      x: 1094,
      y: 458,
      width: 20,
      height: 18},
     {name: 'BTK',
      x: 269,
      y: 481,
      width: 18,
      height: 18},
     {name: 'CAMK1',
      x: 1130,
      y: 1815,
      width: 20,
      height: 20},
     {name: 'CAMK1D',
      x: 1108,
      y: 1821,
      width: 20,
      height: 20},
     {name: 'CAMK1G',
      x: 1122,
      y: 1775,
      width: 21,
      height: 22},
     {name: 'CAMK2A',
      x: 976,
      y: 1634,
      width: 18,
      height: 17},
     {name: 'CAMK2B',
      x: 1004,
      y: 1637,
      width: 20,
      height: 19},
     {name: 'CAMK2D',
      x: 986,
      y: 1643,
      width: 19,
      height: 18},
     {name: 'CAMK2G',
      x: 1023,
      y: 1630,
      width: 18,
      height: 18},
     {name: 'CAMK4',
      x: 1086,
      y: 1676,
      width: 19,
      height: 21},
     {name: 'CAMKK1',
      x: 596,
      y: 1142,
      width: 18,
      height: 18},
     {name: 'CAMKK2',
      x: 602,
      y: 1156,
      width: 18,
      height: 17},
     {name: 'CASK',
      x: 965,
      y: 1566,
      width: 20,
      height: 21},
     {name: 'CDC42BPB',
      x: 1282,
      y: 1574,
      width: 21,
      height: 19},
     {name: 'CDK1',
      x: 248,
      y: 1274,
      width: 19,
      height: 19},
     {name: 'CDK2',
      x: 220,
      y: 1298,
      width: 17,
      height: 19},
     {name: 'CDK3',
      x: 205,
      y: 1291,
      width: 18,
      height: 17},
     {name: 'CDK4',
      x: 244,
      y: 1154,
      width: 18,
      height: 18},
     {name: 'CDK5',
      x: 269,
      y: 1240,
      width: 19,
      height: 20},
     {name: 'CDK6',
      x: 250,
      y: 1168,
      width: 19,
      height: 20},
     {name: 'CDK7',
      x: 350,
      y: 1092,
      width: 20,
      height: 22},
     {name: 'CDK8',
      x: 436,
      y: 1136,
      width: 19,
      height: 21},
     {name: 'CDK9',
      x: 347,
      y: 1198,
      width: 19,
      height: 20},
     {name: 'CDKL2',
      x: 236,
      y: 990,
      width: 18,
      height: 18},
     {name: 'CDKL3',
      x: 241,
      y: 980,
      width: 19,
      height: 18},
     {name: 'CDKL5',
      x: 298,
      y: 1012,
      width: 18,
      height: 18},
     {name: 'CHEK1',
      x: 823,
      y: 1258,
      width: 17,
      height: 18},
     {name: 'CHEK2',
      x: 1009,
      y: 1480,
      width: 20,
      height: 21},
     {name: 'CHUK',
      x: 581,
      y: 1063,
      width: 20,
      height: 20},
     {name: 'CIT',
      x: 1203,
      y: 1499,
      width: 19,
      height: 19},
     {name: 'CLK1',
      x: 305,
      y: 833,
      width: 18,
      height: 19},
     {name: 'CLK2',
      x: 278,
      y: 837,
      width: 21,
      height: 21},
     {name: 'CLK3',
      x: 275,
      y: 853,
      width: 22,
      height: 22},
     {name: 'CLK4',
      x: 314,
      y: 821,
      width: 18,
      height: 20},
     {name: 'CSF1R',
      x: 654,
      y: 179,
      width: 18,
      height: 17},
     {name: 'CSK',
      x: 274,
      y: 526,
      width: 15,
      height: 15},
     {name: 'CSNK1A1',
      x: 1267,
      y: 965,
      width: 19,
      height: 18},
     {name: 'CSNK1A1L',
      x: 1268,
      y: 978,
      width: 19,
      height: 18},
     {name: 'CSNK1D',
      x: 1256,
      y: 928,
      width: 20,
      height: 18},
     {name: 'CSNK1E',
      x: 1264,
      y: 949,
      width: 19,
      height: 17},
     {name: 'CSNK1G1',
      x: 1222,
      y: 1016,
      width: 18,
      height: 18},
     {name: 'CSNK1G2',
      x: 1197,
      y: 997,
      width: 18,
      height: 18},
     {name: 'CSNK1G3',
      x: 1218,
      y: 1035,
      width: 19,
      height: 18},
     {name: 'CSNK2A1',
      x: 561,
      y: 922,
      width: 17,
      height: 18},
     {name: 'CSNK2A2',
      x: 556,
      y: 937,
      width: 19,
      height: 19},
     {name: 'DAPK1',
      x: 596,
      y: 1573,
      width: 19,
      height: 17},
     {name: 'DAPK2',
      x: 617,
      y: 1561,
      width: 19,
      height: 19},
     {name: 'DAPK3',
      x: 582,
      y: 1563,
      width: 17,
      height: 17},
     {name: 'DDR1',
      x: 453,
      y: 215,
      width: 17,
      height: 17},
     {name: 'DDR2',
      x: 455,
      y: 201,
      width: 19,
      height: 20},
     {name: 'DMPK',
      x: 1236,
      y: 1487,
      width: 20,
      height: 21},
     {name: 'DYRK1A',
      x: 299,
      y: 714,
      width: 17,
      height: 18},
     {name: 'DYRK1B',
      x: 289,
      y: 727,
      width: 18,
      height: 18},
     {name: 'DYRK2',
      x: 335,
      y: 692,
      width: 18,
      height: 19},
     {name: 'EGFR',
      x: 714,
      y: 264,
      width: 16,
      height: 16},
     {name: 'EIF2AK1',
      x: 673,
      y: 828,
      width: 19,
      height: 19},
     {name: 'EIF2AK2',
      x: 564,
      y: 771,
      width: 19,
      height: 19},
     {name: 'EIF2AK4',
      x: 633,
      y: 789,
      width: 18,
      height: 18},
     {name: 'EPHA1',
      x: 467,
      y: 419,
      width: 19,
      height: 18},
     {name: 'EPHA2',
      x: 430,
      y: 382,
      width: 20,
      height: 19},
     {name: 'EPHA3',
      x: 222,
      y: 203,
      width: 21,
      height: 19},
     {name: 'EPHA4',
      x: 264,
      y: 214,
      width: 19,
      height: 19},
     {name: 'EPHA5',
      x: 224,
      y: 181,
      width: 21,
      height: 19},
     {name: 'EPHA6',
      x: 303,
      y: 240,
      width: 19,
      height: 19},
     {name: 'EPHA7',
      x: 351,
      y: 294,
      width: 20,
      height: 20},
     {name: 'EPHA8',
      x: 381,
      y: 333,
      width: 19,
      height: 21},
     {name: 'EPHB1',
      x: 287,
      y: 162,
      width: 16,
      height: 17},
     {name: 'EPHB2',
      x: 293,
      y: 142,
      width: 19,
      height: 19},
     {name: 'EPHB3',
      x: 337,
      y: 200,
      width: 17,
      height: 17},
     {name: 'EPHB4',
      x: 390,
      y: 267,
      width: 19,
      height: 19},
     {name: 'EPHB6',
      x: 499,
      y: 465,
      width: 21,
      height: 21},
     {name: 'ERN1',
      x: 563,
      y: 841,
      width: 18,
      height: 17},
     {name: 'FER',
      x: 373,
      y: 559,
      width: 16,
      height: 16},
     {name: 'FES',
      x: 364,
      y: 549,
      width: 16,
      height: 16},
     {name: 'FGFR1',
      x: 561,
      y: 134,
      width: 21,
      height: 20},
     {name: 'FGFR2',
      x: 565,
      y: 93,
      width: 17,
      height: 20},
     {name: 'FGFR3',
      x: 582,
      y: 93,
      width: 21,
      height: 20},
     {name: 'FGFR4',
      x: 609,
      y: 150,
      width: 16,
      height: 16},
     {name: 'FGR',
      x: 330,
      y: 353,
      width: 19,
      height: 18},
     {name: 'FLT1',
      x: 616,
      y: 172,
      width: 16,
      height: 18},
     {name: 'FLT3',
      x: 659,
      y: 239,
      width: 16,
      height: 15},
     {name: 'FLT4',
      x: 629,
      y: 224,
      width: 17,
      height: 18},
     {name: 'FRK',
      x: 413,
      y: 453,
      width: 17,
      height: 19},
     {name: 'FYN',
      x: 299,
      y: 322,
      width: 18,
      height: 17},
     {name: 'GAK',
      x: 626,
      y: 1122,
      width: 17,
      height: 18},
     {name: 'GRK1',
      x: 1244,
      y: 1172,
      width: 19,
      height: 20},
     {name: 'GRK4',
      x: 1357,
      y: 1200,
      width: 18,
      height: 20},
     {name: 'GRK7',
      x: 1170,
      y: 1186,
      width: 18,
      height: 17},
     {name: 'GSK3B',
      x: 280,
      y: 953,
      width: 18,
      height: 20},
     {name: 'GUCY2C',
      x: 492,
      y: 666,
      width: 17,
      height: 17},
     {name: 'HCK',
      x: 203,
      y: 318,
      width: 19,
      height: 18},
     {name: 'HIPK1',
      x: 241,
      y: 783,
      width: 18,
      height: 19},
     {name: 'HIPK2',
      x: 242,
      y: 798,
      width: 18,
      height: 18},
     {name: 'HIPK3',
      x: 301,
      y: 789,
      width: 19,
      height: 17},
     {name: 'HIPK4',
      x: 373,
      y: 828,
      width: 19,
      height: 20},
     {name: 'HUNK',
      x: 867,
      y: 1467,
      width: 17,
      height: 19},
     {name: 'ICK',
      x: 331,
      y: 947,
      width: 18,
      height: 19},
     {name: 'IGF1R',
      x: 456,
      y: 235,
      width: 19,
      height: 20},
     {name: 'IKBKE',
      x: 594,
      y: 1088,
      width: 15,
      height: 16},
     {name: 'INSR',
      x: 451,
      y: 249,
      width: 16,
      height: 17},
     {name: 'INSRR',
      x: 490,
      y: 242,
      width: 17,
      height: 16},
     {name: 'IRAK1',
      x: 854,
      y: 483,
      width: 21,
      height: 21},
     {name: 'IRAK3',
      x: 837,
      y: 491,
      width: 19,
      height: 18},
     {name: 'IRAK4',
      x: 817,
      y: 613,
      width: 20,
      height: 22},
     {name: 'ITK',
      x: 301,
      y: 441,
      width: 19,
      height: 18},
     {name: 'JAK1',
      x: 767,
      y: 362,
      width: 16,
      height: 18},
     {name: 'JAK2',
      x: 784,
      y: 359,
      width: 16,
      height: 17},
     {name: 'JAK3',
      x: 793,
      y: 372,
      width: 18,
      height: 17},
     {name: 'KDR',
      x: 630,
      y: 181,
      width: 18,
      height: 17},
     {name: 'KIT',
      x: 670,
      y: 184,
      width: 18,
      height: 17},
     {name: 'LATS1',
      x: 1130,
      y: 1325,
      width: 18,
      height: 17},
     {name: 'LATS2',
      x: 1133,
      y: 1337,
      width: 19,
      height: 18},
     {name: 'LCK',
      x: 241,
      y: 348,
      width: 21,
      height: 20},
     {name: 'LIMK1',
      x: 924,
      y: 505,
      width: 18,
      height: 17},
     {name: 'LIMK2',
      x: 937,
      y: 512,
      width: 17,
      height: 18},
     {name: 'LRRK2',
      x: 902,
      y: 606,
      width: 19,
      height: 19},
     {name: 'LTK',
      x: 466,
      y: 302,
      width: 18,
      height: 18},
     {name: 'LYN',
      x: 208,
      y: 306,
      width: 19,
      height: 19},
     {name: 'MAK',
      x: 335,
      y: 936,
      width: 20,
      height: 20},
     {name: 'MAP2K1',
      x: 1218,
      y: 857,
      width: 17,
      height: 16},
     {name: 'MAP2K2',
      x: 1214,
      y: 869,
      width: 17,
      height: 17},
     {name: 'MAP2K3',
      x: 1198,
      y: 900,
      width: 18,
      height: 18},
     {name: 'MAP2K4',
      x: 1155,
      y: 911,
      width: 19,
      height: 20},
     {name: 'MAP2K5',
      x: 1094,
      y: 837,
      width: 18,
      height: 17},
     {name: 'MAP3K1',
      x: 1020,
      y: 722,
      width: 20,
      height: 18},
     {name: 'MAP3K10',
      x: 1040,
      y: 338,
      width: 18,
      height: 21},
     {name: 'MAP3K11',
      x: 1101,
      y: 269,
      width: 20,
      height: 21},
     {name: 'MAP3K12',
      x: 1053,
      y: 397,
      width: 17,
      height: 17},
     {name: 'MAP3K13',
      x: 1060,
      y: 407,
      width: 19,
      height: 18},
     {name: 'MAP3K2',
      x: 1174,
      y: 586,
      width: 18,
      height: 18},
     {name: 'MAP3K3',
      x: 1193,
      y: 590,
      width: 23,
      height: 20},
     {name: 'MAP3K4',
      x: 1079,
      y: 694,
      width: 20,
      height: 18},
     {name: 'MAP3K7',
      x: 1011,
      y: 514,
      width: 19,
      height: 18},
     {name: 'MAP3K9',
      x: 1126,
      y: 286,
      width: 21,
      height: 20},
     {name: 'MAP4K1',
      x: 1261,
      y: 660,
      width: 18,
      height: 18},
     {name: 'MAP4K2',
      x: 1306,
      y: 674,
      width: 18,
      height: 18},
     {name: 'MAP4K3',
      x: 1319,
      y: 655,
      width: 17,
      height: 17},
     {name: 'MAP4K4',
      x: 1411,
      y: 696,
      width: 19,
      height: 17},
     {name: 'MAP4K5',
      x: 1309,
      y: 639,
      width: 19,
      height: 19},
     {name: 'MAPK1',
      x: 152,
      y: 1094,
      width: 20,
      height: 18},
     {name: 'MAPK11',
      x: 175,
      y: 1131,
      width: 17,
      height: 17},
     {name: 'MAPK13',
      x: 184,
      y: 1113,
      width: 18,
      height: 18},
     {name: 'MAPK14',
      x: 184,
      y: 1144,
      width: 18,
      height: 18},
     {name: 'MAPK15',
      x: 383,
      y: 1013,
      width: 21,
      height: 22},
     {name: 'MAPK3',
      x: 153,
      y: 1078,
      width: 18,
      height: 20},
     {name: 'MAPK4',
      x: 317,
      y: 1019,
      width: 19,
      height: 20},
     {name: 'MAPK7',
      x: 207,
      y: 1054,
      width: 20,
      height: 21},
     {name: 'MAPK8',
      x: 241,
      y: 1112,
      width: 19,
      height: 18},
     {name: 'MARK2',
      x: 785,
      y: 1849,
      width: 18,
      height: 19},
     {name: 'MARK3',
      x: 805,
      y: 1834,
      width: 20,
      height: 20},
     {name: 'MAST1',
      x: 1141,
      y: 1489,
      width: 20,
      height: 18},
     {name: 'MATK',
      x: 267,
      y: 516,
      width: 16,
      height: 15},
     {name: 'MELK',
      x: 818,
      y: 1562,
      width: 17,
      height: 18},
     {name: 'MERTK',
      x: 555,
      y: 202,
      width: 20,
      height: 20},
     {name: 'MET',
      x: 565,
      y: 262,
      width: 20,
      height: 19},
     {name: 'MINK1',
      x: 1410,
      y: 714,
      width: 18,
      height: 18},
     {name: 'MKNK1',
      x: 877,
      y: 1600,
      width: 19,
      height: 20},
     {name: 'MKNK2',
      x: 889,
      y: 1603,
      width: 19,
      height: 21},
     {name: 'MST1R',
      x: 557,
      y: 274,
      width: 17,
      height: 18},
     {name: 'MST4',
      x: 1402,
      y: 681,
      width: 17,
      height: 18},
     {name: 'MUSK',
      x: 464,
      y: 187,
      width: 18,
      height: 18},
     {name: 'MYLK',
      x: 615,
      y: 1455,
      width: 17,
      height: 17},
     {name: 'MYLK2',
      x: 572,
      y: 1488,
      width: 21,
      height: 21},
     {name: 'MYO3A',
      x: 1361,
      y: 746,
      width: 16,
      height: 16},
     {name: 'MYO3B',
      x: 1357,
      y: 761,
      width: 18,
      height: 18},
     {name: 'NEK1',
      x: 416,
      y: 1366,
      width: 20,
      height: 19},
     {name: 'NEK11',
      x: 508,
      y: 1276,
      width: 21,
      height: 21},
     {name: 'NEK2',
      x: 542,
      y: 1264,
      width: 18,
      height: 19},
     {name: 'NEK4',
      x: 480,
      y: 1301,
      width: 19,
      height: 20},
     {name: 'NEK6',
      x: 601,
      y: 1220,
      width: 18,
      height: 17},
     {name: 'NEK9',
      x: 555,
      y: 1245,
      width: 17,
      height: 18},
     {name: 'NLK',
      x: 263,
      y: 1043,
      width: 19,
      height: 20},
     {name: 'NPR1',
      x: 489,
      y: 627,
      width: 15,
      height: 15},
     {name: 'NTRK1',
      x: 459,
      y: 166,
      width: 18,
      height: 16},
     {name: 'NTRK2',
      x: 437,
      y: 137,
      width: 17,
      height: 18},
     {name: 'NTRK3',
      x: 450,
      y: 120,
      width: 18,
      height: 20},
     {name: 'NUAK1',
      x: 808,
      y: 1678,
      width: 18,
      height: 18},
     {name: 'NUAK2',
      x: 797,
      y: 1669,
      width: 18,
      height: 18},
     {name: 'OXSR1',
      x: 1101,
      y: 724,
      width: 17,
      height: 18},
     {name: 'PAK1',
      x: 1252,
      y: 810,
      width: 17,
      height: 18},
     {name: 'PAK3',
      x: 1255,
      y: 825,
      width: 17,
      height: 15},
     {name: 'PAK4',
      x: 1314,
      y: 824,
      width: 16,
      height: 16},
     {name: 'PAK6',
      x: 1300,
      y: 851,
      width: 17,
      height: 17},
     {name: 'PAK7',
      x: 1321,
      y: 838,
      width: 17,
      height: 16},
     {name: 'PDGFRA',
      x: 673,
      y: 228,
      width: 18,
      height: 20},
     {name: 'PDGFRB',
      x: 684,
      y: 236,
      width: 19,
      height: 18},
     {name: 'PDPK1',
      x: 1049,
      y: 1229,
      width: 19,
      height: 19},
     {name: 'PHKG1',
      x: 1035,
      y: 1604,
      width: 19,
      height: 18},
     {name: 'PHKG2',
      x: 1019,
      y: 1610,
      width: 21,
      height: 21},
     {name: 'PIM1',
      x: 638,
      y: 1318,
      width: 19,
      height: 18},
     {name: 'PIM2',
      x: 701,
      y: 1318,
      width: 18,
      height: 18},
     {name: 'PIM3',
      x: 650,
      y: 1332,
      width: 17,
      height: 16},
     {name: 'PKMYT1',
      x: 1000,
      y: 908,
      width: 19,
      height: 20},
     {name: 'PKN1',
      x: 1302,
      y: 1318,
      width: 17,
      height: 17},
     {name: 'PKN2',
      x: 1304,
      y: 1335,
      width: 17,
      height: 16},
     {name: 'PLK1',
      x: 1106,
      y: 1142,
      width: 20,
      height: 22},
     {name: 'PLK2',
      x: 1165,
      y: 1144,
      width: 20,
      height: 18},
     {name: 'PLK3',
      x: 1168,
      y: 1122,
      width: 20,
      height: 21},
     {name: 'PLK4',
      x: 982,
      y: 1092,
      width: 18,
      height: 19},
     {name: 'PNCK',
      x: 1110,
      y: 1733,
      width: 20,
      height: 20},
     {name: 'PRKAA1',
      x: 768,
      y: 1625,
      width: 17,
      height: 17},
     {name: 'PRKAA2',
      x: 761,
      y: 1611,
      width: 18,
      height: 19},
     {name: 'PRKCA',
      x: 1445,
      y: 1458,
      width: 16,
      height: 17},
     {name: 'PRKCD',
      x: 1343,
      y: 1396,
      width: 16,
      height: 17},
     {name: 'PRKCE',
      x: 1386,
      y: 1389,
      width: 16,
      height: 16},
     {name: 'PRKCG',
      x: 1425,
      y: 1418,
      width: 16,
      height: 17},
     {name: 'PRKCH',
      x: 1385,
      y: 1371,
      width: 18,
      height: 19},
     {name: 'PRKCQ',
      x: 1336,
      y: 1405,
      width: 15,
      height: 15},
     {name: 'PRKD1',
      x: 872,
      y: 1553,
      width: 19,
      height: 18},
     {name: 'PRKD2',
      x: 883,
      y: 1515,
      width: 17,
      height: 18},
     {name: 'PRKD3',
      x: 890,
      y: 1556,
      width: 20,
      height: 19},
     {name: 'PRKG2',
      x: 1194,
      y: 1321,
      width: 19,
      height: 17},
     {name: 'PRKX',
      x: 1250,
      y: 1369,
      width: 18,
      height: 17},
     {name: 'PRPF4B',
      x: 415,
      y: 826,
      width: 18,
      height: 16},
     {name: 'PTK2',
      x: 532,
      y: 431,
      width: 18,
      height: 19},
     {name: 'PTK2B',
      x: 535,
      y: 417,
      width: 20,
      height: 20},
     {name: 'PTK6',
      x: 414,
      y: 482,
      width: 20,
      height: 18},
     {name: 'RAF1',
      x: 1080,
      y: 445,
      width: 20,
      height: 20},
     {name: 'RET',
      x: 579,
      y: 199,
      width: 18,
      height: 19},
     {name: 'RIPK1',
      x: 865,
      y: 566,
      width: 18,
      height: 19},
     {name: 'RIPK2',
      x: 877,
      y: 469,
      width: 17,
      height: 19},
     {name: 'RIPK4',
      x: 890,
      y: 404,
      width: 20,
      height: 20},
     {name: 'ROCK1',
      x: 1242,
      y: 1457,
      width: 21,
      height: 19},
     {name: 'ROCK2',
      x: 1240,
      y: 1472,
      width: 20,
      height: 19},
     {name: 'ROS1',
      x: 480,
      y: 280,
      width: 20,
      height: 20},
     {name: 'RPS6KA1',
      x: 1325,
      y: 1258,
      width: 18,
      height: 19},
     {name: 'RPS6KA2',
      x: 1393,
      y: 1228,
      width: 20,
      height: 20},
     {name: 'RPS6KA3',
      x: 1397,
      y: 1246,
      width: 18,
      height: 17},
     {name: 'RPS6KA4',
      x: 1223,
      y: 1255,
      width: 18,
      height: 16},
     {name: 'RPS6KA5',
      x: 1214,
      y: 1239,
      width: 17,
      height: 18},
     {name: 'RPS6KA6',
      x: 1354,
      y: 1252,
      width: 17,
      height: 17},
     {name: 'RPS6KB1',
      x: 1266,
      y: 1266,
      width: 18,
      height: 18},
     {name: 'SBK1',
      x: 636,
      y: 1052,
      width: 17,
      height: 17},
     {name: 'SGK3',
      x: 1427,
      y: 1311,
      width: 17,
      height: 18},
     {name: 'SLK',
      x: 1199,
      y: 761,
      width: 16,
      height: 16},
     {name: 'SNRK',
      x: 809,
      y: 1488,
      width: 16,
      height: 17},
     {name: 'SRC',
      x: 239,
      y: 273,
      width: 18,
      height: 19},
     {name: 'SRMS',
      x: 420,
      y: 467,
      width: 19,
      height: 18},
     {name: 'SRPK1',
      x: 377,
      y: 917,
      width: 19,
      height: 20},
     {name: 'SRPK2',
      x: 354,
      y: 903,
      width: 20,
      height: 18},
     {name: 'SRPK3',
      x: 358,
      y: 891,
      width: 18,
      height: 19},
     {name: 'STK10',
      x: 1201,
      y: 775,
      width: 17,
      height: 17},
     {name: 'STK11',
      x: 816,
      y: 1241,
      width: 16,
      height: 16},
     {name: 'STK16',
      x: 703,
      y: 1107,
      width: 17,
      height: 16},
     {name: 'STK17A',
      x: 612,
      y: 1514,
      width: 18,
      height: 18},
     {name: 'STK17B',
      x: 603,
      y: 1502,
      width: 19,
      height: 18},
     {name: 'STK24',
      x: 1417,
      y: 659,
      width: 17,
      height: 18},
     {name: 'STK25',
      x: 1404,
      y: 643,
      width: 17,
      height: 19},
     {name: 'STK3',
      x: 1370,
      y: 661,
      width: 17,
      height: 17},
     {name: 'STK32B',
      x: 1030,
      y: 1396,
      width: 17,
      height: 18},
     {name: 'STK33',
      x: 883,
      y: 1382,
      width: 18,
      height: 16},
     {name: 'STK35',
      x: 629,
      y: 838,
      width: 18,
      height: 18},
     {name: 'STK36',
      x: 692,
      y: 1180,
      width: 19,
      height: 18},
     {name: 'STK38',
      x: 1116,
      y: 1349,
      width: 18,
      height: 18},
     {name: 'STK38L',
      x: 1114,
      y: 1360,
      width: 18,
      height: 17},
     {name: 'STK39',
      x: 1115,
      y: 736,
      width: 17,
      height: 16},
     {name: 'STK4',
      x: 1360,
      y: 651,
      width: 18,
      height: 18},
     {name: 'SYK',
      x: 555,
      y: 416,
      width: 20,
      height: 22},
     {name: 'TAOK1',
      x: 1263,
      y: 781,
      width: 16,
      height: 17},
     {name: 'TAOK2',
      x: 1263,
      y: 798,
      width: 17,
      height: 15},
     {name: 'TAOK3',
      x: 1222,
      y: 799,
      width: 17,
      height: 16},
     {name: 'TBK1',
      x: 598,
      y: 1101,
      width: 16,
      height: 15},
     {name: 'TEC',
      x: 243,
      y: 457,
      width: 18,
      height: 18},
     {name: 'TEK',
      x: 668,
      y: 304,
      width: 18,
      height: 16},
     {name: 'TESK1',
      x: 952,
      y: 507,
      width: 19,
      height: 19},
     {name: 'TGFBR1',
      x: 1149,
      y: 444,
      width: 20,
      height: 20},
     {name: 'TGFBR2',
      x: 1084,
      y: 570,
      width: 18,
      height: 17},
     {name: 'TIE1',
      x: 684,
      y: 311,
      width: 17,
      height: 16},
     {name: 'TLK1',
      x: 916,
      y: 1132,
      width: 21,
      height: 20},
     {name: 'TLK2',
      x: 918,
      y: 1115,
      width: 19,
      height: 18},
     {name: 'TNIK',
      x: 1374,
      y: 720,
      width: 18,
      height: 17},
     {name: 'TNK1',
      x: 693,
      y: 358,
      width: 19,
      height: 18},
     {name: 'TNK2',
      x: 682,
      y: 359,
      width: 17,
      height: 18},
     {name: 'TNNI3K',
      x: 1015,
      y: 528,
      width: 19,
      height: 19},
     {name: 'TSSK1B',
      x: 728,
      y: 1536,
      width: 18,
      height: 18},
     {name: 'TSSK3',
      x: 730,
      y: 1517,
      width: 18,
      height: 18},
     {name: 'TTK',
      x: 568,
      y: 888,
      width: 17,
      height: 18},
     {name: 'TXK',
      x: 249,
      y: 468,
      width: 18,
      height: 19},
     {name: 'TYK2',
      x: 755,
      y: 356,
      width: 16,
      height: 18},
     {name: 'TYRO3',
      x: 583,
      y: 219,
      width: 20,
      height: 20},
     {name: 'ULK1',
      x: 621,
      y: 1173,
      width: 19,
      height: 19},
     {name: 'ULK2',
      x: 627,
      y: 1189,
      width: 19,
      height: 19},
     {name: 'ULK3',
      x: 678,
      y: 1144,
      width: 18,
      height: 19},
     {name: 'VRK2',
      x: 1171,
      y: 1082,
      width: 18,
      height: 18},
     {name: 'WEE1',
      x: 1075,
      y: 915,
      width: 20,
      height: 19},
     {name: 'YES1',
      x: 245,
      y: 264,
      width: 17,
      height: 17},
     {name: 'ZAK',
      x: 981,
      y: 456,
      width: 21,
      height: 20},
     {name: 'CDKL4',
      x: 247,
      y: 1022,
      width: 19,
      height: 19},
     {name: 'KIAA1804',
      x: 1102,
      y: 326,
      width: 18,
      height: 17},
     {name: 'PSKH2',
      x: 1114,
      y: 1632,
      width: 18,
      height: 20},
     {name: 'RPS6KL1',
      x: 1312,
      y: 1227,
      width: 18,
      height: 18},
     {name: 'SGK223',
      x: 564,
      y: 1014,
      width: 19,
      height: 18},
     {name: 'SGK494',
      x: 1021,
      y: 1188,
      width: 20,
      height: 21},
     {name: 'TBCK',
      x: 710,
      y: 862,
      width: 19,
      height: 18},
     {name: 'DYRK4',
      x: 361,
      y: 713,
      width: 19,
      height: 19},
     {name: 'EPHA10',
      x: 533,
      y: 508,
      width: 20,
      height: 20},
     {name: 'MAP3K14',
      x: 896,
      y: 813,
      width: 17,
      height: 16},
     {name: 'MAST3',
      x: 1097,
      y: 1372,
      width: 18,
      height: 19},
     {name: 'MAST4',
      x: 1117,
      y: 1489,
      width: 19,
      height: 18},
     {name: 'MOS',
      x: 792,
      y: 645,
      width: 20,
      height: 22},
     {name: 'NEK10',
      x: 659,
      y: 1225,
      width: 19,
      height: 18},
     {name: 'NRBP2',
      x: 934,
      y: 710,
      width: 20,
      height: 21},
     {name: 'PDIK1L',
      x: 618,
      y: 850,
      width: 20,
      height: 19},
     {name: 'PKN3',
      x: 1290,
      y: 1346,
      width: 17,
      height: 17},
     {name: 'PRKACG',
      x: 1244,
      y: 1406,
      width: 19,
      height: 19},
     {name: 'PRKY',
      x: 1254,
      y: 1354,
      width: 18,
      height: 19},
     {name: 'PSKH1',
      x: 1135,
      y: 1623,
      width: 18,
      height: 20},
     {name: 'RPS6KC1',
      x: 1314,
      y: 1214,
      width: 19,
      height: 18},
     {name: 'SCYL2',
      x: 689,
      y: 812,
      width: 20,
      height: 19},
     {name: 'SCYL3',
      x: 701,
      y: 801,
      width: 19,
      height: 19},
     {name: 'STK31',
      x: 871,
      y: 1009,
      width: 19,
      height: 18},
     {name: 'TESK2',
      x: 963,
      y: 520,
      width: 20,
      height: 19},
     {name: 'TSSK4',
      x: 808,
      y: 1460,
      width: 18,
      height: 20},
     {name: 'ULK4',
      x: 700,
      y: 1193,
      width: 19,
      height: 19},
     {name: 'VRK3',
      x: 1106,
      y: 992,
      width: 18,
      height: 19},
     {name: 'AATK',
      x: 764,
      y: 430,
      width: 18,
      height: 18},
     {name: 'ACVR1C',
      x: 1123,
      y: 486,
      width: 18,
      height: 18},
     {name: 'ADRBK1',
      x: 1145,
      y: 1165,
      width: 18,
      height: 19},
     {name: 'ADRBK2',
      x: 1156,
      y: 1178,
      width: 18,
      height: 17},
     {name: 'ARAF',
      x: 1072,
      y: 496,
      width: 18,
      height: 18},
     {name: 'BUB1',
      x: 1070,
      y: 1042,
      width: 18,
      height: 17},
     {name: 'BUB1B',
      x: 1056,
      y: 1051,
      width: 17,
      height: 18},
     {name: 'CAMKV',
      x: 1080,
      y: 1592,
      width: 18,
      height: 21},
     {name: 'CDC7',
      x: 636,
      y: 942,
      width: 20,
      height: 20},
     {name: 'CDK10',
      x: 337,
      y: 1121,
      width: 20,
      height: 19},
     {name: 'CDKL1',
      x: 239,
      y: 1007,
      width: 19,
      height: 18},
     {name: 'DYRK3',
      x: 319,
      y: 700,
      width: 18,
      height: 19},
     {name: 'ERN2',
      x: 562,
      y: 851,
      width: 17,
      height: 15},
     {name: 'GRK5',
      x: 1357,
      y: 1179,
      width: 19,
      height: 20},
     {name: 'GRK6',
      x: 1295,
      y: 1203,
      width: 18,
      height: 19},
     {name: 'GUCY2D',
      x: 513,
      y: 702,
      width: 16,
      height: 17},
     {name: 'GUCY2F',
      x: 510,
      y: 715,
      width: 17,
      height: 16},
     {name: 'IRAK2',
      x: 829,
      y: 553,
      width: 18,
      height: 19},
     {name: 'KALRN',
      x: 720,
      y: 1449,
      width: 18,
      height: 18},
     {name: 'KSR1',
      x: 1027,
      y: 467,
      width: 18,
      height: 18},
     {name: 'KSR2',
      x: 1044,
      y: 466,
      width: 18,
      height: 17},
     {name: 'LMTK2',
      x: 775,
      y: 437,
      width: 17,
      height: 18},
     {name: 'LMTK3',
      x: 760,
      y: 489,
      width: 18,
      height: 19},
     {name: 'LRRK1',
      x: 885,
      y: 601,
      width: 19,
      height: 17},
     {name: 'MAP3K5',
      x: 1211,
      y: 606,
      width: 20,
      height: 20},
     {name: 'MAP3K6',
      x: 1178,
      y: 667,
      width: 19,
      height: 20},
     {name: 'MAP3K8',
      x: 1147,
      y: 616,
      width: 19,
      height: 20},
     {name: 'MAPKAPK3',
      x: 927,
      y: 1639,
      width: 20,
      height: 19},
     {name: 'MAPKAPK5',
      x: 943,
      y: 1599,
      width: 19,
      height: 20},
     {name: 'MAST2',
      x: 1095,
      y: 1424,
      width: 20,
      height: 20},
     {name: 'MASTL',
      x: 1069,
      y: 1381,
      width: 18,
      height: 20},
     {name: 'MOK',
      x: 350,
      y: 970,
      width: 19,
      height: 19},
     {name: 'NEK8',
      x: 562,
      y: 1234,
      width: 18,
      height: 19},
     {name: 'NRBP1',
      x: 914,
      y: 718,
      width: 19,
      height: 17},
     {name: 'NRK',
      x: 1330,
      y: 727,
      width: 17,
      height: 17},
     {name: 'OBSCN',
      x: 672,
      y: 1393,
      width: 18,
      height: 16},
     {name: 'PASK',
      x: 809,
      y: 1226,
      width: 17,
      height: 16},
     {name: 'PDK1',
      x: 1049,
      y: 1229,
      width: 19,
      height: 19},
     {name: 'PIK3R4',
      x: 834,
      y: 1032,
      width: 19,
      height: 19},
     {name: 'PINK1',
      x: 622,
      y: 992,
      width: 18,
      height: 19},
     {name: 'PKD2',
      x: 883,
      y: 1515,
      width: 17,
      height: 18},
     {name: 'PRKCZ',
      x: 1304,
      y: 1399,
      width: 19,
      height: 19},
     {name: 'PRKG1',
      x: 1192,
      y: 1334,
      width: 17,
      height: 17},
     {name: 'PTK7',
      x: 534,
      y: 333,
      width: 19,
      height: 21},
     {name: 'PXK',
      x: 852,
      y: 1022,
      width: 19,
      height: 20},
     {name: 'RIPK3',
      x: 873,
      y: 523,
      width: 17,
      height: 18},
     {name: 'ROR1',
      x: 522,
      y: 196,
      width: 17,
      height: 16},
     {name: 'ROR2',
      x: 507,
      y: 193,
      width: 17,
      height: 19},
     {name: 'RYK',
      x: 608,
      y: 328,
      width: 16,
      height: 16},
     {name: 'SCYL1',
      x: 728,
      y: 803,
      width: 21,
      height: 20},
     {name: 'SGK2',
      x: 1399,
      y: 1310,
      width: 18,
      height: 18},
     {name: 'SPEG',
      x: 678,
      y: 1408,
      width: 17,
      height: 18},
     {name: 'STK32C',
      x: 1010,
      y: 1402,
      width: 18,
      height: 19},
     {name: 'STK40',
      x: 751,
      y: 1219,
      width: 20,
      height: 18},
     {name: 'STYK1',
      x: 685,
      y: 617,
      width: 17,
      height: 18},
     {name: 'TEX14',
      x: 722,
      y: 766,
      width: 19,
      height: 20},
     {name: 'TP53RK',
      x: 900,
      y: 946,
      width: 18,
      height: 17},
     {name: 'TRIB1',
      x: 541,
      y: 1355,
      width: 17,
      height: 18},
     {name: 'TRIB2',
      x: 532,
      y: 1339,
      width: 17,
      height: 19},
     {name: 'TRIB3',
      x: 557,
      y: 1318,
      width: 17,
      height: 19},
     {name: 'TRIO',
      x: 711,
      y: 1439,
      width: 16,
      height: 18},
     {name: 'TSSK6',
      x: 719,
      y: 1504,
      width: 17,
      height: 18},
     {name: 'TTBK1',
      x: 1170,
      y: 941,
      width: 18,
      height: 18},
     {name: 'TTBK2',
      x: 1174,
      y: 961,
      width: 19,
      height: 18},
     {name: 'TTN',
      x: 663,
      y: 1423,
      width: 17,
      height: 17},
     {name: 'UHMK1',
      x: 566,
      y: 900,
      width: 17,
      height: 17},
     {name: 'VRK1',
      x: 1185,
      y: 1067,
      width: 19,
      height: 21},
     {name: 'WNK3',
      x: 1036,
      y: 682,
      width: 18,
      height: 18},
     {name: 'WNK4',
      x: 965,
      y: 737,
      width: 18,
      height: 16}
   ];
    

    function highlights (objs, labels, term, color) {
        labelCb = document.getElementById('kinase-cb-show-label');
        for (var i = 0; i < objs.length; ++i) {
            var pos = labels[i].name.search(term);
            if (pos >= 0) {
                if (labelCb.checked) {
                    var label = createLabel
                    (labels[i].name, objs[i].left, objs[i].top, color);
                    canvas.add(label);
                }
                else {
                    canvas.add(objs[i]);
                }
            }
        }
    }
    
    function searchKinase () {
        var term = document.getElementById('kinase-search').value;
        if (term.length > 0) {
            console.log('term='+term);
            highlights (Tclin, Kinome.Tclin, term.toUpperCase(), 'blue');
            highlights (Tchem, Kinome.Tchem, term.toUpperCase(), 'green');
            highlights (Tmacro, Kinome.Tmacro, term.toUpperCase(), 'red');
            highlights (Tgray, Kinome.Tgray, term.toUpperCase(), 'orange');
            highlights (Tdark, Kinome.Tdark, term.toUpperCase(), 'black');
        }
    }
    
    function createLabel (name, x, y, color) {
        var label = new fabric.Text(name, {
            fontSize: 10,
            fontFamily: 'helvetica',
            left: x,
            top: y,
            fill: color
        });
        return label;
    }
    
    Kinome.toggleKinase = function () {
        TclinCb = document.getElementById('kinase-cb-tclin');
        TchemCb = document.getElementById('kinase-cb-tchem');
        TmacroCb = document.getElementById('kinase-cb-tmacro');
        TgrayCb = document.getElementById('kinase-cb-tgray');
        TdarkCb = document.getElementById('kinase-cb-tdark');
        labelCb = document.getElementById('kinase-cb-show-label');

	/*
        console.log('Tclin='+Tclin.length+' '+TclinCb.checked
                +' Tchem='+Tchem.length+' '+TchemCb.checked
                +' Tmacro='+Tmacro.length+' '+TmacroCb.checked
                +' Tgray='+Tgray.length+' '+TgrayCb.checked
                +' Tdark='+Tdark.length+' '+TdarkCb.checked);
        */
	
        resetCanvas ();
        searchKinase ();
        
        if (TclinCb.checked) {
            for (i = 0; i < Tclin.length; ++i) {
                if (labelCb.checked) {
                    label = createLabel 
                    (Kinome.Tclin[i].name, Tclin[i].left, Tclin[i].top, 'blue');
                    canvas.add(label);
                }
                else {
                    canvas.add(Tclin[i]);
                }
            }                
        }
        
        if (TchemCb.checked) {
            for (i = 0; i < Tchem.length; ++i) {
                if (labelCb.checked) {
                    label = createLabel 
                    (Kinome.Tchem[i].name, Tchem[i].left, Tchem[i].top,'green');
                    canvas.add(label);
                }                
                else {
                    canvas.add(Tchem[i]);
                }
            }
        }
        
        if (TmacroCb.checked) {
            for (i = 0; i < Tmacro.length; ++i) {
                if (labelCb.checked) {
                    label = createLabel
                    (Kinome.Tmacro[i].name, Tmacro[i].left, Tmacro[i].top,'red');
                    canvas.add(label);
                }                
                else {
                    canvas.add(Tmacro[i]);
                }
            }
        }
        
        if (TgrayCb.checked) {
            for (i = 0; i < Tgray.length; ++i) {
                if (labelCb.checked) {
                    label = createLabel 
                    (Kinome.Tgray[i].name, Tgray[i].left, Tgray[i].top,'orange');
                    canvas.add(label);
                }
                else {
                    canvas.add(Tgray[i]);
                }
            }
        }
    
        if (TdarkCb.checked) {
            for (i = 0; i < Tdark.length; ++i) {
                if (labelCb.checked) {
                    label = createLabel 
                    (Kinome.Tdark[i].name, Tdark[i].left, Tdark[i].top,'black');
                    canvas.add(label);
                }                
                else {
                    canvas.add(Tdark[i]);
                }
            }
        }
    
        canvas.renderAll();
    };
  
})();
